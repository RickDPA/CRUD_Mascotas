(self.webpackChunkCRUD_Mascota=self.webpackChunkCRUD_Mascota||[]).push([[179],{2011:(yt,Ee,V)=>{"use strict";V.d(Ee,{Dh:()=>ye,GT:()=>ge,cc:()=>De,hO:()=>je,on:()=>G,pX:()=>se,xv:()=>ve});var C=V(4650),u=V(127),B=V(5813);yt=V.hmd(yt);const le=["ngOnDestroy"],se=(fe,Ye,st,Pe={})=>new Proxy(fe,{get:(Me,ke)=>st.runOutsideAngular(()=>{var Qe;if(fe[ke])return!(null===(Qe=Pe?.spy)||void 0===Qe)&&Qe.get&&Pe.spy.get(ke,fe[ke]),fe[ke];if(le.indexOf(ke)>-1)return()=>{};const Xe=Ye.toPromise().then(K=>{const Te=K&&K[ke];return"function"==typeof Te?Te.bind(K):Te&&Te.then?Te.then(ee=>st.run(()=>ee)):st.run(()=>Te)});return new Proxy(()=>{},{get:(K,Te)=>Xe[Te],apply:(K,Te,ee)=>Xe.then(ie=>{var pe;const ue=ie&&ie(...ee);return!(null===(pe=Pe?.spy)||void 0===pe)&&pe.apply&&Pe.spy.apply(ke,ee,ue),ue})})})}),ge=(fe,Ye)=>{Ye.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Pe=>{Object.defineProperty(fe.prototype,Pe,Object.getOwnPropertyDescriptor(st.prototype||st,Pe))})})};class be{constructor(Ye){return Ye}}const ye=new C.InjectionToken("angularfire2.app.options"),ve=new C.InjectionToken("angularfire2.app.name");function G(fe,Ye,st){const Me="object"==typeof st&&st||{};Me.name=Me.name||"string"==typeof st&&st||"[DEFAULT]";const Qe=u.Z.apps.filter(Xe=>Xe&&Xe.name===Me.name)[0]||Ye.runOutsideAngular(()=>u.Z.initializeApp(fe,Me));try{JSON.stringify(fe)!==JSON.stringify(Qe.options)&&q("error",`${Qe.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(Qe)}const q=(fe,...Ye)=>{(0,C.isDevMode)()&&typeof console<"u"&&console[fe](...Ye)},X={provide:be,useFactory:G,deps:[ye,C.NgZone,[new C.Optional,ve]]};let je=(()=>{class fe{constructor(st){u.Z.registerVersion("angularfire",B.q4.full,"core"),u.Z.registerVersion("angularfire",B.q4.full,"app-compat"),u.Z.registerVersion("angular",C.VERSION.full,st.toString())}static initializeApp(st,Pe){return{ngModule:fe,providers:[{provide:ye,useValue:st},{provide:ve,useValue:Pe}]}}}return fe.\u0275fac=function(st){return new(st||fe)(C.\u0275\u0275inject(C.PLATFORM_ID))},fe.\u0275mod=C.\u0275\u0275defineNgModule({type:fe}),fe.\u0275inj=C.\u0275\u0275defineInjector({providers:[X]}),fe})();function De(fe,Ye,st,Pe,Me){const[,ke,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===fe)||[];if(ke)return function ce(fe,Ye){try{return fe.toString()===Ye.toString()}catch{return fe===Ye}}(Me,Qe)||(me("error",`${Ye} was already initialized on the ${st} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Me,was:Qe})),ke;{const Xe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([fe,Xe,Me]),Xe}}const Ge=!!yt.hot,me=(fe,...Ye)=>{(0,C.isDevMode)()&&typeof console<"u"&&console[fe](...Ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(yt,Ee,V)=>{"use strict";V.d(Ee,{q4:()=>ci,iC:()=>mo,HU:()=>su,vb:()=>Ar,JM:()=>zo});var C=V(4650),u=V(5867),B=V(5861),le=V(9681),se=V(2090),ge=V(4859),be=V(1877),ye=V(8766);const ve="@firebase/installations",G="0.5.16",X=`w:${G}`,je="FIS_v2",Ye=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function Pe({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Me(S){return{token:S.token,requestStatus:2,expiresIn:ie(S.expiresIn),creationTime:Date.now()}}function ke(S,A){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(S,A){const $=(yield A.json()).error;return Ye.create("request-failed",{requestName:S,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function Xe({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function K(S,{refreshToken:A}){const O=Xe(S);return O.append("Authorization",function pe(S){return`${je} ${S}`}(A)),O}function Te(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,B.Z)(function*(S){const A=yield S();return A.status>=500&&A.status<600?S():A})).apply(this,arguments)}function ie(S){return Number(S.replace("s","000"))}function ue(S,A){return Le.apply(this,arguments)}function Le(){return(Le=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:A},{fid:O}){const $=Pe(S),ne=Xe(S),W=A.getImmediate({optional:!0});if(W){const Fe=yield W.getHeartbeatsHeader();Fe&&ne.append("x-firebase-client",Fe)}const Ze={method:"POST",headers:ne,body:JSON.stringify({fid:O,authVersion:je,appId:S.appId,sdkVersion:X})},Et=yield Te(()=>fetch($,Ze));if(Et.ok){const Fe=yield Et.json();return{fid:Fe.fid||O,registrationStatus:2,refreshToken:Fe.refreshToken,authToken:Me(Fe.authToken)}}throw yield ke("Create Installation",Et)})).apply(this,arguments)}function We(S){return new Promise(A=>{setTimeout(A,S)})}const tn=/^[cdef][\w-]{21}$/;function it(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const O=function gn(S){return function bt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return tn.test(O)?O:""}catch{return""}}function Tn(S){return`${S.appName}!${S.appId}`}const nn=new Map;function rn(S,A){const O=Tn(S);vn(O,A),function ps(S,A){const O=function qr(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=S=>{vn(S.data.key,S.data.fid)}),Jr}();O&&O.postMessage({key:S,fid:A}),function Xr(){0===nn.size&&Jr&&(Jr.close(),Jr=null)}()}(O,A)}function vn(S,A){const O=nn.get(S);if(O)for(const $ of O)$(A)}let Jr=null;const kr="firebase-installations-store";let ei=null;function zs(){return ei||(ei=(0,ye.X3)("firebase-installations-database",1,{upgrade:(S,A)=>{0===A&&S.createObjectStore(kr)}})),ei}function ot(S,A){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,B.Z)(function*(S,A){const O=Tn(S),ne=(yield zs()).transaction(kr,"readwrite"),W=ne.objectStore(kr),Se=yield W.get(O);return yield W.put(A,O),yield ne.done,(!Se||Se.fid!==A.fid)&&rn(S,A.fid),A})).apply(this,arguments)}function gs(S){return gr.apply(this,arguments)}function gr(){return(gr=(0,B.Z)(function*(S){const A=Tn(S),$=(yield zs()).transaction(kr,"readwrite");yield $.objectStore(kr).delete(A),yield $.done})).apply(this,arguments)}function ti(S,A){return ms.apply(this,arguments)}function ms(){return(ms=(0,B.Z)(function*(S,A){const O=Tn(S),ne=(yield zs()).transaction(kr,"readwrite"),W=ne.objectStore(kr),Se=yield W.get(O),Ze=A(Se);return void 0===Ze?yield W.delete(O):yield W.put(Ze,O),yield ne.done,Ze&&(!Se||Se.fid!==Ze.fid)&&rn(S,Ze.fid),Ze})).apply(this,arguments)}function Wn(S){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,B.Z)(function*(S){let A;const O=yield ti(S.appConfig,$=>{const ne=$t($),W=St(S,ne);return A=W.registrationPromise,W.installationEntry});return""===O.fid?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}})).apply(this,arguments)}function $t(S){return Vt(S||{fid:it(),registrationStatus:0})}function St(S,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ye.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},$=function It(S,A){return mn.apply(this,arguments)}(S,O);return{installationEntry:O,registrationPromise:$}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:mr(S)}:{installationEntry:A}}function mn(){return(mn=(0,B.Z)(function*(S,A){try{const O=yield ue(S,A);return ot(S.appConfig,O)}catch(O){throw st(O)&&409===O.customData.serverCode?yield gs(S.appConfig):yield ot(S.appConfig,{fid:A.fid,registrationStatus:0}),O}})).apply(this,arguments)}function mr(S){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,B.Z)(function*(S){let A=yield ni(S.appConfig);for(;1===A.registrationStatus;)yield We(100),A=yield ni(S.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:$}=yield Wn(S);return $||O}return A})).apply(this,arguments)}function ni(S){return ti(S,A=>{if(!A)throw Ye.create("installation-not-found");return Vt(A)})}function Vt(S){return function Ni(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function sn(S,A){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:A},O){const $=un(S,O),ne=K(S,O),W=A.getImmediate({optional:!0});if(W){const Fe=yield W.getHeartbeatsHeader();Fe&&ne.append("x-firebase-client",Fe)}const Ze={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:X,appId:S.appId}})},Et=yield Te(()=>fetch($,Ze));if(Et.ok)return Me(yield Et.json());throw yield ke("Generate Auth Token",Et)})).apply(this,arguments)}function un(S,{fid:A}){return`${Pe(S)}/${A}/authTokens:generate`}function _r(S){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,B.Z)(function*(S,A=!1){let O;const $=yield ti(S.appConfig,W=>{if(!Wt(W))throw Ye.create("not-registered");const Se=W.authToken;if(!A&&Z(Se))return W;if(1===Se.requestStatus)return O=mt(S,A),W;{if(!navigator.onLine)throw Ye.create("app-offline");const Ze=te(W);return O=Pt(S,Ze),Ze}});return O?yield O:$.authToken})).apply(this,arguments)}function mt(S,A){return Be.apply(this,arguments)}function Be(){return(Be=(0,B.Z)(function*(S,A){let O=yield pt(S.appConfig);for(;1===O.authToken.requestStatus;)yield We(100),O=yield pt(S.appConfig);const $=O.authToken;return 0===$.requestStatus?_r(S,A):$})).apply(this,arguments)}function pt(S){return ti(S,A=>{if(!Wt(A))throw Ye.create("not-registered");return function Oe(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Pt(S,A){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,B.Z)(function*(S,A){try{const O=yield sn(S,A),$=Object.assign(Object.assign({},A),{authToken:O});return yield ot(S.appConfig,$),O}catch(O){if(!st(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const $=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield ot(S.appConfig,$)}else yield gs(S.appConfig);throw O}})).apply(this,arguments)}function Wt(S){return void 0!==S&&2===S.registrationStatus}function Z(S){return 2===S.requestStatus&&!function z(S){const A=Date.now();return A<S.creationTime||S.creationTime+S.expiresIn<A+36e5}(S)}function te(S){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:A})}function tt(){return(tt=(0,B.Z)(function*(S){const A=S,{installationEntry:O,registrationPromise:$}=yield Wn(A);return $?$.catch(console.error):_r(A).catch(console.error),O.fid})).apply(this,arguments)}function ln(){return(ln=(0,B.Z)(function*(S,A=!1){const O=S;return yield An(O),(yield _r(O,A)).token})).apply(this,arguments)}function An(S){return on.apply(this,arguments)}function on(){return(on=(0,B.Z)(function*(S){const{registrationPromise:A}=yield Wn(S);A&&(yield A)})).apply(this,arguments)}function _s(S){return Ye.create("missing-app-config-values",{valueName:S})}const Mi="installations",_n=S=>{const A=S.getProvider("app").getImmediate(),O=function bn(S){if(!S||!S.options)throw _s("App Configuration");if(!S.name)throw _s("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!S.options[O])throw _s(O);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,le._getProvider)(A,"heartbeat"),_delete:()=>Promise.resolve()}},yn=S=>{const A=S.getProvider("app").getImmediate(),O=(0,le._getProvider)(A,Mi).getImmediate();return{getId:()=>function re(S){return tt.apply(this,arguments)}(O),getToken:ne=>function Tt(S){return ln.apply(this,arguments)}(O,ne)}};(function So(){(0,le._registerComponent)(new ge.wA(Mi,_n,"PUBLIC")),(0,le._registerComponent)(new ge.wA("installations-internal",yn,"PRIVATE"))})(),(0,le.registerVersion)(ve,G),(0,le.registerVersion)(ve,G,"esm2017");const ut="@firebase/remote-config",Xn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gc{constructor(A,O,$,ne){this.client=A,this.storage=O,this.storageCache=$,this.logger=ne}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-O,ne=$<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ne}.`),ne}fetch(A){var O=this;return(0,B.Z)(function*(){const[$,ne]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ne&&O.isCachedDataFresh(A.cacheMaxAgeMillis,$))return ne;A.eTag=ne&&ne.eTag;const W=yield O.client.fetch(A),Se=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&Se.push(O.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(Se),W})()}}function rl(S=navigator){return S.languages&&S.languages[0]||S.language}class cr{constructor(A,O,$,ne,W,Se){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=$,this.projectId=ne,this.apiKey=W,this.appId=Se}fetch(A){var O=this;return(0,B.Z)(function*(){var $,ne,W;const[Se,Ze]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Mt={sdk_version:O.sdkVersion,app_instance_id:Se,app_instance_id_token:Ze,app_id:O.appId,language_code:rl()},He={method:"POST",headers:ze,body:JSON.stringify(Mt)},he=fetch(Fe,He),Ve=new Promise((Dl,Ra)=>{A.signal.addEventListener(()=>{const ou=new Error("The operation was aborted.");ou.name="AbortError",Ra(ou)})});let Hn;try{yield Promise.race([he,Ve]),Hn=yield he}catch(Dl){let Ra="fetch-client-network";throw"AbortError"===(null===($=Dl)||void 0===$?void 0:$.name)&&(Ra="fetch-timeout"),Xn.create(Ra,{originalErrorMessage:null===(ne=Dl)||void 0===ne?void 0:ne.message})}let _o=Hn.status;const bl=Hn.headers.get("ETag")||void 0;let Ko,xa;if(200===Hn.status){let Dl;try{Dl=yield Hn.json()}catch(Ra){throw Xn.create("fetch-client-parse",{originalErrorMessage:null===(W=Ra)||void 0===W?void 0:W.message})}Ko=Dl.entries,xa=Dl.state}if("INSTANCE_STATE_UNSPECIFIED"===xa?_o=500:"NO_CHANGE"===xa?_o=304:("NO_TEMPLATE"===xa||"EMPTY_CONFIG"===xa)&&(Ko={}),304!==_o&&200!==_o)throw Xn.create("fetch-status",{httpStatus:_o});return{status:_o,eTag:bl,config:Ko}})()}}class qs{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,B.Z)(function*(){const $=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,$)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:$}){var ne=this;return(0,B.Z)(function*(){yield function qn(S,A){return new Promise((O,$)=>{const ne=Math.max(A-Date.now(),0),W=setTimeout(O,ne);S.addEventListener(()=>{clearTimeout(W),$(Xn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const W=yield ne.client.fetch(A);return yield ne.storage.deleteThrottleMetadata(),W}catch(W){if(!function ur(S){if(!(S instanceof se.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}(W))throw W;const Se={throttleEndTimeMillis:Date.now()+(0,se.$s)($),backoffCount:$+1};return yield ne.storage.setThrottleMetadata(Se),ne.attemptFetch(A,Se)}})()}}class ua{constructor(A,O,$,ne,W){this.app=A,this._client=O,this._storageCache=$,this._storage=ne,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function da(S,A){var O;const $=S.target.error||void 0;return Xn.create(A,{originalErrorMessage:$&&(null===(O=$)||void 0===O?void 0:O.message)})}const Ln="app_namespace_store";class Yl{constructor(A,O,$,ne=function Wc(){return new Promise((S,A)=>{var O;try{const $=indexedDB.open("firebase_remote_config",1);$.onerror=ne=>{A(da(ne,"storage-open"))},$.onsuccess=ne=>{S(ne.target.result)},$.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Ln,{keyPath:"compositeKey"})}}catch($){A(Xn.create("storage-open",{originalErrorMessage:null===(O=$)||void 0===O?void 0:O.message}))}})}()){this.appId=A,this.appName=O,this.namespace=$,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,B.Z)(function*(){const $=yield O.openDbPromise;return new Promise((ne,W)=>{var Se;const Et=$.transaction([Ln],"readonly").objectStore(Ln),Fe=O.createCompositeKey(A);try{const ze=Et.get(Fe);ze.onerror=Mt=>{W(da(Mt,"storage-get"))},ze.onsuccess=Mt=>{const He=Mt.target.result;ne(He?He.value:void 0)}}catch(ze){W(Xn.create("storage-get",{originalErrorMessage:null===(Se=ze)||void 0===Se?void 0:Se.message}))}})})()}set(A,O){var $=this;return(0,B.Z)(function*(){const ne=yield $.openDbPromise;return new Promise((W,Se)=>{var Ze;const Fe=ne.transaction([Ln],"readwrite").objectStore(Ln),ze=$.createCompositeKey(A);try{const Mt=Fe.put({compositeKey:ze,value:O});Mt.onerror=He=>{Se(da(He,"storage-set"))},Mt.onsuccess=()=>{W()}}catch(Mt){Se(Xn.create("storage-set",{originalErrorMessage:null===(Ze=Mt)||void 0===Ze?void 0:Ze.message}))}})})()}delete(A){var O=this;return(0,B.Z)(function*(){const $=yield O.openDbPromise;return new Promise((ne,W)=>{var Se;const Et=$.transaction([Ln],"readwrite").objectStore(Ln),Fe=O.createCompositeKey(A);try{const ze=Et.delete(Fe);ze.onerror=Mt=>{W(da(Mt,"storage-delete"))},ze.onsuccess=()=>{ne()}}catch(ze){W(Xn.create("storage-delete",{originalErrorMessage:null===(Se=ze)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ha{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,B.Z)(function*(){const O=A.storage.getLastFetchStatus(),$=A.storage.getLastSuccessfulFetchTimestampMillis(),ne=A.storage.getActiveConfig(),W=yield O;W&&(A.lastFetchStatus=W);const Se=yield $;Se&&(A.lastSuccessfulFetchTimestampMillis=Se);const Ze=yield ne;Ze&&(A.activeConfig=Ze)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function il(){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,B.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function dr(){(0,le._registerComponent)(new ge.wA("remote-config",function S(A,{instanceIdentifier:O}){const $=A.getProvider("app").getImmediate(),ne=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!(0,se.hl)())throw Xn.create("indexed-db-unavailable");const{projectId:W,apiKey:Se,appId:Ze}=$.options;if(!W)throw Xn.create("registration-project-id");if(!Se)throw Xn.create("registration-api-key");if(!Ze)throw Xn.create("registration-app-id");const Et=new Yl(Ze,$.name,O=O||"firebase"),Fe=new ha(Et),ze=new be.Yd(ut);ze.logLevel=be.in.ERROR;const Mt=new cr(ne,le.SDK_VERSION,O,W,Se,Ze),He=new qs(Mt,Et),he=new Gc(He,Et,Fe,ze),Ve=new ua($,he,Fe,Et,ze);return function xn(S){const A=(0,se.m9)(S);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(Ve),Ve},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(ut,"0.3.15"),(0,le.registerVersion)(ut,"0.3.15","esm2017")}();const Ri="/firebase-messaging-sw.js",oi="/firebase-cloud-messaging-push-scope",Oi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",No="google.c.a.c_id",Zs="google.c.a.c_l",Mo="google.c.a.ts",Xl="google.c.a.e";var Ds=(()=>{return(S=Ds||(Ds={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Ds;var S})();function ai(S){const A=new Uint8Array(S);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sr(S){const O=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(O),ne=new Uint8Array($.length);for(let W=0;W<$.length;++W)ne[W]=$.charCodeAt(W);return ne}const Fs="fcm_token_details_db",or="fcm_token_object_Store";function zc(S){return xo.apply(this,arguments)}function xo(){return xo=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(Fs))return null;let A=null;return(yield(0,ye.X3)(Fs,5,{upgrade:($=(0,B.Z)(function*(ne,W,Se,Ze){var Et;if(W<2||!ne.objectStoreNames.contains(or))return;const Fe=Ze.objectStore(or),ze=yield Fe.index("fcmSenderId").get(S);if(yield Fe.clear(),ze)if(2===W){const Mt=ze;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;A={token:Mt.fcmToken,createTime:null!==(Et=Mt.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:ai(Mt.vapidKey)}}}else if(3===W){const Mt=ze;A={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ai(Mt.auth),p256dh:ai(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ai(Mt.vapidKey)}}}else if(4===W){const Mt=ze;A={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:ai(Mt.auth),p256dh:ai(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:ai(Mt.vapidKey)}}}}),function(W,Se,Ze,Et){return $.apply(this,arguments)})})).close(),yield(0,ye.Lj)(Fs),yield(0,ye.Lj)("fcm_vapid_details_db"),yield(0,ye.Lj)("undefined"),Un(A)?A:null;var $}),xo.apply(this,arguments)}function Un(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:A}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const Kr="firebase-messaging-store";let Vr=null;function Ro(){return Vr||(Vr=(0,ye.X3)("firebase-messaging-database",1,{upgrade:(S,A)=>{0===A&&S.createObjectStore(Kr)}})),Vr}function Ys(S){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,B.Z)(function*(S){const A=gi(S),$=yield(yield Ro()).transaction(Kr).objectStore(Kr).get(A);if($)return $;{const ne=yield zc(S.appConfig.senderId);if(ne)return yield Yt(S,ne),ne}})).apply(this,arguments)}function Yt(S,A){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,B.Z)(function*(S,A){const O=gi(S),ne=(yield Ro()).transaction(Kr,"readwrite");return yield ne.objectStore(Kr).put(A,O),yield ne.done,A})).apply(this,arguments)}function ws(S){return Js.apply(this,arguments)}function Js(){return(Js=(0,B.Z)(function*(S){const A=gi(S),$=(yield Ro()).transaction(Kr,"readwrite");yield $.objectStore(Kr).delete(A),yield $.done})).apply(this,arguments)}function gi({appConfig:S}){return S.appId}const jn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function kt(S,A){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(S,A){var O;const $=yield ko(S),ne=Ne(A),W={method:"POST",headers:$,body:JSON.stringify(ne)};let Se;try{Se=yield(yield fetch(ki(S.appConfig),W)).json()}catch(Ze){throw jn.create("token-subscribe-failed",{errorInfo:null===(O=Ze)||void 0===O?void 0:O.toString()})}if(Se.error)throw jn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw jn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function tc(S,A){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(S,A){var O;const $=yield ko(S),ne=Ne(A.subscriptionOptions),W={method:"PATCH",headers:$,body:JSON.stringify(ne)};let Se;try{Se=yield(yield fetch(`${ki(S.appConfig)}/${A.token}`,W)).json()}catch(Ze){throw jn.create("token-update-failed",{errorInfo:null===(O=Ze)||void 0===O?void 0:O.toString()})}if(Se.error)throw jn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw jn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function al(S,A){return eo.apply(this,arguments)}function eo(){return(eo=(0,B.Z)(function*(S,A){var O;const ne={method:"DELETE",headers:yield ko(S)};try{const Se=yield(yield fetch(`${ki(S.appConfig)}/${A}`,ne)).json();if(Se.error)throw jn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(W){throw jn.create("token-unsubscribe-failed",{errorInfo:null===(O=W)||void 0===O?void 0:O.toString()})}})).apply(this,arguments)}function ki({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function ko(S){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,B.Z)(function*({appConfig:S,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ne({p256dh:S,auth:A,endpoint:O,vapidKey:$}){const ne={web:{endpoint:O,auth:A,p256dh:S}};return $!==Oi&&(ne.web.applicationPubKey=$),ne}const Kt=6048e5;function to(S){return ll.apply(this,arguments)}function ll(){return(ll=(0,B.Z)(function*(S){const A=yield nc(S.swRegistration,S.vapidKey),O={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:A.endpoint,auth:ai(A.getKey("auth")),p256dh:ai(A.getKey("p256dh"))},$=yield Ys(S.firebaseDependencies);if($){if(rc($.subscriptionOptions,O))return Date.now()>=$.createTime+Kt?no(S,{token:$.token,createTime:Date.now(),subscriptionOptions:O}):$.token;try{yield al(S.firebaseDependencies,$.token)}catch(ne){console.warn(ne)}return Po(S.firebaseDependencies,O)}return Po(S.firebaseDependencies,O)})).apply(this,arguments)}function $n(S){return ga.apply(this,arguments)}function ga(){return(ga=(0,B.Z)(function*(S){const A=yield Ys(S.firebaseDependencies);A&&(yield al(S.firebaseDependencies,A.token),yield ws(S.firebaseDependencies));const O=yield S.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function no(S,A){return mi.apply(this,arguments)}function mi(){return(mi=(0,B.Z)(function*(S,A){try{const O=yield tc(S.firebaseDependencies,A),$=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield Yt(S.firebaseDependencies,$),O}catch(O){throw yield $n(S),O}})).apply(this,arguments)}function Po(S,A){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*(S,A){const $={token:yield kt(S,A),createTime:Date.now(),subscriptionOptions:A};return yield Yt(S,$),$.token})).apply(this,arguments)}function nc(S,A){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,B.Z)(function*(S,A){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sr(A)})})).apply(this,arguments)}function rc(S,A){return A.vapidKey===S.vapidKey&&A.endpoint===S.endpoint&&A.auth===S.auth&&A.p256dh===S.p256dh}function ma(S){const A={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Pn(S,A){if(!A.notification)return;S.notification={};const O=A.notification.title;O&&(S.notification.title=O);const $=A.notification.body;$&&(S.notification.body=$);const ne=A.notification.image;ne&&(S.notification.image=ne);const W=A.notification.icon;W&&(S.notification.icon=W)}(A,S),function _i(S,A){!A.data||(S.data=A.data)}(A,S),function _a(S,A){var O,$,ne,W,Se;if(!(A.fcmOptions||null!==(O=A.notification)&&void 0!==O&&O.click_action))return;S.fcmOptions={};const Ze=null!==(ne=null===($=A.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==ne?ne:null===(W=A.notification)||void 0===W?void 0:W.click_action;Ze&&(S.fcmOptions.link=Ze);const Et=null===(Se=A.fcmOptions)||void 0===Se?void 0:Se.analytics_label;Et&&(S.fcmOptions.analyticsLabel=Et)}(A,S),A}function Cs(S){return"object"==typeof S&&!!S&&No in S}function Pi(S,A){const O=[];for(let $=0;$<S.length;$++)O.push(S.charAt($)),$<A.length&&O.push(A.charAt($));return O.join("")}function Lo(S){return jn.create("missing-app-config-values",{valueName:S})}Pi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gu{constructor(A,O,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function ya(S){if(!S||!S.options)throw Lo("App Configuration Object");if(!S.name)throw Lo("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=S;for(const $ of A)if(!O[$])throw Lo($);return{appName:S.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ne,installations:O,analyticsProvider:$}}_delete(){return Promise.resolve()}}function cl(S){return ro.apply(this,arguments)}function ro(){return(ro=(0,B.Z)(function*(S){var A;try{S.swRegistration=yield navigator.serviceWorker.register(Ri,{scope:oi}),S.swRegistration.update().catch(()=>{})}catch(O){throw jn.create("failed-service-worker-registration",{browserErrorMessage:null===(A=O)||void 0===A?void 0:A.message})}})).apply(this,arguments)}function va(S,A){return ic.apply(this,arguments)}function ic(){return(ic=(0,B.Z)(function*(S,A){if(!A&&!S.swRegistration&&(yield cl(S)),A||!S.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");S.swRegistration=A}})).apply(this,arguments)}function Ji(S,A){return sc.apply(this,arguments)}function sc(){return(sc=(0,B.Z)(function*(S,A){A?S.vapidKey=A:S.vapidKey||(S.vapidKey=Oi)})).apply(this,arguments)}function Xi(){return(Xi=(0,B.Z)(function*(S,A){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield Ji(S,A?.vapidKey),yield va(S,A?.serviceWorkerRegistration),to(S)})).apply(this,arguments)}function dl(S,A,O){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,B.Z)(function*(S,A,O){const $=hl(A);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:O[No],message_name:O[Zs],message_time:O[Mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hl(S){switch(S){case Ds.NOTIFICATION_CLICKED:return"notification_open";case Ds.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function R(){return(R=(0,B.Z)(function*(S,A){const O=A.data;if(!O.isFirebaseMessaging)return;S.onMessageHandler&&O.messageType===Ds.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ma(O)):S.onMessageHandler.next(ma(O)));const $=O.data;Cs($)&&"1"===$[Xl]&&(yield dl(S,O.messageType,$))})).apply(this,arguments)}const T="@firebase/messaging",P="0.10.0",H=S=>{const A=new Gu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function I(S,A){return R.apply(this,arguments)}(A,O)),A},de=S=>{const A=S.getProvider("messaging").getImmediate();return{getToken:$=>function ul(S,A){return Xi.apply(this,arguments)}(A,$)}};function lt(){return en.apply(this,arguments)}function en(){return(en=(0,B.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function we(){(0,le._registerComponent)(new ge.wA("messaging",H,"PUBLIC")),(0,le._registerComponent)(new ge.wA("messaging-internal",de,"PRIVATE")),(0,le.registerVersion)(T,P),(0,le.registerVersion)(T,P,"esm2017")}();const es="analytics",Is="firebase_id",Es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oc="https://www.googletagmanager.com/gtag/js",er=new be.Yd("@firebase/analytics");function qc(S){return Promise.all(S.map(A=>A.catch(O=>O)))}function ac(S,A){const O=document.createElement("script");O.src=`${oc}?l=${S}&id=${A}`,O.async=!0,document.head.appendChild(O)}function lc(S,A,O,$,ne,W){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,B.Z)(function*(S,A,O,$,ne,W){const Se=$[ne];try{if(Se)yield A[Se];else{const Et=(yield qc(O)).find(Fe=>Fe.measurementId===ne);Et&&(yield A[Et.appId])}}catch(Ze){er.error(Ze)}S("config",ne,W)})).apply(this,arguments)}function Vs(S,A,O,$,ne){return io.apply(this,arguments)}function io(){return(io=(0,B.Z)(function*(S,A,O,$,ne){try{let W=[];if(ne&&ne.send_to){let Se=ne.send_to;Array.isArray(Se)||(Se=[Se]);const Ze=yield qc(O);for(const Et of Se){const Fe=Ze.find(Mt=>Mt.measurementId===Et),ze=Fe&&A[Fe.appId];if(!ze){W=[];break}W.push(ze)}}0===W.length&&(W=Object.values(A)),yield Promise.all(W),S("event",$,ne||{})}catch(W){er.error(W)}})).apply(this,arguments)}function zu(S){const A=window.document.getElementsByTagName("script");for(const O of Object.values(A))if(O.src&&O.src.includes(oc)&&O.src.includes(S))return O;return null}const Br=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Uo=new class Bi{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Xh(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function In(S){return ba.apply(this,arguments)}function ba(){return(ba=(0,B.Z)(function*(S){var A;const{appId:O,apiKey:$}=S,ne={method:"GET",headers:Xh($)},W=Es.replace("{app-id}",O),Se=yield fetch(W,ne);if(200!==Se.status&&304!==Se.status){let Ze="";try{const Et=yield Se.json();null!==(A=Et.error)&&void 0!==A&&A.message&&(Ze=Et.error.message)}catch{}throw Br.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Ze})}return Se.json()})).apply(this,arguments)}function Kn(S){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,B.Z)(function*(S,A=Uo,O){const{appId:$,apiKey:ne,measurementId:W}=S.options;if(!$)throw Br.create("no-app-id");if(!ne){if(W)return{measurementId:W,appId:$};throw Br.create("no-api-key")}const Se=A.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Qc;return setTimeout((0,B.Z)(function*(){Ze.abort()}),void 0!==O?O:6e4),Zc({appId:$,apiKey:ne,measurementId:W},Se,Ze,A)})).apply(this,arguments)}function Zc(S,A,O){return jo.apply(this,arguments)}function jo(){return(jo=(0,B.Z)(function*(S,{throttleEndTimeMillis:A,backoffCount:O},$,ne=Uo){var W,Se;const{appId:Ze,measurementId:Et}=S;try{yield cc($,A)}catch(Fe){if(Et)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null===(W=Fe)||void 0===W?void 0:W.message}]`),{appId:Ze,measurementId:Et};throw Fe}try{const Fe=yield In(S);return ne.deleteThrottleMetadata(Ze),Fe}catch(Fe){const ze=Fe;if(!Ku(ze)){if(ne.deleteThrottleMetadata(Ze),Et)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:Ze,measurementId:Et};throw Fe}const Mt=503===Number(null===(Se=ze?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,se.$s)(O,ne.intervalMillis,30):(0,se.$s)(O,ne.intervalMillis),He={throttleEndTimeMillis:Date.now()+Mt,backoffCount:O+1};return ne.setThrottleMetadata(Ze,He),er.debug(`Calling attemptFetch again in ${Mt} millis`),Zc(S,He,$,ne)}})).apply(this,arguments)}function cc(S,A){return new Promise((O,$)=>{const ne=Math.max(A-Date.now(),0),W=setTimeout(O,ne);S.addEventListener(()=>{clearTimeout(W),$(Br.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function Ku(S){if(!(S instanceof se.ZR&&S.customData))return!1;const A=Number(S.customData.httpStatus);return 429===A||500===A||503===A||504===A}class Qc{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Da,wa;function vi(){return(vi=(0,B.Z)(function*(S,A,O,$,ne){if(ne&&ne.global)S("event",O,$);else{const W=yield A;S("event",O,Object.assign(Object.assign({},$),{send_to:W}))}})).apply(this,arguments)}function oo(S){wa=S}function eu(S){Da=S}function tu(){return dc.apply(this,arguments)}function dc(){return(dc=(0,B.Z)(function*(){var S;if(!(0,se.hl)())return er.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(A){return er.warn(Br.create("indexeddb-unavailable",{errorInfo:null===(S=A)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function gl(){return(gl=(0,B.Z)(function*(S,A,O,$,ne,W,Se){var Ze;const Et=Kn(S);Et.then(he=>{O[he.measurementId]=he.appId,S.options.measurementId&&he.measurementId!==S.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${he.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(he=>er.error(he)),A.push(Et);const Fe=tu().then(he=>{if(he)return $.getId()}),[ze,Mt]=yield Promise.all([Et,Fe]);zu(W)||ac(W,ze.measurementId),wa&&(ne("consent","default",wa),oo(void 0)),ne("js",new Date);const He=null!==(Ze=Se?.config)&&void 0!==Ze?Ze:{};return He.origin="firebase",He.update=!0,null!=Mt&&(He[Is]=Mt),ne("config",ze.measurementId,He),Da&&(ne("set",Da),eu(void 0)),ze.measurementId})).apply(this,arguments)}class Zu{constructor(A){this.app=A}_delete(){return delete bi[this.app.options.appId],Promise.resolve()}}let bi={},ao=[];const Us={};let lo,Ur,Di="dataLayer",Ts=!1;function Zn(S,A,O){!function ef(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const A=S.map(($,ne)=>`(${ne+1}) ${$}`).join(" "),O=Br.create("invalid-analytics-context",{errorInfo:A});er.warn(O.message)}}();const $=S.options.appId;if(!$)throw Br.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Br.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bi[$])throw Br.create("already-exists",{id:$});if(!Ts){!function Wd(S){let A=[];Array.isArray(window[S])?A=window[S]:window[S]=A}(Di);const{wrappedGtag:W,gtagCore:Se}=function Kc(S,A,O,$,ne){let W=function(...Se){window[$].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(W=window[ne]),window[ne]=function Wu(S,A,O,$){function W(){return(W=(0,B.Z)(function*(Se,Ze,Et){try{"event"===Se?yield Vs(S,A,O,Ze,Et):"config"===Se?yield lc(S,A,O,$,Ze,Et):"consent"===Se?S("consent","update",Et):S("set",Ze)}catch(Fe){er.error(Fe)}})).apply(this,arguments)}return function ne(Se,Ze,Et){return W.apply(this,arguments)}}(W,S,A,O),{gtagCore:W,wrappedGtag:window[ne]}}(bi,ao,Us,Di,"gtag");Ur=W,lo=Se,Ts=!0}return bi[$]=function Ca(S,A,O,$,ne,W,Se){return gl.apply(this,arguments)}(S,ao,Us,A,lo,Di,O),new Zu(S)}function nf(){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,B.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const qd="@firebase/analytics";!function jr(){(0,le._registerComponent)(new ge.wA(es,(A,{options:O})=>Zn(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,le._registerComponent)(new ge.wA("analytics-internal",function S(A){try{const O=A.getProvider(es).getImmediate();return{logEvent:($,ne,W)=>function ts(S,A,O,$){S=(0,se.m9)(S),function uc(S,A,O,$,ne){return vi.apply(this,arguments)}(Ur,bi[S.app.options.appId],A,O,$).catch(ne=>er.error(ne))}(O,$,ne,W)}}catch(O){throw Br.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,le.registerVersion)(qd,"0.8.4"),(0,le.registerVersion)(qd,"0.8.4","esm2017")}();var ns=V(4408),co=V(7565);const Ta=new class uo extends co.v{}(class nu extends ns.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(A,O,$):(A.flush(this),0)}});var ru=V(4986),Wo=V(8505),Sa=V(9468),hc=V(5363);const ci=new C.Version("7.4.1"),Aa="__angularfire_symbol__analyticsIsSupportedValue",ho="__angularfire_symbol__analyticsIsSupported",Na="__angularfire_symbol__remoteConfigIsSupportedValue",_l="__angularfire_symbol__remoteConfigIsSupported",iu="__angularfire_symbol__messagingIsSupportedValue",fo="__angularfire_symbol__messagingIsSupported";function zo(S,A,O){if(A){if(1===A.length)return A[0];const W=A.filter(Se=>Se.app===O);if(1===W.length)return W[0]}return O.container.getProvider(S).getImmediate({optional:!0})}globalThis[ho]||(globalThis[ho]=nf().then(S=>globalThis[Aa]=S).catch(()=>globalThis[Aa]=!1)),globalThis[fo]||(globalThis[fo]=lt().then(S=>globalThis[iu]=S).catch(()=>globalThis[iu]=!1)),globalThis[_l]||(globalThis[_l]=il().then(S=>globalThis[Na]=S).catch(()=>globalThis[Na]=!1));const Ar=(S,A)=>{const O=A?[A]:(0,u.C6)(),$=[];return O.forEach(ne=>{ne.container.getProvider(S).instances.forEach(Se=>{$.includes(Se)||$.push(Se)})}),$};function vl(){}class wi{constructor(A,O=Ta){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,$){const ne=this.zone;return this.delegate.schedule(function(Se){ne.runGuarded(()=>{A.apply(this,[Se])})},O,$)}}class qo{constructor(A){this.zone=A,this.task=null}call(A,O){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vl,{},vl,vl)),O.pipe((0,Wo.b)({next:$,complete:$,error:$})).subscribe(A).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let su=(()=>{class S{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new wi(Zone.current)),this.insideAngular=O.run(()=>new wi(Zone.current,ru.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(O){return new(O||S)(C.\u0275\u0275inject(C.NgZone))},S.\u0275prov=C.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function po(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function mo(S){return po(),function pc(S){return function(O){return(O=O.lift(new qo(S.ngZone))).pipe((0,Sa.R)(S.outsideAngular),(0,hc.Q)(S.insideAngular))}}(po())(S)}},2090:(yt,Ee,V)=>{"use strict";V.d(Ee,{$s:()=>pt,BH:()=>zt,G6:()=>ke,L:()=>ye,LL:()=>nn,Pz:()=>tn,Sg:()=>it,UG:()=>ce,US:()=>ge,ZB:()=>q,ZR:()=>Tn,aH:()=>bt,b$:()=>fe,eu:()=>Xe,hl:()=>Qe,jU:()=>Ge,m9:()=>Wt,ne:()=>Bn,pd:()=>ms,r3:()=>pi,ru:()=>me,tV:()=>ve,uI:()=>De,vZ:()=>ot,w1:()=>st,xO:()=>gr,xb:()=>ei,z$:()=>je,zI:()=>K,zd:()=>ti});const le=function(Z){const z=[];let te=0;for(let Oe=0;Oe<Z.length;Oe++){let re=Z.charCodeAt(Oe);re<128?z[te++]=re:re<2048?(z[te++]=re>>6|192,z[te++]=63&re|128):55296==(64512&re)&&Oe+1<Z.length&&56320==(64512&Z.charCodeAt(Oe+1))?(re=65536+((1023&re)<<10)+(1023&Z.charCodeAt(++Oe)),z[te++]=re>>18|240,z[te++]=re>>12&63|128,z[te++]=re>>6&63|128,z[te++]=63&re|128):(z[te++]=re>>12|224,z[te++]=re>>6&63|128,z[te++]=63&re|128)}return z},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,z){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const te=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let re=0;re<Z.length;re+=3){const tt=Z[re],Tt=re+1<Z.length,ln=Tt?Z[re+1]:0,An=re+2<Z.length,on=An?Z[re+2]:0;let At=(15&ln)<<2|on>>6,Ht=63&on;An||(Ht=64,Tt||(At=64)),Oe.push(te[tt>>2],te[(3&tt)<<4|ln>>4],te[At],te[Ht])}return Oe.join("")},encodeString(Z,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(Z):this.encodeByteArray(le(Z),z)},decodeString(Z,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(Z):function(Z){const z=[];let te=0,Oe=0;for(;te<Z.length;){const re=Z[te++];if(re<128)z[Oe++]=String.fromCharCode(re);else if(re>191&&re<224){const tt=Z[te++];z[Oe++]=String.fromCharCode((31&re)<<6|63&tt)}else if(re>239&&re<365){const An=((7&re)<<18|(63&Z[te++])<<12|(63&Z[te++])<<6|63&Z[te++])-65536;z[Oe++]=String.fromCharCode(55296+(An>>10)),z[Oe++]=String.fromCharCode(56320+(1023&An))}else{const tt=Z[te++],Tt=Z[te++];z[Oe++]=String.fromCharCode((15&re)<<12|(63&tt)<<6|63&Tt)}}return z.join("")}(this.decodeStringToByteArray(Z,z))},decodeStringToByteArray(Z,z){this.init_();const te=z?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let re=0;re<Z.length;){const tt=te[Z.charAt(re++)],ln=re<Z.length?te[Z.charAt(re)]:0;++re;const on=re<Z.length?te[Z.charAt(re)]:64;++re;const Je=re<Z.length?te[Z.charAt(re)]:64;if(++re,null==tt||null==ln||null==on||null==Je)throw Error();Oe.push(tt<<2|ln>>4),64!==on&&(Oe.push(ln<<4&240|on>>2),64!==Je&&Oe.push(on<<6&192|Je))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ye=function(Z){return function(Z){const z=le(Z);return ge.encodeByteArray(z,!0)}(Z).replace(/\./g,"")},ve=function(Z){try{return ge.decodeString(Z,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function q(Z,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return z}for(const te in z)!z.hasOwnProperty(te)||!X(te)||(Z[te]=q(Z[te],z[te]));return Z}function X(Z){return"__proto__"!==Z}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function me(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){const Z=je();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ke(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){return"object"==typeof indexedDB}function Xe(){return new Promise((Z,z)=>{try{let te=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(Oe);re.onsuccess=()=>{re.result.close(),te||self.indexedDB.deleteDatabase(Oe),Z(!0)},re.onupgradeneeded=()=>{te=!1},re.onerror=()=>{var tt;z((null===(tt=re.error)||void 0===tt?void 0:tt.message)||"")}}catch(te){z(te)}})}function K(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ue=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=Z&&ve(Z[1]);return z&&JSON.parse(z)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},bt=()=>{var Z;return null===(Z=ue())||void 0===Z?void 0:Z.config},tn=Z=>{var z;return null===(z=ue())||void 0===z?void 0:z[`_${Z}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,te)=>{this.resolve=z,this.reject=te})}wrapCallback(z){return(te,Oe)=>{te?this.reject(te):this.resolve(Oe),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(te):z(te,Oe))}}}function it(Z,z){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=z||"demo-project",re=Z.iat||0,tt=Z.sub||Z.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:re,exp:re+3600,auth_time:re,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Tt)),""].join(".")}class Tn extends Error{constructor(z,te,Oe){super(te),this.code=z,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,Tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(z,te,Oe){this.service=z,this.serviceName=te,this.errors=Oe}create(z,...te){const Oe=te[0]||{},re=`${this.service}/${z}`,tt=this.errors[z],Tt=tt?function rn(Z,z){return Z.replace(Er,(te,Oe)=>{const re=z[Oe];return null!=re?String(re):`<${Oe}?>`})}(tt,Oe):"Error";return new Tn(re,`${this.serviceName}: ${Tt} (${re}).`,Oe)}}const Er=/\{\$([^}]+)}/g;function pi(Z,z){return Object.prototype.hasOwnProperty.call(Z,z)}function ei(Z){for(const z in Z)if(Object.prototype.hasOwnProperty.call(Z,z))return!1;return!0}function ot(Z,z){if(Z===z)return!0;const te=Object.keys(Z),Oe=Object.keys(z);for(const re of te){if(!Oe.includes(re))return!1;const tt=Z[re],Tt=z[re];if(Tr(tt)&&Tr(Tt)){if(!ot(tt,Tt))return!1}else if(tt!==Tt)return!1}for(const re of Oe)if(!te.includes(re))return!1;return!0}function Tr(Z){return null!==Z&&"object"==typeof Z}function gr(Z){const z=[];for(const[te,Oe]of Object.entries(Z))Array.isArray(Oe)?Oe.forEach(re=>{z.push(encodeURIComponent(te)+"="+encodeURIComponent(re))}):z.push(encodeURIComponent(te)+"="+encodeURIComponent(Oe));return z.length?"&"+z.join("&"):""}function ti(Z){const z={};return Z.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[re,tt]=Oe.split("=");z[decodeURIComponent(re)]=decodeURIComponent(tt)}}),z}function ms(Z){const z=Z.indexOf("?");if(!z)return"";const te=Z.indexOf("#",z);return Z.substring(z,te>0?te:void 0)}function Bn(Z,z){const te=new $t(Z,z);return te.subscribe.bind(te)}class $t{constructor(z,te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=te,this.task.then(()=>{z(this)}).catch(Oe=>{this.error(Oe)})}next(z){this.forEachObserver(te=>{te.next(z)})}error(z){this.forEachObserver(te=>{te.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,te,Oe){let re;if(void 0===z&&void 0===te&&void 0===Oe)throw new Error("Missing Observer.");re=function It(Z,z){if("object"!=typeof Z||null===Z)return!1;for(const te of z)if(te in Z&&"function"==typeof Z[te])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:te,complete:Oe},void 0===re.next&&(re.next=mn),void 0===re.error&&(re.error=mn),void 0===re.complete&&(re.complete=mn);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),tt}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let te=0;te<this.observers.length;te++)this.sendOne(te,z)}sendOne(z,te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{te(this.observers[z])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}function pt(Z,z=1e3,te=2){const Oe=z*Math.pow(te,Z),re=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+re)}function Wt(Z){return Z&&Z._delegate?Z._delegate:Z}},2274:(yt,Ee,V)=>{"use strict";var C=V(6895),u=V(4650);class B extends C.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends B{static makeCurrent(){(0,C.\u0275setRootDomAdapter)(new le)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ge(){return se=se||document.querySelector("base"),se?se.getAttribute("href"):null}();return null==t?null:function ye(n){be=be||document.createElement("a"),be.setAttribute("href",n);const e=be.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){se=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,C.\u0275parseCookieValue)(document.cookie,e)}}let be,se=null;const ve=new u.InjectionToken("TRANSITION_ID"),q=[{provide:u.APP_INITIALIZER,useFactory:function G(n,e,t){return()=>{t.get(u.ApplicationInitStatus).donePromise.then(()=>{const r=(0,C.\u0275getDOM)(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[ve,C.DOCUMENT,u.Injector],multi:!0}];let je=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const De=new u.InjectionToken("EventManagerPlugins");let ce=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(De),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Ge{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=(0,C.\u0275getDOM)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let me=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),fe=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ye),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ye))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function Ye(n){(0,C.\u0275getDOM)().remove(n)}const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pe=/%COMP%/g;function ee(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ee(n,i,t):(i=i.replace(Pe,n),t.push(i))}return t}function ie(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ue=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Le(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ViewEncapsulation.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new zt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ViewEncapsulation.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(ce),u.\u0275\u0275inject(fe),u.\u0275\u0275inject(u.APP_ID))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();class Le{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(st[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(tn(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tn(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=st[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=st[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?e.style.setProperty(t,r,i&u.RendererStyleFlags2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.RendererStyleFlags2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ie(r)):this.eventManager.addEventListener(e,t,ie(r))}}function tn(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zt extends Le{constructor(e,t,r,i){super(e),this.component=r;const l=ee(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function K(n){return"_ngcontent-%COMP%".replace(Pe,n)}(i+"-"+r.id),this.hostAttr=function Te(n){return"_nghost-%COMP%".replace(Pe,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class it extends Le{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ee(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const g=document.createElement("style");g.textContent=l[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gn=(()=>{class n extends Ge{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const Tn=["alt","control","meta","shift"],nn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Er=(()=>{class n extends Ge{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.\u0275getDOM)().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),Tn.forEach(w=>{const N=r.indexOf(w);N>-1&&(r.splice(N,1),d+=w+".")}),d+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let i=nn[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tn.forEach(d=>{d!==i&&(0,rn[d])(t)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const ei=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:C.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function Xr(){le.makeCurrent()},multi:!0},{provide:C.DOCUMENT,useFactory:function pi(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),zs=new u.InjectionToken(""),ot=[{provide:u.\u0275TESTABILITY_GETTER,useClass:class X{addToWindow(e){u.\u0275global.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},u.\u0275global.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>e.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(r=>{const i=u.\u0275global.getAllAngularTestabilities();let l=i.length,d=!1;const g=function(_){d=d||_,l--,0==l&&r(d)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,C.\u0275getDOM)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.\u0275TESTABILITY,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone,u.TestabilityRegistry,u.\u0275TESTABILITY_GETTER]}],Tr=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function Rs(){return new u.ErrorHandler},deps:[]},{provide:De,useClass:gn,multi:!0,deps:[C.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:De,useClass:Er,multi:!0,deps:[C.DOCUMENT]},{provide:ue,useClass:ue,deps:[ce,fe,u.APP_ID]},{provide:u.RendererFactory2,useExisting:ue},{provide:me,useExisting:fe},{provide:fe,useClass:fe,deps:[C.DOCUMENT]},{provide:ce,useClass:ce,deps:[De,u.NgZone]},{provide:C.XhrFactory,useClass:je,deps:[]},[]];let gs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.APP_ID,useValue:t.appId},{provide:ve,useExisting:u.APP_ID},q]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(zs,12))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[...Tr,...ot],imports:[C.CommonModule,u.ApplicationModule]}),n})(),Bn=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(t){let r=null;return r=t?new t:function Wn(){return new Bn((0,u.\u0275\u0275inject)(C.DOCUMENT))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var $e=V(2011),Je=V(4986),At=V(9751),Ht=V(8996),Yn=V(3269);function et(...n){const e=(0,Yn.yG)(n);return(0,Ht.D)(n,e)}var kn=V(5813),bn=V(8189);function Mi(...n){return function _s(){return(0,bn.J)(1)}()((0,Ht.D)(n,(0,Yn.yG)(n)))}var vt=V(4482);function _n(...n){const e=(0,Yn.yG)(n);return(0,vt.e)((t,r)=>{(e?Mi(n,t,e):Mi(n,t)).subscribe(r)})}var yn=V(5403);function So(){return(0,vt.e)((n,e)=>{let t,r=!1;n.subscribe((0,yn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var ut=V(4004);function ir(n,e,t,r,i){return(l,d)=>{let g=t,_=e,w=0;l.subscribe((0,yn.x)(d,N=>{const k=w++;_=g?n(_,N,k):(g=!0,N),r&&d.next(_)},i&&(()=>{g&&d.next(_),d.complete()})))}}function ri(n,e){return(0,vt.e)(ir(n,e,arguments.length>=2,!0))}var ii=V(4671);function Xn(n,e){return n===e}function zn(n,e){return(0,vt.e)((t,r)=>{let i=0;t.subscribe((0,yn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}V(1277);var _t,tl=V(3942),Ae=V(5861),si=V(9681),ys=V(4859),Fr=V(1877),qt=V(2090),xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xn={},sr=sr||{},Dt=xi||self;function Os(){}function vs(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ks(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nl="closure_uid_"+(1e9*Math.random()>>>0),Ql=0;function Gc(n,e,t){return n.call.apply(n.bind,arguments)}function rl(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cr(n,e,t){return(cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gc:rl).apply(null,arguments)}function qn(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ur(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[i].apply(r,d)}}function qs(){this.s=this.s,this.o=this.o}qs.prototype.s=!1,qs.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Lr(n){Object.prototype.hasOwnProperty.call(n,nl)&&n[nl]||(n[nl]=++Ql)}(this)},qs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $u=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ua(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function da(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vs(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let d=0;d<l;d++)n[i+d]=r[d]}else n.push(r)}}function Ln(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ln.prototype.h=function(){this.defaultPrevented=!0};var Hu=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",Os,e),Dt.removeEventListener("test",Os,e)}catch{}return n}();function Ao(n){return/^[\s\xa0]*$/.test(n)}var Wc=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yl(n,e){return n<e?-1:n>e?1:0}function ha(){var n=Dt.navigator;return n&&(n=n.userAgent)?n:""}function dr(n){return-1!=ha().indexOf(n)}function fa(n){return fa[" "](n),n}fa[" "]=Os;var Zs,n,il=dr("Opera"),Ks=dr("Trident")||dr("MSIE"),Ri=dr("Edge"),oi=Ri||Ks,Oi=dr("Gecko")&&!(-1!=ha().toLowerCase().indexOf("webkit")&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),Ps=-1!=ha().toLowerCase().indexOf("webkit")&&!dr("Edge");function No(){var n=Dt.document;return n?n.documentMode:void 0}e:{var Mo="",Xl=(n=ha(),Oi?/rv:([^\);]+)(\)|;)/.exec(n):Ri?/Edge\/([\d\.]+)/.exec(n):Ks?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ps?/WebKit\/(\S+)/.exec(n):il?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xl&&(Mo=Xl?Xl[1]:""),Ks){var Qs=No();if(null!=Qs&&Qs>parseFloat(Mo)){Zs=String(Qs);break e}}Zs=Mo}var Ds={};var ec=Dt.document&&Ks&&(No()||parseInt(Zs,10))||void 0;function or(n,e){if(Ln.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Oi){e:{try{fa(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&or.X.h.call(this)}}ur(or,Ln);var zc={2:"touch",3:"pen",4:"mouse"};or.prototype.h=function(){or.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),Un=0;function sl(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++Un,this.ba=this.ea=!1}function ol(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Kr(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Vr(n){const e={};for(const t in n)e[t]=n[t];return e}const Ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ys(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<Ro.length;l++)t=Ro[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Zr(n){this.src=n,this.g={},this.h=0}function Yt(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=$u(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(ol(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yi(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}Zr.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Yi(n,e,r,i);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new sl(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var ws="closure_lm_"+(1e6*Math.random()|0),Js={};function gi(n,e,t,r,i){if(r&&r.once)return kt(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)gi(n,e[l],t,r,i);return null}return t=ko(t),n&&n[xo]?n.N(e,t,ks(r)?!!r.capture:!!r,i):pa(n,e,t,!1,r,i)}function pa(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=ks(i)?!!i.capture:!!i,g=eo(n);if(g||(n[ws]=g=new Zr(n)),(t=g.add(e,t,r,d,l)).proxy)return t;if(r=function jn(){const e=al;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hu||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Oo(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function kt(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)kt(n,e[l],t,r,i);return null}return t=ko(t),n&&n[xo]?n.O(e,t,ks(r)?!!r.capture:!!r,i):pa(n,e,t,!0,r,i)}function Xs(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Xs(n,e[l],t,r,i);else r=ks(r)?!!r.capture:!!r,t=ko(t),n&&n[xo]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yi(l=n.g[e],t,r,i))&&(ol(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=eo(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yi(e,t,r,i)),(t=-1<n?e[n]:null)&&tc(t))}function tc(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[xo])Yt(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Oo(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=eo(e))?(Yt(t,n),0==t.h&&(t.src=null,e[ws]=null)):ol(n)}}}function Oo(n){return n in Js?Js[n]:Js[n]="on"+n}function al(n,e){if(n.ba)n=!0;else{e=new or(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&tc(n),n=t.call(r,e)}return n}function eo(n){return(n=n[ws])instanceof Zr?n:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function ko(n){return"function"==typeof n?n:(n[ki]||(n[ki]=function(e){return n.handleEvent(e)}),n[ki])}function Vn(){qs.call(this),this.i=new Zr(this),this.P=this,this.I=null}function Ne(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ln(e,n);else if(e instanceof Ln)e.target=e.target||n;else{var i=e;Ys(e=new Ln(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Kt(d,r,!0,e)&&i}if(i=Kt(d=e.g=n,r,!0,e)&&i,i=Kt(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Kt(d=e.g=t[l],r,!1,e)&&i}function Kt(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ba&&d.capture==t){var g=d.listener,_=d.ha||d.src;d.ea&&Yt(n.i,d),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}ur(Vn,qs),Vn.prototype[xo]=!0,Vn.prototype.removeEventListener=function(n,e,t,r){Xs(this,n,e,t,r)},Vn.prototype.M=function(){if(Vn.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ol(t[r]);delete n.g[e],n.h--}}this.I=null},Vn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var to=Dt.JSON.stringify;function ll(){var n=rc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ls,ga=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new no,n=>n.reset());class no{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mi(n){Dt.setTimeout(()=>{throw n},0)}function Po(n,e){Ls||function nc(){var n=Dt.Promise.resolve(void 0);Ls=function(){n.then(ma)}}(),Fo||(Ls(),Fo=!0),rc.add(n,e)}var Fo=!1,rc=new class $n{constructor(){this.h=this.g=null}add(e,t){const r=ga.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function ma(){for(var n;n=ll();){try{n.h.call(n.g)}catch(t){mi(t)}var e=ga;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Fo=!1}function Pn(n,e){Vn.call(this),this.h=n||1,this.g=e||Dt,this.j=cr(this.lb,this),this.l=Date.now()}function _i(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function _a(n,e,t){if("function"==typeof n)t&&(n=cr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function Cs(n){n.g=_a(()=>{n.g=null,n.i&&(n.i=!1,Cs(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ur(Pn,Vn),(_t=Pn.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ne(this,"tick"),this.ca&&(_i(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){Pn.X.M.call(this),_i(this),delete this.g};class Pi extends qs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cs(this)}M(){super.M(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(n){qs.call(this),this.h=n,this.g={}}ur(ya,qs);var Lo=[];function Gu(n,e,t,r){Array.isArray(t)||(t&&(Lo[0]=t.toString()),t=Lo);for(var i=0;i<t.length;i++){var l=gi(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function cl(n){Kr(n.g,function(e,t){this.g.hasOwnProperty(t)&&tc(e)},n),n.g={}}function ro(){this.g=!0}function Ji(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ul(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return to(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ya.prototype.M=function(){ya.X.M.call(this),cl(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ro.prototype.Aa=function(){this.g=!1},ro.prototype.info=function(){};var Xi={},dl=null;function Vo(){return dl=dl||new Vn}function hl(n){Ln.call(this,Xi.Pa,n)}function I(n){const e=Vo();Ne(e,new hl(e))}function R(n,e){Ln.call(this,Xi.STAT_EVENT,n),this.stat=e}function T(n){const e=Vo();Ne(e,new R(e,n))}function P(n,e){Ln.call(this,Xi.Qa,n),this.size=e}function H(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}Xi.Pa="serverreachability",ur(hl,Ln),Xi.STAT_EVENT="statevent",ur(R,Ln),Xi.Qa="timingevent",ur(P,Ln);var de={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},we={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function lt(){}function an(){}lt.prototype.h=null;var dn,Xt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Qt(){Ln.call(this,"d")}function ar(){Ln.call(this,"c")}function Rn(){}function yi(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new ya(this),this.O=es,this.T=new Pn(n=oi?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}ur(Qt,Ln),ur(ar,Ln),ur(Rn,lt),Rn.prototype.g=function(){return new XMLHttpRequest},Rn.prototype.i=function(){return{}},dn=new Rn;var es=45e3,Is={},li={};function Li(n,e,t){n.K=1,n.v=ba(Vi(e)),n.s=t,n.P=!0,Es(n,null)}function Es(n,e){n.F=Date.now(),ac(n),n.A=Vi(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),fl(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Fi,n.g=Yu(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Pi(cr(n.La,n,n.g),n.N)),Gu(n.S,n.g,"readystatechange",n.ib),e=n.H?Vr(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),I(),function va(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",g=l.split("&"),_=0;_<g.length;_++){var w=g[_].split("=");if(1<w.length){var N=w[0];w=w[1];var k=N.split("_");d=2<=k.length&&"type"==k[1]?d+(N+"=")+w+"&":d+(N+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function oc(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function er(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=qc(n,t),i==li){4==e&&(n.o=4,T(14),r=!1),Ji(n.j,n.m,null,"[Incomplete Response]");break}if(i==Is){n.o=4,T(15),Ji(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ji(n.j,n.m,i,null),io(n,i)}oc(n)&&i!=li&&i!=Is&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,T(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Aa(e),e.K=!0,T(11))):(Ji(n.j,n.m,t,"[Invalid Chunked Response]"),Vs(n),Bo(n))}function qc(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?li:(t=Number(e.substring(t,r)),isNaN(t)?Is:(r+=1)+t>e.length?li:(e=e.substr(r,t),n.C=r+t,e))}function ac(n){n.V=Date.now()+n.O,Wd(n,n.O)}function Wd(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=H(cr(n.gb,n),e)}function lc(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Bo(n){0==n.l.G||n.I||_l(n.l,n)}function Vs(n){lc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,_i(n.T),cl(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function io(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||eu(t.h,n)))if(!n.J&&eu(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Na(t),co(t)}ci(t),T(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=H(cr(t.cb,t),6e3));if(1>=oo(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else fo(t,11)}else if((n.J||t.g==n)&&Na(t),!Ao(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.T=w[0],w=w[1],2==t.G)if("c"==w[0]){t.I=w[1],t.ka=w[2];const N=w[3];null!=N&&(t.ma=N,t.j.info("VER="+t.ma));const k=w[4];null!=k&&(t.Ca=k,t.j.info("SVER="+t.Ca));const j=w[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const ae=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var l=r.h;l.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(tu(l,l.h),l.h=null))}if(r.D){const Ie=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Ie&&(r.za=Ie,In(r.F,r.D,Ie))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=af(r,r.H?r.ka:null,r.V),d.J){dc(r.h,d);var g=d,_=r.J;_&&g.setTimeout(_),g.B&&(lc(g),ac(g)),r.g=d}else hc(r);0<t.i.length&&Ta(t)}else"stop"!=w[0]&&"close"!=w[0]||fo(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?fo(t,7):nu(t):"noop"!=w[0]&&t.l&&t.l.wa(w),t.A=0)}I()}catch{}}function zu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vs(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Kc(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vs(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Wu(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vs(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(_t=yi.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const e=this.L;e&&3==ts(n)?e.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const N=ts(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>N)&&(3!=N||oi||this.g&&(this.h.h||this.g.fa()||Ea(this.g)))){this.I||4!=N||7==e||I(),lc(this);var t=this.g.aa();this.Y=t;t:if(oc(this)){var r=Ea(this.g);n="";var i=r.length,l=4==ts(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),Bo(this);var d="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function ic(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.U,N,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ao(g)){var w=g;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,T(12),Vs(this),Bo(this);break e}Ji(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,io(this,t)}this.P?(er(this,N,d),oi&&this.i&&3==N&&(Gu(this.S,this.T,"tick",this.hb),this.T.start())):(Ji(this.j,this.m,d,null),io(this,d)),4==N&&Vs(this),this.i&&!this.I&&(4==N?_l(this.l,this):(this.i=!1,ac(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,T(12)):(this.o=0,T(13)),Vs(this),Bo(this)}}}catch{}},_t.hb=function(){if(this.g){var n=ts(this.g),e=this.g.fa();this.C<e.length&&(lc(this),er(this,n,e),this.i&&4!=n&&ac(this))}},_t.cancel=function(){this.I=!0,Vs(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function sc(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(I(),T(17)),Vs(this),this.o=2,Bo(this)):Wd(this,this.V-n)};var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bs(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bs){this.h=void 0!==e?e:n.h,Bi(this,n.j),this.s=n.s,this.g=n.g,Uo(this,n.m),this.l=n.l,e=n.i;var t=new uc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Xh(this,t),this.o=n.o}else n&&(t=String(n).match(qu))?(this.h=!!e,Bi(this,t[1]||"",!0),this.s=Kn(t[2]||""),this.g=Kn(t[3]||"",!0),Uo(this,t[4]),this.l=Kn(t[5]||"",!0),Xh(this,t[6]||"",!0),this.o=Kn(t[7]||"")):(this.h=!!e,this.i=new uc(null,this.h))}function Vi(n){return new Bs(n)}function Bi(n,e,t){n.j=t?Kn(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Uo(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Xh(n,e,t){e instanceof uc?(n.i=e,function pl(n,e){e&&!n.j&&(vi(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Yc(this,r),fl(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Qr(e,Qc)),n.i=new uc(e,n.h))}function In(n,e,t){n.i.set(e,t)}function ba(n){return In(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kn(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Qr(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Zc),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Zc(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Qr(e,jo,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Qr(e,jo,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Qr(t,"/"==t.charAt(0)?Ku:cc,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Qr(t,Da)),n.join("")};var jo=/[#\/\?@]/g,cc=/[#\?:]/g,Ku=/[#\?]/g,Qc=/[#\?@]/g,Da=/#/g;function uc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vi(n){n.g||(n.g=new Map,n.h=0,n.i&&function Br(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Yc(n,e){vi(n),e=$o(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function so(n,e){return vi(n),e=$o(n,e),n.g.has(e)}function fl(n,e,t){Yc(n,e),0<t.length&&(n.i=null,n.g.set($o(n,e),ua(t)),n.h+=t.length)}function $o(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jc(n){this.l=n||Xc,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ga&&Dt.g.Ga()&&Dt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=uc.prototype).add=function(n,e){vi(this),this.i=null,n=$o(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(n,e){vi(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_t.oa=function(){vi(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},_t.W=function(n){vi(this);let e=[];if("string"==typeof n)so(this,n)&&(e=e.concat(this.g.get($o(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_t.set=function(n,e){return vi(this),this.i=null,so(this,n=$o(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_t.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var i=l;""!==d[r]&&(i+="="+encodeURIComponent(String(d[r]))),n.push(i)}}return this.i=n.join("&")};var Xc=10;function wa(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oo(n){return n.h?1:n.g?n.g.size:0}function eu(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function tu(n,e){n.g?n.g.add(e):n.h=e}function dc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ca(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ua(n.i)}function gl(){}function Zu(){this.g=new gl}function bi(n,e,t){const r=t||"";try{zu(n,function(i,l){let d=i;ks(i)&&(d=to(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Us(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Di(n){this.l=n.ac||null,this.j=n.jb||!1}function Go(n,e){Vn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=lo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jc.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},gl.prototype.stringify=function(n){return Dt.JSON.stringify(n,void 0)},gl.prototype.parse=function(n){return Dt.JSON.parse(n,void 0)},ur(Di,lt),Di.prototype.g=function(){return new Go(this.l,this.j)},Di.prototype.i=function(n){return function(){return n}}({}),ur(Go,Vn);var lo=0;function Ur(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ts(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dn(n)}function Dn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=Go.prototype).open=function(n,e){if(this.readyState!=lo)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dn(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Dt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ts(this)),this.readyState=lo},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Dt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ur(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ts(this):Dn(this),3==this.readyState&&Ur(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,Ts(this))},_t.Ua=function(n){this.g&&(this.response=n,Ts(this))},_t.ga=function(){this.g&&Ts(this)},_t.setRequestHeader=function(n,e){this.v.append(n,e)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ef=Dt.JSON.parse;function Zn(n){Vn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ia,this.K=this.L=!1}ur(Zn,Vn);var Ia="",tf=/^https?$/i,nf=["POST","PUT"];function rf(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yr(n),zd(n)}function yr(n){n.D||(n.D=!0,Ne(n,"complete"),Ne(n,"error"))}function sf(n){if(n.h&&typeof sr<"u"&&(!n.C[1]||4!=ts(n)||2!=n.aa()))if(n.v&&4==ts(n))_a(n.Ha,0,n);else if(Ne(n,"readystatechange"),4==ts(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(qu)[1]||null;if(!i&&Dt.self&&Dt.self.location){var l=Dt.self.location.protocol;i=l.substr(0,l.length-1)}r=!tf.test(i?i.toLowerCase():"")}t=r}if(t)Ne(n,"complete"),Ne(n,"success");else{n.m=6;try{var d=2<ts(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",yr(n)}}finally{zd(n)}}}function zd(n,e){if(n.g){vr(n);const t=n.g,r=n.C[0]?Os:null;n.g=null,n.C=null,e||Ne(n,"ready");try{t.onreadystatechange=r}catch{}}}function vr(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function ts(n){return n.g?n.g.readyState:0}function Ea(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ia:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function qd(n){let e="";return Kr(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ml(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=qd(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):In(n,e,t))}function jr(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ns(n){this.Ca=0,this.i=[],this.j=new ro,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=jr("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=jr("baseRetryDelayMs",5e3,n),this.bb=jr("retryDelaySeedMs",1e4,n),this.$a=jr("forwardChannelMaxRetries",2,n),this.ta=jr("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Jc(n&&n.concurrentRequestLimit),this.Fa=new Zu,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function nu(n){if(uo(n),3==n.G){var e=n.U++,t=Vi(n.F);In(t,"SID",n.I),In(t,"RID",e),In(t,"TYPE","terminate"),Wo(n,t),(e=new yi(n,n.j,e,void 0)).K=2,e.v=ba(Vi(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(t=Dt.navigator.sendBeacon(e.v.toString(),"")),!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Yu(e.l,null),e.g.da(e.v)),e.F=Date.now(),ac(e)}yl(n)}function co(n){n.g&&(Aa(n),n.g.cancel(),n.g=null)}function uo(n){co(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),Na(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function Ta(n){wa(n.h)||n.m||(n.m=!0,Po(n.Ja,n),n.C=0)}function ru(n,e){var t;t=e?e.m:n.U++;const r=Vi(n.F);In(r,"SID",n.I),In(r,"RID",t),In(r,"AID",n.T),Wo(n,r),n.o&&n.s&&ml(r,n.o,n.s),t=new yi(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Sa(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),tu(n.h,t),Li(t,r,e)}function Wo(n,e){n.ia&&Kr(n.ia,function(t,r){In(e,r,t)}),n.l&&zu({},function(t,r){In(e,r,t)})}function Sa(n,e,t){t=Math.min(n.i.length,t);var r=n.l?cr(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let g=!0;for(let _=0;_<t;_++){let w=i[_].h;const N=i[_].g;if(w-=l,0>w)l=Math.max(0,i[_].h-100),g=!1;else try{bi(N,d,"req"+w+"_")}catch{r&&r(N)}}if(g){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function hc(n){n.g||n.u||(n.Z=1,Po(n.Ia,n),n.A=0)}function ci(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=H(cr(n.Ia,n),iu(n,n.A)),n.A++,0))}function Aa(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function ho(n){n.g=new yi(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Vi(n.sa);In(e,"RID","rpc"),In(e,"SID",n.I),In(e,"CI",n.L?"0":"1"),In(e,"AID",n.T),In(e,"TYPE","xmlhttp"),Wo(n,e),n.o&&n.s&&ml(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=ba(Vi(e)),t.s=null,t.P=!0,Es(t,n)}function Na(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function _l(n,e){var t=null;if(n.g==e){Na(n),Aa(n),n.g=null;var r=2}else{if(!eu(n.h,e))return;t=e.D,dc(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Ne(r=Vo(),new P(r,t)),Ta(n)}else hc(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function mg(n,e){return!(oo(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=H(cr(n.Ja,n,e),iu(n,n.C)),n.C++,0)))}(n,e)||2==r&&ci(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:fo(n,5);break;case 4:fo(n,10);break;case 3:fo(n,6);break;default:fo(n,2)}}function iu(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function fo(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=cr(n.kb,n);t||(t=new Bs("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Bi(t,"https"),ba(t)),function ao(n,e){const t=new ro;if(Dt.Image){const r=new Image;r.onload=qn(Us,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qn(Us,t,r,"TestLoadImage: error",!1,e),r.onabort=qn(Us,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qn(Us,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else T(2);n.G=0,n.l&&n.l.va(e),yl(n),uo(n)}function yl(n){if(n.G=0,n.la=[],n.l){const e=Ca(n.h);(0!=e.length||0!=n.i.length)&&(da(n.la,e),da(n.la,n.i),n.h.i.length=0,ua(n.i),n.i.length=0),n.l.ua()}}function af(n,e,t){var r=t instanceof Bs?Vi(t):new Bs(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Uo(r,r.m);else{var i=Dt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new Bs(null,void 0);r&&Bi(l,r),e&&(l.g=e),i&&Uo(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&In(r,t,e),In(r,"VER",n.ma),Wo(n,r),r}function Yu(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zn(t&&n.Da&&!n.ra?new Di({jb:!0}):n.ra)).Ka(n.H),e}function Kd(){}function zo(){if(Ks&&!(10<=Number(ec)))throw Error("Environmental error: no available transport.")}function Ar(n,e){Vn.call(this),this.g=new ns(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Ao(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ao(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qo(this)}function vl(n){Qt.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wi(){ar.call(this),this.status=1}function qo(n){this.g=n}(_t=Zn.prototype).Ka=function(n){this.L=n},_t.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dn.g(),this.C=function en(n){return n.h||(n.h=n.i())}(this.u?this.u:dn),this.g.onreadystatechange=cr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void rf(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=Dt.FormData&&n instanceof Dt.FormData,!(0<=$u(nf,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vr(this),0<this.B&&((this.K=function Qu(n){return Ks&&function ai(){return function Jl(n){var e=Ds;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Wc(String(Zs)).split("."),t=Wc("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=Yl(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||Yl(0==i[2].length,0==l[2].length)||Yl(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cr(this.qa,this)):this.A=_a(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){rf(this,l)}},_t.qa=function(){typeof sr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ne(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ne(this,"complete"),Ne(this,"abort"),zd(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),Zn.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?sf(this):this.fb())},_t.fb=function(){sf(this)},_t.aa=function(){try{return 2<ts(this)?this.g.status:-1}catch{return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ef(e)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=ns.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new yi(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Vr(l),Ys(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Sa(this,i,e),In(t=Vi(this.F),"RID",n),In(t,"CVER",22),this.D&&In(t,"X-HTTP-Session-Id",this.D),Wo(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(qd(l)))+"&"+e:this.o&&ml(t,this.o,l)),tu(this.h,i),this.Ya&&In(t,"TYPE","init"),this.O?(In(t,"$req",e),In(t,"SID","null"),i.Z=!0,Li(i,t,null)):Li(i,t,e),this.G=2}}else 3==this.G&&(n?ru(this,n):0==this.i.length||wa(this.h)||ru(this))},_t.Ia=function(){if(this.u=null,ho(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=H(cr(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,T(10),co(this),ho(this))},_t.cb=function(){null!=this.v&&(this.v=null,co(this),ci(this),T(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),T(2)):(this.j.info("Failed to ping google.com"),T(1))},(_t=Kd.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},zo.prototype.g=function(n,e){return new Ar(n,e)},ur(Ar,Vn),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;T(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=af(n,null,n.V),Ta(n)},Ar.prototype.close=function(){nu(this.g)},Ar.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=to(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ta(e)},Ar.prototype.M=function(){this.g.l=null,delete this.j,nu(this.g),delete this.g,Ar.X.M.call(this)},ur(vl,Qt),ur(wi,ar),ur(qo,Kd),qo.prototype.xa=function(){Ne(this.g,"a")},qo.prototype.wa=function(n){Ne(this.g,new vl(n))},qo.prototype.va=function(n){Ne(this.g,new wi)},qo.prototype.ua=function(){Ne(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,Ar.prototype.send=Ar.prototype.u,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,we.COMPLETE="complete",an.EventType=Xt,Xt.OPEN="a",Xt.CLOSE="b",Xt.ERROR="c",Xt.MESSAGE="d",Vn.prototype.listen=Vn.prototype.N,Zn.prototype.listenOnce=Zn.prototype.O,Zn.prototype.getLastError=Zn.prototype.Oa,Zn.prototype.getLastErrorCode=Zn.prototype.Ea,Zn.prototype.getStatus=Zn.prototype.aa,Zn.prototype.getResponseJson=Zn.prototype.Sa,Zn.prototype.getResponseText=Zn.prototype.fa,Zn.prototype.send=Zn.prototype.da,Zn.prototype.setWithCredentials=Zn.prototype.Ka;var su=xn.createWebChannelTransport=function(){return new zo},po=xn.getStatEventTarget=function(){return Vo()},fc=xn.ErrorCode=de,go=xn.EventType=we,lf=xn.Event=Xi,Ma=xn.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mo=xn.FetchXmlHttpFactory=Di,pc=xn.WebChannel=an,hr=xn.XhrIo=Zn;const Ju="@firebase/firestore";class S{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}S.UNAUTHENTICATED=new S(null),S.GOOGLE_CREDENTIALS=new S("google-credentials-uid"),S.FIRST_PARTY=new S("first-party-uid"),S.MOCK_USER=new S("mock-user");let A="9.13.0";const O=new Fr.Yd("@firebase/firestore");function $(){return O.logLevel}function W(n,...e){if(O.logLevel<=Fr.in.DEBUG){const t=e.map(Et);O.debug(`Firestore (${A}): ${n}`,...t)}}function Se(n,...e){if(O.logLevel<=Fr.in.ERROR){const t=e.map(Et);O.error(`Firestore (${A}): ${n}`,...t)}}function Ze(n,...e){if(O.logLevel<=Fr.in.WARN){const t=e.map(Et);O.warn(`Firestore (${A}): ${n}`,...t)}}function Et(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Fe(n="Unexpected state"){const e=`FIRESTORE (${A}) INTERNAL ASSERTION FAILED: `+n;throw Se(e),new Error(e)}function ze(n,e){n||Fe()}function He(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _o{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(S.UNAUTHENTICATED))}shutdown(){}}class Ko{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xa{constructor(e){this.t=e,this.currentUser=S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let d=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Hn,e.enqueueRetryable(()=>l(this.currentUser))};const g=()=>{const w=d;e.enqueueRetryable((0,Ae.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},_=w=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Hn)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze("string"==typeof r.accessToken),new _o(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(null===e||"string"==typeof e),new S(e)}}class Dl{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=S.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ze(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ra{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new Dl(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(S.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ou{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _g{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.A;return this.A=l.token,W("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?i(l):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze("string"==typeof t.token),this.A=t.token,new ou(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function P_(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class cf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=P_(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Zo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function yg(n){return n+"\0"}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Gn(0,0))}static max(){return new Bt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class au{constructor(e,t,r){void 0===t?t=0:t>e.length&&Fe(),void 0===r?r=e.length-t:r>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===au.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof au?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends au{construct(e,t,r){return new hn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const uf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends au{construct(e,t,r){return new fr(e,t,r)}static isValidIdentifier(e){return uf.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ve(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Ve(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ve(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(d=!d,i++):"."!==g||d?(r+=g,i++):(l(),i++)}if(l(),d)throw new Ve(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}class nt{constructor(e){this.path=e}static fromPath(e){return new nt(hn.fromString(e))}static fromName(e){return new nt(hn.fromString(e).popFirst(5))}static empty(){return new nt(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new hn(e.slice()))}}class Oa{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Xu(n){return n.fields.find(e=>2===e.kind)}function js(n){return n.fields.filter(e=>2!==e.kind)}Oa.UNKNOWN_ID=-1;class Zd{constructor(e,t){this.fieldPath=e,this.kind=t}}class ka{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ka(0,rs.min())}}function Qd(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new rs(i,nt.empty(),e)}function df(n){return new rs(n.readTime,n.key,-1)}class rs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rs(Bt.min(),nt.empty(),-1)}static max(){return new rs(Bt.max(),nt.empty(),-1)}}function Yd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nt.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const Qo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yo(n){return hf.apply(this,arguments)}function hf(){return hf=(0,Ae.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==Qo)throw n;W("LocalStore","Unexpectedly lost primary lease")}),hf.apply(this,arguments)}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let i=0,l=0,d=!1;e.forEach(g=>{++i,g.next(()=>{++l,d&&l===i&&t()},_=>r(_))}),d=!0,l===i&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(i=>i?_e.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new _e((r,i)=>{const l=e.length,d=new Array(l);let g=0;for(let _=0;_<l;_++){const w=_;t(e[w]).next(N=>{d[w]=N,++g,g===l&&r(d)},N=>i(N))}})}static doWhile(e,t){return new _e((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Jd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Hn,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new gc(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=ff(r.target.error);this.P.reject(new gc(e,i))}}static open(e,t,r,i){try{return new Jd(t,e.transaction(i,r))}catch(l){throw new gc(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new L_(t)}}class br{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===br.D((0,qt.z$)())&&Se("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),mc(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,qt.hl)())return!1;if(br.N())return!0;const e=(0,qt.z$)(),t=br.D(e),r=0<t&&t<10,i=br.k(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Ae.Z)(function*(){return t.db||(W("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new gc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const g=d.target.error;i("VersionError"===g.name?new Ve(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Ve(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new gc(e,g))},l.onupgradeneeded=d=>{W("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{W("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ae.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{l.db=yield l.F(e);const _=Jd.open(l.db,e,d?"readonly":"readwrite",r),w=i(_).next(N=>(_.V(),N)).catch(N=>(_.abort(N),_e.reject(N))).toPromise();return w.catch(()=>{}),yield _.v,w}catch(_){const w=_,N="FirebaseError"!==w.name&&g<3;if(W("SimpleDb","Transaction failed with error:",w.message,"Retrying:",N),l.close(),!N)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lu{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return mc(this.U.delete())}}class gc extends Ve{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pa(n){return"IndexedDbTransactionError"===n.name}class L_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(W("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),mc(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),mc(this.store.add(e))}get(e){return mc(this.store.get(e)).next(t=>(void 0===t&&(t=null),W("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),mc(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),mc(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.H(i,(d,g)=>{l.push(g)}).next(()=>l)}{const i=this.store.getAll(r.range);return new _e((l,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{l(g.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new _e((i,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Y(e,t){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(l,d,g)=>g.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new _e((r,i)=>{t.onerror=l=>{const d=ff(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}H(e,t){const r=[];return new _e((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void i();const _=new lu(g),w=t(g.primaryKey,g.value,_);if(w instanceof _e){const N=w.catch(k=>(_.done(),_e.reject(k)));r.push(N)}_.isDone?i():null===_.G?g.continue():g.continue(_.G)}}).next(()=>_e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function mc(n){return new _e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=ff(r.target.error);t(i)}})}let bg=!1;function ff(n){const e=br.D((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bg||(bg=!0,setTimeout(()=>{throw r},0)),r}}return n}class Dg{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;W("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ae.Z)(function*(){t.task=null;try{W("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Pa(r)?W("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Yo(r)}yield t.nt(6e4)}))}}class wg{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ae.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,l=!0;return _e.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return W("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,i).next(g=>{i-=g,r.add(d)});l=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(i,l)).next(g=>(W("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,l)=>{const d=df(l);Yd(d,r)>0&&(r=d)}),new rs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function V_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ss(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ed(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}is.at=-1;class Nn{constructor(e,t){this.comparator=e,this.root=t||Yr.EMPTY}insert(e,t){return new Nn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new Nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jo(this.root,e,this.comparator,!0)}}class Jo{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Yr.RED,this.left=i??Yr.EMPTY,this.right=l??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Yr(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new Nn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(e){return new pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class pf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function td(n){return n.hasNext()?n.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new ss([])}unionWith(e){let t=new En(fr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Dr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const nd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(n){if(ze(!!n),"string"==typeof n){let e=0;const t=nd.exec(n);if(ze(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wl(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function gf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cg(n){const e=n.mapValue.fields.__previous_value__;return gf(e)?Cg(e):e}function cu(n){const e=_c(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class mf{constructor(e,t,r,i,l,d,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class Fa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fa&&e.projectId===this.projectId&&e.database===this.database}}function Cl(n){return null==n}function Il(n){return 0===n&&1/n==-1/0}function uu(n){return"number"==typeof n&&Number.isInteger(n)&&!Il(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const El={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tr={nullValue:"NULL_VALUE"};function yo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gf(n)?4:_f(n)?9007199254740991:10:Fe()}function vo(n,e){if(n===e)return!0;const t=yo(n);if(t!==yo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cu(n).isEqual(cu(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=_c(r.timestampValue),d=_c(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,wl(n.bytesValue).isEqual(wl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return wr(r.geoPointValue.latitude)===wr(i.geoPointValue.latitude)&&wr(r.geoPointValue.longitude)===wr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return wr(r.integerValue)===wr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=wr(r.doubleValue),d=wr(i.doubleValue);return l===d?Il(l)===Il(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Zo(n.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(V_(l)!==V_(d))return!1;for(const g in l)if(l.hasOwnProperty(g)&&(void 0===d[g]||!vo(l[g],d[g])))return!1;return!0}(n,e);default:return Fe()}var i}function yc(n,e){return void 0!==(n.values||[]).find(t=>vo(t,e))}function Xo(n,e){if(n===e)return 0;const t=yo(n),r=yo(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=wr(i.integerValue||i.doubleValue),g=wr(l.integerValue||l.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return Xd(n.timestampValue,e.timestampValue);case 4:return Xd(cu(n),cu(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=wl(i),g=wl(l);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),g=l.split("/");for(let _=0;_<d.length&&_<g.length;_++){const w=jt(d[_],g[_]);if(0!==w)return w}return jt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=jt(wr(i.latitude),wr(l.latitude));return 0!==d?d:jt(wr(i.longitude),wr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],g=l.values||[];for(let _=0;_<d.length&&_<g.length;++_){const w=Xo(d[_],g[_]);if(w)return w}return jt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===El.mapValue&&l===El.mapValue)return 0;if(i===El.mapValue)return 1;if(l===El.mapValue)return-1;const d=i.fields||{},g=Object.keys(d),_=l.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let N=0;N<g.length&&N<w.length;++N){const k=jt(g[N],w[N]);if(0!==k)return k;const j=Xo(d[g[N]],_[w[N]]);if(0!==j)return j}return jt(g.length,w.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function Xd(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=_c(n),r=_c(e),i=jt(t.seconds,r.seconds);return 0!==i?i:jt(t.nanos,r.nanos)}function vc(n){return eh(n)}function eh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_c(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wl(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=eh(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const g of i)d?d=!1:l+=",",l+=`${g}:${eh(r.fields[g])}`;return l+"}"}(n.mapValue):Fe();var e}function bc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function th(n){return!!n&&"integerValue"in n}function Tl(n){return!!n&&"arrayValue"in n}function B_(n){return!!n&&"nullValue"in n}function Dc(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function du(n){return!!n&&"mapValue"in n}function wc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ss(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _f(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ig(n){return"nullValue"in n?tr:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bc(Fa.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Fe()}function yf(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bc(Fa.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?El:Fe()}function rd(n,e){const t=Xo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function id(n,e){const t=Xo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!du(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wc(t)}setAll(e){let t=fr.emptyPath(),r={},i=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}d?r[g.lastSegment()]=wc(d):i.push(g.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());du(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ss(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Nr(wc(this.value))}}function U_(n){const e=[];return Ss(n.fields,(t,r)=>{const i=new fr([t]);if(du(r)){const l=U_(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new ss(e)}class Fn{constructor(e,t,r,i,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Fn(e,0,Bt.min(),Bt.min(),Nr.empty(),0)}static newFoundDocument(e,t,r){return new Fn(e,1,t,Bt.min(),r,0)}static newNoDocument(e,t){return new Fn(e,2,t,Bt.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,Bt.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vf{constructor(e,t=null,r=[],i=[],l=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=g,this.ht=null}}function Ui(n,e=null,t=[],r=[],i=null,l=null,d=null){return new vf(n,e,t,r,i,l,d)}function $s(n){const e=He(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+vc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Cl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>vc(r)).join(",")),e.ht=t}return e.ht}function sd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Va(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!vo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nh(n.startAt,e.startAt)&&nh(n.endAt,e.endAt)}function Al(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function La(n,e){return n.filters.filter(t=>t instanceof Mr&&t.field.isEqual(e))}function Eg(n,e,t){let r=tr,i=!0;for(const l of La(n,e)){let d=tr,g=!0;switch(l.op){case"<":case"<=":d=Ig(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,g=!1;break;case"!=":case"not-in":d=tr}rd({value:r,inclusive:i},{value:d,inclusive:g})<0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];rd({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function od(n,e,t){let r=El,i=!0;for(const l of La(n,e)){let d=El,g=!0;switch(l.op){case">=":case">":d=yf(l.value),g=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,g=!1;break;case"!=":case"not-in":d=El}id({value:r,inclusive:i},{value:d,inclusive:g})>0&&(r=d,i=g)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];id({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class Mr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new os(e,t,r):"array-contains"===t?new j_(e,r):"in"===t?new wf(e,r):"not-in"===t?new $r(e,r):"array-contains-any"===t?new Cf(e,r):new Mr(e,t,r)}static lt(e,t,r){return"in"===t?new bf(e,r):new Df(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Xo(t,this.value)):null!==t&&yo(this.value)===yo(t)&&this.ft(Xo(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class os extends Mr{constructor(e,t,r){super(e,t,r),this.key=nt.fromName(r.referenceValue)}matches(e){const t=nt.comparator(e.key,this.key);return this.ft(t)}}class bf extends Mr{constructor(e,t){super(e,"in",t),this.keys=Tg(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Df extends Mr{constructor(e,t){super(e,"not-in",t),this.keys=Tg(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tg(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nt.fromName(r.referenceValue))}class j_ extends Mr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tl(t)&&yc(t.arrayValue,this.value)}}class wf extends Mr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yc(this.value.arrayValue,t)}}class $r extends Mr{constructor(e,t){super(e,"not-in",t)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yc(this.value.arrayValue,t)}}class Cf extends Mr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}class ea{constructor(e,t){this.position=e,this.inclusive=t}}class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Va(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Nl(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?nt.comparator(nt.fromName(d.referenceValue),t.key):Xo(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function nh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vo(n.position[t],e.position[t]))return!1;return!0}class As{constructor(e,t=null,r=[],i=[],l=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=g,this.endAt=_,this._t=null,this.wt=null}}function Sg(n,e,t,r,i,l,d,g){return new As(n,e,t,r,i,l,d,g)}function Ba(n){return new As(n)}function $_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function If(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cc(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Ef(n){return null!==n.collectionGroup}function y(n){const e=He(n);if(null===e._t){e._t=[];const t=Cc(e),r=If(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new hu(t)),e._t.push(new hu(fr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new hu(fr.keyField(),l))}}}return e._t}function f(n){const e=He(n);if(!e.wt)if("F"===e.limitType)e.wt=Ui(e.path,e.collectionGroup,y(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of y(e))t.push(new hu(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new ea(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ea(e.startAt.position,e.startAt.inclusive):null;e.wt=Ui(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function m(n,e,t){return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function b(n,e){return sd(f(n),f(e))&&n.limitType===e.limitType}function x(n){return`${$s(f(n))}|lt:${n.limitType}`}function L(n){return`Query(target=${function Sl(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${vc(r.value)}`;var r}).join(", ")}]`),Cl(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>vc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>vc(t)).join(",")),`Target(${e})`}(f(n))}; limitType=${n.limitType})`}function J(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):nt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,d){const g=Nl(i,l,d);return i.inclusive?g<=0:g<0}(t.startAt,y(t),r)||t.endAt&&!function(i,l,d){const g=Nl(i,l,d);return i.inclusive?g>=0:g>0}(t.endAt,y(t),r)));var t,r}function Ce(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ke(n){return(e,t)=>{let r=!1;for(const i of y(n)){const l=gt(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function gt(n,e,t){const r=n.field.isKeyField()?nt.comparator(e.key,t.key):function(i,l,d){const g=l.data.field(i),_=d.data.field(i);return null!==g&&null!==_?Xo(g,_):Fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}function xt(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function Nt(n){return{integerValue:""+n}}function Cr(n,e){return uu(e)?Nt(e):xt(n,e)}class Ci{constructor(){this._=void 0}}function rh(n,e,t){return n instanceof Ic?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Ml?Tf(n,e):n instanceof Ec?Ng(n,e):function(r,i){const l=fu(r,i),d=ih(l)+ih(r.yt);return th(l)&&th(r.yt)?Nt(d):xt(r.It,d)}(n,e)}function Ag(n,e,t){return n instanceof Ml?Tf(n,e):n instanceof Ec?Ng(n,e):t}function fu(n,e){return n instanceof xl?th(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ic extends Ci{}class Ml extends Ci{constructor(e){super(),this.elements=e}}function Tf(n,e){const t=sh(e);for(const r of n.elements)t.some(i=>vo(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ec extends Ci{constructor(e){super(),this.elements=e}}function Ng(n,e){let t=sh(e);for(const r of n.elements)t=t.filter(i=>!vo(i,r));return{arrayValue:{values:t}}}class xl extends Ci{constructor(e,t){super(),this.It=e,this.yt=t}}function ih(n){return wr(n.integerValue||n.doubleValue)}function sh(n){return Tl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rl{constructor(e,t){this.field=e,this.transform=t}}class Tb{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class oh{}function ah(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ch(n.key,nr.none()):new lh(n.key,n.data,nr.none());{const t=n.data,r=Nr.empty();let i=new En(fr.comparator);for(let l of e.fields)if(!i.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),i=i.add(l)}return new Tc(n.key,r,new ss(i.toArray()),nr.none())}}function zI(n,e,t){n instanceof lh?function(r,i,l){const d=r.value.clone(),g=Ab(r.fieldTransforms,i,l.transformResults);d.setAll(g),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Tc?function(r,i,l){if(!xg(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=Ab(r.fieldTransforms,i,l.transformResults),g=i.data;g.setAll(Sb(r)),g.setAll(d),i.convertToFoundDocument(l.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sf(n,e,t,r){return n instanceof lh?function(i,l,d,g){if(!xg(i.precondition,l))return d;const _=i.value.clone(),w=Rg(i.fieldTransforms,g,l);return _.setAll(w),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tc?function(i,l,d,g){if(!xg(i.precondition,l))return d;const _=Rg(i.fieldTransforms,g,l),w=l.data;return w.setAll(Sb(i)),w.setAll(_),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null===d?null:d.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(N=>N.field))}(n,e,t,r):(d=t,xg(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function qI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=fu(r.transform,i||null);null!=l&&(null===t&&(t=Nr.empty()),t.set(r.field,l))}return t||null}function H_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zo(t,r,(i,l)=>function Mg(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ml&&r instanceof Ml||t instanceof Ec&&r instanceof Ec?Zo(t.elements,r.elements,vo):t instanceof xl&&r instanceof xl?vo(t.yt,r.yt):t instanceof Ic&&r instanceof Ic);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class lh extends oh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tc extends oh{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ab(n,e,t){const r=new Map;ze(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,g=e.data.field(l.field);r.set(l.field,Ag(d,g,t[i]))}return r}function Rg(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,rh(l,d,e))}return r}class ch extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G_ extends oh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KI{constructor(e){this.count=e}}var Hr,wn;function W_(n){switch(n){default:return Fe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function ji(n){if(void 0===n)return Se("GRPC error has no .code"),he.UNKNOWN;switch(n){case Hr.OK:return he.OK;case Hr.CANCELLED:return he.CANCELLED;case Hr.UNKNOWN:return he.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return he.INTERNAL;case Hr.UNAVAILABLE:return he.UNAVAILABLE;case Hr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Hr.NOT_FOUND:return he.NOT_FOUND;case Hr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Hr.ABORTED:return he.ABORTED;case Hr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Hr.DATA_LOSS:return he.DATA_LOSS;default:return Fe()}}(wn=Hr||(Hr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";class Ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return ed(this.inner)}size(){return this.innerSize}}const Nb=new Nn(nt.comparator);function as(){return Nb}const $i=new Nn(nt.comparator);function Sc(...n){let e=$i;for(const t of n)e=e.insert(t.key,t);return e}function z_(n){let e=$i;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function kl(){return uh()}function Mb(){return uh()}function uh(){return new Ol(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZI=new Nn(nt.comparator),xb=new En(nt.comparator);function Jt(...n){let e=xb;for(const t of n)e=e.add(t);return e}const Rb=new En(jt);function Og(){return Rb}class Af{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,dh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Af(Bt.min(),i,Og(),as(),Jt())}}class dh{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dh(r,t,Jt(),Jt(),Jt())}}class Nf{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class q_{constructor(e,t){this.targetId=e,this.At=t}}class ad{constructor(e,t,r=Dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Pl{constructor(){this.Rt=0,this.bt=YI(),this.Pt=Dr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Jt(),t=Jt(),r=Jt();return this.bt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Fe()}}),new dh(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=YI()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class QI{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=as(),this.qt=Ob(),this.Kt=new En(jt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const l=i.target;if(Al(l))if(0===r){const d=new nt(l.path);this.jt(t,d,Fn.newNoDocument(d,Bt.min()))}else ze(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,d)=>{const g=this.Xt(d);if(g){if(l.current&&Al(g.target)){const _=new nt(g.target.path);null!==this.Ut.get(_)||this.ee(d,_)||this.jt(d,_,Fn.newNoDocument(_,e))}l.Dt&&(t.set(d,l.xt()),l.Nt())}});let r=Jt();this.qt.forEach((l,d)=>{let g=!0;d.forEachWhile(_=>{const w=this.Xt(_);return!w||2===w.purpose||(g=!1,!1)}),g&&(r=r.add(l))}),this.Ut.forEach((l,d)=>d.setReadTime(e));const i=new Af(e,t,this.Kt,this.Ut,r);return this.Ut=as(),this.qt=Ob(),this.Kt=new En(jt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Pl,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new En(jt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||W("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Pl),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Ob(){return new Nn(nt.comparator)}function YI(){return new Nn(nt.comparator)}const yS={asc:"ASCENDING",desc:"DESCENDING"},kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vS{constructor(e,t){this.databaseId=e,this.gt=t}}function Hs(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kg(n,e){return n.gt?e.toBase64():e.toUint8Array()}function K_(n,e){return Hs(n,e.toTimestamp())}function Ii(n){return ze(!!n),Bt.fromTimestamp(function(e){const t=_c(e);return new Gn(t.seconds,t.nanos)}(n))}function Pg(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Pb(n){const e=hn.fromString(n);return ze(ey(e)),e}function Ac(n,e){return Pg(n.databaseId,e.path)}function Fl(n,e){const t=Pb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nt(Q_(t))}function Z_(n,e){return Pg(n.databaseId,e)}function Fg(n){const e=Pb(n);return 4===e.length?hn.emptyPath():Q_(e)}function ld(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Q_(n){return ze(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function JI(n,e,t){return{name:Ac(n,e),fields:t.value.mapValue.fields}}function cd(n,e,t){const r=Fl(n,e.name),i=Ii(e.updateTime),l=new Nr({mapValue:{fields:e.fields}}),d=Fn.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Mf(n,e){let t;if(e instanceof lh)t={update:JI(n,e.key,e.value)};else if(e instanceof ch)t={delete:Ac(n,e.key)};else if(e instanceof Tc)t={update:JI(n,e.key,e.data),updateMask:jb(e.fieldMask)};else{if(!(e instanceof G_))return Fe();t={verify:Ac(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Ic)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ml)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xl)return{fieldPath:l.field.canonicalString(),increment:d.yt};throw Fe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:K_(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Fe()),t;var i}function xf(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?nr.updateTime(Ii(i.updateTime)):void 0!==i.exists?nr.exists(i.exists):nr.none():nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let g=null;"setToServerValue"in d?(ze("REQUEST_TIME"===d.setToServerValue),g=new Ic):"appendMissingElements"in d?g=new Ml(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new Ec(d.removeAllFromArray.values||[]):"increment"in d?g=new xl(l,d.increment):Fe();const _=fr.fromServerFormat(d.fieldPath);return new Rl(_,g)}(n,i)):[];var i;if(e.update){const i=Fl(n,e.update.name),l=new Nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ss((e.updateMask.fieldPaths||[]).map(w=>fr.fromServerFormat(w)));return new Tc(i,l,d,t,r)}return new lh(i,l,t,r)}if(e.delete){const i=Fl(n,e.delete);return new ch(i,t)}if(e.verify){const i=Fl(n,e.verify);return new G_(i,t)}return Fe()}function Lb(n,e){return{documents:[Z_(n,e.path)]}}function J_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Z_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Z_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(N=>function(k){if("=="===k.op){if(Dc(k.value))return{unaryFilter:{field:ud(k.field),op:"IS_NAN"}};if(B_(k.value))return{unaryFilter:{field:ud(k.field),op:"IS_NULL"}}}else if("!="===k.op){if(Dc(k.value))return{unaryFilter:{field:ud(k.field),op:"IS_NOT_NAN"}};if(B_(k.value))return{unaryFilter:{field:ud(k.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ud(k.field),op:X_(k.op),value:k.value}}}(N));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(w=>{return{field:ud((N=w).field),direction:Ub(N.dir)};var N})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(w=e.limit,n.gt||Cl(w)?w:{value:w});var w,g,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Vb(n){let e=Fg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ze(1===r);const N=t.from[0];N.allDescendants?i=N.collectionId:e=e.child(N.collectionId)}let l=[];t.where&&(l=Bb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(N=>{return new hu(pu((k=N).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let g=null;t.limit&&(g=function(N){let k;return k="object"==typeof N?N.value:N,Cl(k)?null:k}(t.limit));let _=null;var N;t.startAt&&(_=new ea((N=t.startAt).values||[],!!N.before));let w=null;return t.endAt&&(w=function(N){return new ea(N.values||[],!N.before)}(t.endAt)),Sg(e,i,d,l,g,"F",_,w)}function Bb(n){return n?void 0!==n.unaryFilter?[n1(n)]:void 0!==n.fieldFilter?[t1(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Bb(e)).reduce((e,t)=>e.concat(t)):Fe():[]}function Ub(n){return yS[n]}function X_(n){return kb[n]}function ud(n){return{fieldPath:n.canonicalString()}}function pu(n){return fr.fromServerFormat(n.fieldPath)}function t1(n){return Mr.create(pu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(n.fieldFilter.op),n.fieldFilter.value)}function n1(n){switch(n.unaryFilter.op){case"IS_NAN":const e=pu(n.unaryFilter.field);return Mr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=pu(n.unaryFilter.field);return Mr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pu(n.unaryFilter.field);return Mr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=pu(n.unaryFilter.field);return Mr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}function jb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ey(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Gr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ty(e)),e=$b(n.get(t),e);return ty(e)}function $b(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function ty(n){return n+"\x01\x01"}function Ll(n){const e=n.length;if(ze(e>=2),2===e)return ze("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&Fe(),n.charAt(d+1)){case"\x01":const g=n.substring(l,d);let _;0===i.length?_=g:(i+=g,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:Fe()}l=d+2}return new hn(r)}const r1=["userId","batchId"];function dd(n,e){return[n,Gr(e)]}function Hb(n,e,t){return[n,Gr(e),t]}const Gb={},Wb=["prefixPath","collectionGroup","readTime","documentId"],zb=["prefixPath","collectionGroup","documentId"],ny=["collectionGroup","readTime","prefixPath","documentId"],qb=["canonicalId","targetId"],Lg=["targetId","path"],Vg=["path","targetId"],Kb=["collectionId","parent"],ry=["indexId","uid"],Zb=["uid","sequenceNumber"],iy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rf=["indexId","uid","orderedDocumentKey"],i1=["userId","collectionPath","documentId"],Qb=["userId","collectionPath","largestBatchId"],s1=["userId","collectionGroup","largestBatchId"],Yb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jb=[...Yb,"documentOverlays"],Bg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sy=Bg,bS=[...sy,"indexConfiguration","indexState","indexEntries"];class Ug extends vg{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Ei(n,e){const t=He(n);return br.M(t.ie,e)}class jg{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&zI(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Mb();return this.mutations.forEach(i=>{const l=e.get(i.key),d=l.overlayedDocument;let g=this.applyToLocalView(d,l.mutatedFields);g=t.has(i.key)?null:g;const _=ah(d,g);null!==_&&r.set(i.key,_),d.isValidDocument()||d.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(t,r)=>H_(t,r))&&Zo(this.baseMutations,e.baseMutations,(t,r)=>H_(t,r))}}class oy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ze(e.mutations.length===r.length);let i=ZI;const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new oy(e,t,r,i)}}class ay{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ti{constructor(e,t,r,i,l=Bt.min(),d=Bt.min(),g=Dr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xb{constructor(e){this.re=e}}function tD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$g(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ac(i=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Hs(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:hd(e.version)};else{if(!e.isUnknownDocument())return Fe();r.unknownDocument={path:t.path.toArray(),version:hd(e.version)}}var i,l;return r}function $g(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function hd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fd(n){const e=new Gn(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function gu(n,e){const t=(e.baseMutations||[]).map(l=>xf(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>xf(n.re,l)),i=Gn.fromMillis(e.localWriteTimeMs);return new jg(e.batchId,i,t,r)}function Of(n){const e=fd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fd(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var i;return void 0!==n.query.documents?(ze(1===(i=n.query).documents.length),r=f(Ba(Fg(i.documents[0])))):r=f(Vb(n.query)),new Ti(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Dr.fromBase64String(n.resumeToken))}function nD(n,e){const t=hd(e.snapshotVersion),r=hd(e.lastLimboFreeSnapshotVersion);let i;i=Al(e.target)?Lb(n.re,e.target):J_(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$s(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ly(n){const e=Vb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?m(e,e.limit,"L"):e}function Gt(n,e){return new ay(e.largestBatchId,xf(n.re,e.overlayMutation))}function cy(n,e){const t=e.path.lastSegment();return[n,Gr(e.path.popLast()),t]}function uy(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:hd(r.readTime),documentKey:Gr(r.documentKey.path),largestBatchId:r.largestBatchId}}class rD{getBundleMetadata(e,t){return iD(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:fd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return iD(e).put({bundleId:(r=t).id,createTime:hd(Ii(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return sD(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ly(i.bundledQuery),readTime:fd(i.readTime)};var i})}saveNamedQuery(e,t){return sD(e).put({name:(r=t).name,readTime:hd(Ii(r.readTime)),bundledQuery:r.bundledQuery});var r}}function iD(n){return Ei(n,"bundles")}function sD(n){return Ei(n,"namedQueries")}class kf{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new kf(e,t.uid||"")}getOverlay(e,t){return Pf(e).get(cy(this.userId,t)).next(r=>r?Gt(this.It,r):null)}getOverlays(e,t){const r=kl();return _e.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,d)=>{const g=new ay(t,d);i.push(this.ue(e,g))}),_e.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(Gr(d.getCollectionPath())));const l=[];return i.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Pf(e).Y("collectionPathOverlayIndex",g))}),_e.waitFor(l)}getOverlaysForCollection(e,t,r){const i=kl(),l=Gr(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Pf(e).W("collectionPathOverlayIndex",d).next(g=>{for(const _ of g){const w=Gt(this.It,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=kl();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Pf(e).Z({index:"collectionGroupOverlayIndex",range:g},(_,w,N)=>{const k=Gt(this.It,w);l.size()<i||k.largestBatchId===d?(l.set(k.getKey(),k),d=k.largestBatchId):N.done()}).next(()=>l)}ue(e,t){return Pf(e).put(function(r,i,l){const[d,g,_]=cy(i,l.mutation.key);return{userId:i,collectionPath:g,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Mf(r.re,l.mutation)}}(this.It,this.userId,t))}}function Pf(n){return Ei(n,"documentOverlays")}class mu{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(wr(e.integerValue));else if("doubleValue"in e){const r=wr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Il(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(wl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?_f(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Fe()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),nt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function o1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function oD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=o1(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}mu.Te=new mu;class a1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=oD(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=oD(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class dy{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class aD{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class ta{constructor(){this.Be=new a1,this.Le=new dy(this.Be),this.Ue=new aD(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class pd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new pd(this.indexId,this.documentKey,this.arrayValue,r)}}function Nc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hg(n.arrayValue,e.arrayValue),0!==t?t:(t=Hg(n.directionalValue,e.directionalValue),0!==t?t:nt.comparator(n.documentKey,e.documentKey)))}function Hg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class l1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Xu(e);if(void 0!==t&&!this.ze(t))return!1;const r=js(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const d=r[i];if(!this.He(this.je,d)||!this.Je(this.Ge[l++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(l>=this.Ge.length||!this.Je(this.Ge[l++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class c1{constructor(){this.Ye=new hy}addToCollectionParentIndex(e,t){return this.Ye.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(rs.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class hy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new En(hn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new En(hn.comparator)).toArray()}}const Gg=new Uint8Array(0);class u1{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new hy,this.Ze=new Ol(r=>$s(r),(r,i)=>sd(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:Gr(i)};return fy(e).put(l)}return _e.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[yg(t),""],!1,!0);return fy(e).W(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Ll(d.parent))}return r})}addFieldIndex(e,t){const r=Wg(e),i={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete i.indexId;const l=r.add(i);if(t.indexState){const d=bo(e);return l.next(g=>{d.put(uy(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Wg(e),i=bo(e),l=Ff(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ff(e);let i=!0;const l=new Map;return _e.forEach(this.tn(t),d=>this.en(e,d).next(g=>{i&&(i=!!g),l.set(d,g)})).next(()=>{if(i){let d=Jt();const g=[];return _e.forEach(l,(_,w)=>{var N;W("IndexedDbIndexManager",`Using index ${N=_,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(Ct=>`${Ct.fieldPath}:${Ct.kind}`).join(",")}`} to execute ${$s(t)}`);const k=function(Ct,dt){const at=Xu(dt);if(void 0===at)return null;for(const ft of La(Ct,at.fieldPath))switch(ft.op){case"array-contains-any":return ft.value.arrayValue.values||[];case"array-contains":return[ft.value]}return null}(w,_),j=function(Ct,dt){const at=new Map;for(const ft of js(dt))for(const Zt of La(Ct,ft.fieldPath))switch(Zt.op){case"==":case"in":at.set(ft.fieldPath.canonicalString(),Zt.value);break;case"not-in":case"!=":return at.set(ft.fieldPath.canonicalString(),Zt.value),Array.from(at.values())}return null}(w,_),Q=function(Ct,dt){const at=[];let ft=!0;for(const Zt of js(dt)){const Mn=0===Zt.kind?Eg(Ct,Zt.fieldPath,Ct.startAt):od(Ct,Zt.fieldPath,Ct.startAt);at.push(Mn.value),ft&&(ft=Mn.inclusive)}return new ea(at,ft)}(w,_),ae=function(Ct,dt){const at=[];let ft=!0;for(const Zt of js(dt)){const Mn=0===Zt.kind?od(Ct,Zt.fieldPath,Ct.endAt):Eg(Ct,Zt.fieldPath,Ct.endAt);at.push(Mn.value),ft&&(ft=Mn.inclusive)}return new ea(at,ft)}(w,_),Ie=this.nn(_,w,Q),xe=this.nn(_,w,ae),ct=this.sn(_,w,j),ht=this.rn(_.indexId,k,Ie,Q.inclusive,xe,ae.inclusive,ct);return _e.forEach(ht,Ct=>r.J(Ct,t.limit).next(dt=>{dt.forEach(at=>{const ft=nt.fromSegments(at.documentKey);d.has(ft)||(d=d.add(ft),g.push(ft))})}))}).next(()=>g)}return _e.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,l,d,g){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),w=_/(null!=t?t.length:1),N=[];for(let k=0;k<_;++k){const j=t?this.on(t[k/w]):Gg,Q=this.un(e,j,r[k%w],i),ae=this.cn(e,j,l[k%w],d),Ie=g.map(xe=>this.un(e,j,xe,!0));N.push(...this.createRange(Q,ae,Ie))}return N}un(e,t,r,i){const l=new pd(e,nt.empty(),t,r);return i?l:l.Ke()}cn(e,t,r,i){const l=new pd(e,nt.empty(),t,r);return i?l.Ke():l}en(e,t){const r=new l1(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let d=null;for(const g of l)r.We(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return _e.forEach(this.tn(t),i=>this.en(e,i).next(l=>{l?0!==r&&l.fields.length<function(d){let g=new En(fr.comparator),_=!1;for(const w of d.filters){const N=w;N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?_=!0:g=g.add(N.field))}for(const w of d.orderBy)w.field.isKeyField()||(g=g.add(w.field));return g.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new ta;for(const i of js(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const d=r.qe(i.kind);mu.Te.ce(l,d)}return r.$e()}on(e){const t=new ta;return mu.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new ta;return mu.Te.ce(bc(this.databaseId,t),r.qe(function(i){const l=js(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new ta);let l=0;for(const d of js(e)){const g=r[l++];for(const _ of i)if(this.ln(t,d.fieldPath)&&Tl(g))i=this.fn(i,d,g);else{const w=_.qe(d.kind);mu.Te.ce(g,w)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],l=[];for(const d of r.arrayValue.values||[])for(const g of i){const _=new ta;_.seed(g.$e()),mu.Te.ce(d,_.qe(t.kind)),l.push(_)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof Mr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Wg(e),i=bo(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const d=[];return _e.forEach(l,g=>i.get([g.indexId,this.uid]).next(_=>{d.push(function(w,N){const k=N?new ka(N.sequenceNumber,new rs(fd(N.readTime),new nt(Ll(N.documentKey)),N.largestBatchId)):ka.empty(),j=w.fields.map(([Q,ae])=>new Zd(fr.fromServerFormat(Q),ae));return new Oa(w.indexId,w.collectionGroup,j,k)}(g,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:jt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Wg(e),l=bo(e);return this._n(e).next(d=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>_e.forEach(g,_=>l.put(uy(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return _e.forEach(t,(i,l)=>{const d=r.get(i.collectionGroup);return(d?_e.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),_e.forEach(g,_=>this.wn(e,i,_).next(w=>{const N=this.mn(l,_);return w.isEqual(N)?_e.resolve():this.gn(e,l,_,w,N)}))))})}yn(e,t,r,i){return Ff(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Ff(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Ff(e);let l=new En(Nc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,g)=>{l=l.add(new pd(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>l)}mn(e,t){let r=new En(Nc);const i=this.an(t,e);if(null==i)return r;const l=Xu(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Tl(d))for(const g of d.arrayValue.values||[])r=r.add(new pd(t.indexId,e.key,this.on(g),i))}else r=r.add(new pd(t.indexId,e.key,Gg,i));return r}gn(e,t,r,i,l){W("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,_,w,N,k){const j=g.getIterator(),Q=_.getIterator();let ae=td(j),Ie=td(Q);for(;ae||Ie;){let xe=!1,ct=!1;if(ae&&Ie){const ht=w(ae,Ie);ht<0?ct=!0:ht>0&&(xe=!0)}else null!=ae?ct=!0:xe=!0;xe?(N(Ie),Ie=td(Q)):ct?(k(ae),ae=td(j)):(ae=td(j),Ie=td(Q))}}(i,l,Nc,g=>{d.push(this.yn(e,t,r,g))},g=>{d.push(this.pn(e,t,r,g))}),_e.waitFor(d)}_n(e){let t=1;return bo(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>Nc(d,g)).filter((d,g,_)=>!g||0!==Nc(d,_[g-1]));const i=[];i.push(e);for(const d of r){const g=Nc(d,e),_=Nc(d,t);if(0===g)i[0]=e.Ke();else if(g>0&&_<0)i.push(d),i.push(d.Ke());else if(_>0)break}i.push(t);const l=[];for(let d=0;d<i.length;d+=2)l.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,Gg,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,Gg,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lD)}getMinOffset(e,t){return _e.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||Fe())).next(lD)}}function fy(n){return Ei(n,"collectionParents")}function Ff(n){return Ei(n,"indexEntries")}function Wg(n){return Ei(n,"indexConfiguration")}function bo(n){return Ei(n,"indexState")}function lD(n){ze(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Yd(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new rs(e.readTime,e.documentKey,t)}const py={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Hi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hi(e,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cD(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let g=0;const _=r.Z({range:d},(N,k,j)=>(g++,j.delete()));l.push(_.next(()=>{ze(1===g)}));const w=[];for(const N of t.mutations){const k=Hb(e,N.key.path,t.batchId);l.push(i.delete(k)),w.push(N.key)}return _e.waitFor(l).next(()=>w)}function Lf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Fe();e=n.noDocument}return JSON.stringify(e).length}Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);class Vf{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){ze(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Vf(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _u(e).Z({index:"userMutationsIndex",range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=hh(e),d=_u(e);return d.add({}).next(g=>{ze("number"==typeof g);const _=new jg(g,t,r,i),w=function(j,Q,ae){const Ie=ae.baseMutations.map(ct=>Mf(j.re,ct)),xe=ae.mutations.map(ct=>Mf(j.re,ct));return{userId:Q,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:Ie,mutations:xe}}(this.It,this.userId,_),N=[];let k=new En((j,Q)=>jt(j.canonicalString(),Q.canonicalString()));for(const j of i){const Q=Hb(this.userId,j.key.path,g);k=k.add(j.key.path.popLast()),N.push(d.put(w)),N.push(l.put(Q,Gb))}return k.forEach(j=>{N.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[g]=_.keys()}),_e.waitFor(N).next(()=>_)})}lookupMutationBatch(e,t){return _u(e).get(t).next(r=>r?(ze(r.userId===this.userId),gu(this.It,r)):null)}Tn(e,t){return this.In[t]?_e.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return _u(e).Z({index:"userMutationsIndex",range:i},(d,g,_)=>{g.userId===this.userId&&(ze(g.batchId>=r),l=gu(this.It,g)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _u(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _u(e).W("userMutationsIndex",t).next(r=>r.map(i=>gu(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=dd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return hh(e).Z({range:i},(d,g,_)=>{const[w,N,k]=d,j=Ll(N);if(w===this.userId&&t.path.isEqual(j))return _u(e).get(k).next(Q=>{if(!Q)throw Fe();ze(Q.userId===this.userId),l.push(gu(this.It,Q))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(jt);const i=[];return t.forEach(l=>{const d=dd(this.userId,l.path),g=IDBKeyRange.lowerBound(d),_=hh(e).Z({range:g},(w,N,k)=>{const[j,Q,ae]=w,Ie=Ll(Q);j===this.userId&&l.path.isEqual(Ie)?r=r.add(ae):k.done()});i.push(_)}),_e.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=dd(this.userId,r),d=IDBKeyRange.lowerBound(l);let g=new En(jt);return hh(e).Z({range:d},(_,w,N)=>{const[k,j,Q]=_,ae=Ll(j);k===this.userId&&r.isPrefixOf(ae)?ae.length===i&&(g=g.add(Q)):N.done()}).next(()=>this.En(e,g))}En(e,t){const r=[],i=[];return t.forEach(l=>{i.push(_u(e).get(l).next(d=>{if(null===d)throw Fe();ze(d.userId===this.userId),r.push(gu(this.It,d))}))}),_e.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return cD(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),_e.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return hh(e).Z({range:r},(l,d,g)=>{if(l[0]===this.userId){const _=Ll(l[1]);i.push(_)}else g.done()}).next(()=>{ze(0===i.length)})})}containsKey(e,t){return uD(e,this.userId,t)}Rn(e){return dD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uD(n,e,t){const r=dd(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return hh(n).Z({range:l,X:!0},(g,_,w)=>{const[N,k,j]=g;N===e&&k===i&&(d=!0),w.done()}).next(()=>d)}function _u(n){return Ei(n,"mutations")}function hh(n){return Ei(n,"documentMutations")}function dD(n){return Ei(n,"mutationQueues")}class yu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new yu(0)}static vn(){return new yu(-1)}}class d1{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new yu(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Bt.fromTimestamp(new Gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(ze(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return gd(e).Z((d,g)=>{const _=Of(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>_e.waitFor(l)).next(()=>i)}forEachTarget(e,t){return gd(e).Z((r,i)=>{const l=Of(i);t(l)})}Vn(e){return gy(e).get("targetGlobalKey").next(t=>(ze(null!==t),t))}Sn(e,t){return gy(e).put("targetGlobalKey",t)}Dn(e,t){return gd(e).put(nD(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=$s(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return gd(e).Z({range:i,index:"queryTargetsIndex"},(d,g,_)=>{const w=Of(g);sd(t,w.target)&&(l=w,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Vl(e);return t.forEach(d=>{const g=Gr(d.path);i.push(l.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,d))}),_e.waitFor(i)}removeMatchingKeys(e,t,r){const i=Vl(e);return _e.forEach(t,l=>{const d=Gr(l.path);return _e.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Vl(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Vl(e);let l=Jt();return i.Z({range:r,X:!0},(d,g,_)=>{const w=Ll(d[1]),N=new nt(w);l=l.add(N)}).next(()=>l)}containsKey(e,t){const r=Gr(t.path),i=IDBKeyRange.bound([r],[yg(r)],!1,!0);let l=0;return Vl(e).Z({index:"documentTargetsIndex",X:!0,range:i},([d,g],_,w)=>{0!==d&&(l++,w.done())}).next(()=>l>0)}se(e,t){return gd(e).get(t).next(r=>r?Of(r):null)}}function gd(n){return Ei(n,"targets")}function gy(n){return Ei(n,"targetGlobal")}function Vl(n){return Ei(n,"targetDocuments")}function fh([n,e],[t,r]){const i=jt(n,t);return 0===i?jt(e,r):i}class ph{constructor(e){this.xn=e,this.buffer=new En(fh),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fh(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class h1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ae.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Pa(r)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Yo(r)}yield t.Fn(3e5)}))}}class f1{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(is.at);const r=new ph(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(py)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),py):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,l,d,g,_,w;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),i=this.params.maximumSequenceNumbersToCollect):i=k,d=Date.now(),this.nthSequenceNumber(e,i))).next(k=>(r=k,g=Date.now(),this.removeTargets(e,r,t))).next(k=>(l=k,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(w=Date.now(),$()<=Fr.in.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-N}ms\n\tDetermined least recently used ${i} in `+(g-d)+`ms\n\tRemoved ${l} targets in `+(_-g)+`ms\n\tRemoved ${k} documents in `+(w-_)+`ms\nTotal Duration: ${w-N}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:k})))}}class gh{constructor(e,t){this.db=e,this.garbageCollector=new f1(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Bf(e,r)}removeReference(e,t,r){return Bf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Bf(e,t)}Gn(e,t){return function(r,i){let l=!1;return dD(r).tt(d=>uD(r,d,i).next(g=>(g&&(l=!0),_e.resolve(!g)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Kn(e,(d,g)=>{if(g<=t){const _=this.Gn(e,d).next(w=>{if(!w)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Bt.min()),Vl(e).delete([0,Gr(d.path)])))});i.push(_)}}).next(()=>_e.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Bf(e,t)}Kn(e,t){const r=Vl(e);let i,l=is.at;return r.Z({index:"documentTargetsIndex"},([d,g],{path:_,sequenceNumber:w})=>{0===d?(l!==is.at&&t(new nt(Ll(i)),l),l=w,i=_):l=is.at}).next(()=>{l!==is.at&&t(new nt(Ll(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bf(n,e){return Vl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Gr(e.path),sequenceNumber:r}));var r}class my{constructor(){this.changes=new Ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zg{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Mc(e).put(r)}removeEntry(e,t,r){return Mc(e).delete(function(i,l){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],$g(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Fn.newInvalidDocument(t);return Mc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Do(t))},(i,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:Fn.newInvalidDocument(t)};return Mc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Do(t))},(i,l)=>{r={document:this.jn(t,l),size:Lf(l)}}).next(()=>r)}getEntries(e,t){let r=as();return this.zn(e,t,(i,l)=>{const d=this.jn(i,l);r=r.insert(i,d)}).next(()=>r)}Hn(e,t){let r=as(),i=new Nn(nt.comparator);return this.zn(e,t,(l,d)=>{const g=this.jn(l,d);r=r.insert(l,g),i=i.insert(l,Lf(d))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return _e.resolve();let i=new En(_y);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(Do(i.first()),Do(i.last())),d=i.getIterator();let g=d.getNext();return Mc(e).Z({index:"documentKeyIndex",range:l},(_,w,N)=>{const k=nt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;g&&_y(g,k)<0;)r(g,null),g=d.getNext();g&&g.isEqual(k)&&(r(g,w),g=d.hasNext()?d.getNext():null),g?N.j(Do(g)):N.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),$g(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mc(e).W(IDBKeyRange.bound(i,l,!0)).next(d=>{let g=as();for(const _ of d){const w=this.jn(nt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);g=g.insert(w.key,w)}return g})}getAllFromCollectionGroup(e,t,r,i){let l=as();const d=qg(t,r),g=qg(t,rs.max());return Mc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(_,w,N)=>{const k=this.jn(nt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);l=l.insert(k.key,k),l.size===i&&N.done()}).next(()=>l)}newChangeBuffer(e){return new hD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return fD(e).get("remoteDocumentGlobalKey").next(t=>(ze(!!t),t))}Qn(e,t){return fD(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function eD(n,e){let t;if(e.document)t=cd(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=nt.fromSegments(e.noDocument.path),i=fd(e.noDocument.readTime);t=Fn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fe();{const r=nt.fromSegments(e.unknownDocument.path),i=fd(e.unknownDocument.version);t=Fn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Gn(r[0],r[1]);return Bt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return Fn.newInvalidDocument(e)}}function na(n){return new zg(n)}class hD extends my{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ol(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new En((l,d)=>jt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const g=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,g.readTime)),d.isValidDocument()){const _=tD(this.Yn.It,d);i=i.add(l.path.popLast()),r+=Lf(_)-g.size,t.push(this.Yn.addEntry(e,l,_))}else if(r-=g.size,this.trackRemovals){const _=tD(this.Yn.It,d.convertToNoDocument(Bt.min()));t.push(this.Yn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),_e.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((l,d)=>{this.Xn.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function fD(n){return Ei(n,"remoteDocumentGlobal")}function Mc(n){return Ei(n,"remoteDocumentsV14")}function Do(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function qg(n,e){const t=e.documentKey.path.toArray();return[n,$g(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _y(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=jt(t[l],r[l]),i)return i;return i=jt(t.length,r.length),i||(i=jt(t[t.length-2],r[r.length-2]),i||jt(t[t.length-1],r[r.length-1]))}class yy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class p1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Sf(r.mutation,i,ss.empty(),Gn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Jt()){const i=kl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let d=Sc();return l.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=kl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,i){let l=as();const d=uh(),g=uh();return t.forEach((_,w)=>{const N=r.get(w.key);i.has(w.key)&&(void 0===N||N.mutation instanceof Tc)?l=l.insert(w.key,w):void 0!==N&&(d.set(w.key,N.mutation.getFieldMask()),Sf(N.mutation,w,N.mutation.getFieldMask(),Gn.now()))}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((w,N)=>d.set(w,N)),t.forEach((w,N)=>{var k;return g.set(w,new yy(N,null!==(k=d.get(w))&&void 0!==k?k:null))}),g))}recalculateAndSaveOverlays(e,t){const r=uh();let i=new Nn((d,g)=>d-g),l=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let N=r.get(_)||ss.empty();N=g.applyToLocalView(w,N),r.set(_,N);const k=(i.get(g.batchId)||Jt()).add(_);i=i.insert(g.batchId,k)})}).next(()=>{const d=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),w=_.key,N=_.value,k=Mb();N.forEach(j=>{if(!l.has(j)){const Q=ah(t.get(j),r.get(j));null!==Q&&k.set(j,Q),l=l.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,k))}return _e.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ef(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const d=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):_e.resolve(kl());let g=-1,_=l;return d.next(w=>_e.forEach(w,(N,k)=>(g<k.largestBatchId&&(g=k.largestBatchId),l.get(N)?_e.resolve():this.getBaseDocument(e,N,k).next(j=>{_=_.insert(N,j)}))).next(()=>this.populateOverlays(e,w,l)).next(()=>this.computeViews(e,_,w,Jt())).next(N=>({batchId:g,changes:z_(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nt(t)).next(r=>{let i=Sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Sc();return this.indexManager.getCollectionParents(e,i).next(d=>_e.forEach(d,g=>{const _=(w=t,N=g.child(i),new As(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,N;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((N,k)=>{l=l.insert(N,k)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((g,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,Fn.newInvalidDocument(w)))});let d=Sc();return i.forEach((g,_)=>{const w=l.get(g);void 0!==w&&Sf(w.mutation,_,ss.empty(),Gn.now()),J(t,_)&&(d=d.insert(g,_))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):_e.resolve(Fn.newInvalidDocument(t))}}class pD{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return _e.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ii(r.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:ly(r.bundledQuery),readTime:Ii(r.readTime)}),_e.resolve();var r}}class DS{constructor(){this.overlays=new Nn(nt.comparator),this.es=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const r=kl();return _e.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ue(e,t,l)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const i=kl(),l=t.length+1,d=new nt(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Nn((w,N)=>w-N);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let N=l.get(w.largestBatchId);null===N&&(N=kl(),l=l.insert(w.largestBatchId,N)),N.set(w.getKey(),w)}}const g=kl(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,N)=>g.set(w,N)),!(g.size()>=i)););return _e.resolve(g)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ay(t,r));let l=this.es.get(t);void 0===l&&(l=Jt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class mh{constructor(){this.ns=new En(Wr.ss),this.rs=new En(Wr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Wr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Wr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new nt(new hn([])),r=new Wr(t,e),i=new Wr(t,e+1),l=[];return this.rs.forEachInRange([r,i],d=>{this.cs(d),l.push(d.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new nt(new hn([])),r=new Wr(t,e),i=new Wr(t,e+1);let l=Jt();return this.rs.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Wr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Wr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return nt.comparator(e.key,t.key)||jt(e._s,t._s)}static os(e,t){return jt(e._s,t._s)||nt.comparator(e.key,t.key)}}class vy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new En(Wr.ss)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const d=new jg(l,t,r,i);this.mutationQueue.push(d);for(const g of i)this.gs=this.gs.add(new Wr(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return _e.resolve(d)}lookupMutationBatch(e,t){return _e.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),l=i<0?0:i;return _e.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Wr(t,0),i=new Wr(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,i],d=>{const g=this.ys(d._s);l.push(g)}),_e.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(jt);return t.forEach(i=>{const l=new Wr(i,0),d=new Wr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,d],g=>{r=r.add(g._s)})}),_e.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;nt.isDocumentKey(l)||(l=l.child(""));const d=new Wr(new nt(l),0);let g=new En(jt);return this.gs.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(g=g.add(_._s)),!0)},d),_e.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ze(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return _e.forEach(t.mutations,i=>{const l=new Wr(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Wr(t,0),i=this.gs.firstAfterOrEqual(r);return _e.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return _e.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class by{constructor(e){this.Es=e,this.docs=new Nn(nt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=as();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Fn.newInvalidDocument(i))}),_e.resolve(r)}getAllFromCollection(e,t,r){let i=as();const l=new nt(t.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:g,value:{document:_}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Yd(df(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return _e.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Fe()}As(e,t){return _e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dy(this)}getSize(e){return _e.resolve(this.size)}}class Dy extends my{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class wS{constructor(e){this.persistence=e,this.Rs=new Ol(t=>$s(t),sd),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mh,this.targetCount=0,this.vs=yu.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),_e.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new yu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Dn(t),_e.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Rs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),_e.waitFor(l).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),_e.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.Ps.containsKey(t))}}class gD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new is(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new wS(this),this.indexManager=new c1,this.remoteDocumentCache=new by(r=>this.referenceDelegate.xs(r)),this.It=new Xb(t),this.Ns=new pD(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new vy(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);const i=new g1(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(l=>this.referenceDelegate.Os(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ms(e,t){return _e.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class g1 extends vg{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Fs=new mh,this.$s=null}static Bs(e){return new Kg(e)}get Ls(){if(this.$s)return this.$s;throw Fe()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Ls,r=>{const i=nt.fromPath(r);return this.Us(e,i).next(l=>{l||t.removeEntry(i,Bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return _e.or([()=>_e.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class m1{constructor(e){this.It=e}$(e,t,r,i){const l=new Jd("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r1,{unique:!0}),g.createObjectStore("documentMutations"),wy(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=_e.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),wy(e)),d=d.next(()=>function(g){const _=g.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(g,_){return _.store("mutations").W().next(w=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r1,{unique:!0});const N=_.store("mutations"),k=w.map(j=>N.put(j));return _e.waitFor(k)})}(e,l))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.qs(l))),r<6&&i>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&i>=7&&(d=d.next(()=>this.Gs(l))),r<8&&i>=8&&(d=d.next(()=>this.Qs(e,l))),r<9&&i>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.js(l))),r<11&&i>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:i1});_.createIndex("collectionPathOverlayIndex",Qb,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",s1,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:Wb});_.createIndex("documentKeyIndex",zb),_.createIndex("collectionGroupIndex",ny)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>this.zs(e,l))),r<15&&i>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:ry}).createIndex("sequenceNumberIndex",Zb,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:iy}).createIndex("documentKeyIndex",Rf,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=Lf(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>_e.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(g=>_e.forEach(g,_=>{ze(_.userId===l.userId);const w=gu(this.It,_);return cD(e,l.userId,w).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((d,g)=>{const _=new hn(d),w=[0,Gr(_)];l.push(t.get(w).next(N=>N?_e.resolve():t.put({targetId:0,path:Gr(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>_e.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Kb});const r=t.store("collectionParents"),i=new hy,l=d=>{if(i.add(d)){const g=d.lastSegment(),_=d.popLast();return r.put({collectionId:g,parent:Gr(_)})}};return t.store("remoteDocuments").Z({X:!0},(d,g)=>{const _=new hn(d);return l(_.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,g,_],w)=>{const N=Ll(g);return l(N.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const l=Of(i),d=nD(this.It,l);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,d)=>{const g=t.store("remoteDocumentsV14"),_=(w=d,w.document?new nt(hn.fromString(w.document.name).popFirst(5)):w.noDocument?nt.fromSegments(w.noDocument.path):w.unknownDocument?nt.fromSegments(w.unknownDocument.path):Fe()).path.toArray();var w;const N={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(g.put(N))}).next(()=>_e.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=na(this.It),l=new gD(Kg.Bs,this.It.re);return r.W().next(d=>{const g=new Map;return d.forEach(_=>{var w;let N=null!==(w=g.get(_.userId))&&void 0!==w?w:Jt();gu(this.It,_).keys().forEach(k=>N=N.add(k)),g.set(_.userId,N)}),_e.forEach(g,(_,w)=>{const N=new S(w),k=kf.oe(this.It,N),j=l.getIndexManager(N),Q=Vf.oe(N,this.It,j,l.referenceDelegate);return new p1(i,Q,k,j).recalculateAndSaveOverlaysForDocumentKeys(new Ug(t,is.at),_).next()})})}}function wy(n){n.createObjectStore("targetDocuments",{keyPath:Lg}).createIndex("documentTargetsIndex",Vg,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qb,{unique:!0}),n.createObjectStore("targetGlobal")}const mD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cy{constructor(e,t,r,i,l,d,g,_,w,N,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=d,this.document=g,this.Js=w,this.Ys=N,this.Xs=k,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!Cy.C())throw new Ve(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gh(this,i),this.ii=t+"main",this.It=new Xb(_),this.ri=new br(this.ii,this.Xs,new m1(this.It)),this.Cs=new d1(this.referenceDelegate,this.It),this.remoteDocumentCache=na(this.It),this.Ns=new rD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===N&&Se("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(he.FAILED_PRECONDITION,mD);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new is(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Ae.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ae.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ae.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Uf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Pa(e))return W("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Zg(e).get("owner").next(t=>_e.resolve(this.mi(t)))}gi(e){return Uf(e).delete(this.clientId)}yi(){var e=this;return(0,Ae.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ei(r,"clientMetadata");return i.W().next(l=>{const d=e.Ii(l,18e5),g=l.filter(_=>-1===d.indexOf(_));return _e.forEach(g,_=>i.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?_e.resolve(!0):Zg(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ve(he.FAILED_PRECONDITION,mD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uf(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&W("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ae.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ug(t,is.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Uf(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Vf.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u1(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return kf.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){W("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(d=this.Xs)?bS:14===d?sy:13===d?Bg:12===d?Jb:11===d?Yb:void Fe();var d;let g;return this.ri.runTransaction(e,i,l,_=>(g=new Ug(_,this.Ss?this.Ss.next():is.at),"readwrite-primary"===t?this.fi(g).next(w=>!!w||this.di(g)).next(w=>{if(!w)throw Se(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(he.FAILED_PRECONDITION,Qo);return r(g)}).next(w=>this.wi(g).next(()=>w)):this.Vi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Vi(e){return Zg(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ve(he.FAILED_PRECONDITION,mD)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zg(e).put("owner",t)}static C(){return br.C()}_i(e){const t=Zg(e);return t.get("owner").next(r=>this.mi(r)?(W("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Se(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return W("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Se("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Se("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zg(n){return Ei(n,"owner")}function Uf(n){return Ei(n,"clientMetadata")}function Qg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Iy{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Jt(),i=Jt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new Iy(e,t.fromCache,r,i)}}class Yg{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(l=>l||this.Oi(e,t,i,r)).next(l=>l||this.Mi(e,t))}ki(e,t){if($_(t))return _e.resolve(null);let r=f(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=m(t,null,"F"),r=f(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Jt(...l);return this.Ni.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const w=this.Fi(t,g);return this.$i(t,w,d,_.readTime)?this.ki(e,m(t,null,"F")):this.Bi(e,w,t,_)}))})))}Oi(e,t,r,i){return $_(t)||i.isEqual(Bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(l=>{const d=this.Fi(t,l);return this.$i(t,d,r,i)?this.Mi(e,t):($()<=Fr.in.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),L(t)),this.Bi(e,d,t,Qd(i,-1)))})}Fi(e,t){let r=new En(Ke(e));return t.forEach((i,l)=>{J(e,l)&&(r=r.add(l))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Mi(e,t){return $()<=Fr.in.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",L(t)),this.Ni.getDocumentsMatchingQuery(e,t,rs.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class CS{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Nn(jt),this.qi=new Ol(l=>$s(l),sd),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new p1(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function _1(n,e,t,r){return new CS(n,e,t,r)}function y1(n,e){return _D.apply(this,arguments)}function _D(){return _D=(0,Ae.Z)(function*(n,e){const t=He(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],g=[];let _=Jt();for(const w of i){d.push(w.batchId);for(const N of w.mutations)_=_.add(N.key)}for(const w of l){g.push(w.batchId);for(const N of w.mutations)_=_.add(N.key)}return t.localDocuments.getDocuments(r,_).next(w=>({ji:w,removedBatchIds:d,addedBatchIds:g}))})})}),_D.apply(this,arguments)}function IS(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,g,_,w){const N=_.batch,k=N.keys();let j=_e.resolve();return k.forEach(Q=>{j=j.next(()=>w.getEntry(g,Q)).next(ae=>{const Ie=_.docVersions.get(Q);ze(null!==Ie),ae.version.compareTo(Ie)<0&&(N.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),w.addEntry(ae)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(g,N))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Jt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function v1(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ES(n,e){const t=He(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const g=[];e.targetChanges.forEach((N,k)=>{const j=i.get(k);if(!j)return;g.push(t.Cs.removeMatchingKeys(l,N.removedDocuments,k).next(()=>t.Cs.addMatchingKeys(l,N.addedDocuments,k)));let Q=j.withSequenceNumber(l.currentSequenceNumber);var ae,Ie,xe;e.targetMismatches.has(k)?Q=Q.withResumeToken(Dr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):N.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(N.resumeToken,r)),i=i.insert(k,Q),Ie=Q,xe=N,(0===(ae=j).resumeToken.approximateByteSize()||Ie.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(l,Q))});let _=as(),w=Jt();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,N))}),g.push(b1(l,d,e.documentUpdates).next(N=>{_=N.Wi,w=N.zi})),!r.isEqual(Bt.min())){const N=t.Cs.getLastRemoteSnapshotVersion(l).next(k=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));g.push(N)}return _e.waitFor(g).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,w)).next(()=>_)}).then(l=>(t.Ui=i,l))}function b1(n,e,t){let r=Jt(),i=Jt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=as();return t.forEach((g,_)=>{const w=l.get(g);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(Bt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):W("LocalStore","Ignoring outdated watch update for ",g,". Current version:",w.version," Watch version:",_.version)}),{Wi:d,zi:i}})}function TS(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jf(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(l=>l?(i=l,_e.resolve(i)):t.Cs.allocateTargetId(r).next(d=>(i=new Ti(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function wo(n,e,t){return $f.apply(this,arguments)}function $f(){return $f=(0,Ae.Z)(function*(n,e,t){const r=He(n),i=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Pa(d))throw d;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),$f.apply(this,arguments)}function Jg(n,e,t){const r=He(n);let i=Bt.min(),l=Jt();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,_,w){const N=He(g),k=N.qi.get(w);return void 0!==k?_e.resolve(N.Ui.get(k)):N.Cs.getTargetData(_,w)}(r,d,f(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,g.targetId).next(_=>{l=_})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?i:Bt.min(),t?l:Jt())).next(g=>(Ty(r,Ce(e),g),{documents:g,Hi:l})))}function Ey(n,e){const t=He(n),r=He(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(d=>d?d.target:null))}function Xg(n,e){const t=He(n),r=t.Ki.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Qd(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Ty(t,e,i),i))}function Ty(n,e,t){let r=n.Ki.get(e)||Bt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function Ay(){return Ay=(0,Ae.Z)(function*(n,e,t,r){const i=He(n);let l=Jt(),d=as();for(const w of t){const N=e.Ji(w.metadata.name);w.document&&(l=l.add(N));const k=e.Yi(w);k.setReadTime(e.Xi(w.metadata.readTime)),d=d.insert(N,k)}const g=i.Gi.newChangeBuffer({trackRemovals:!0}),_=yield jf(i,(w=r,f(Ba(hn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>b1(w,g,d).next(N=>(g.apply(w),N)).next(N=>i.Cs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Cs.addMatchingKeys(w,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,N.Wi,N.zi)).next(()=>N.Wi)))}),Ay.apply(this,arguments)}function vu(n,e){return em.apply(this,arguments)}function em(){return em=(0,Ae.Z)(function*(n,e,t=Jt()){const r=yield jf(n,f(ly(e.bundledQuery))),i=He(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Ii(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ns.saveNamedQuery(l,e);const g=r.withResumeToken(Dr.EMPTY_BYTE_STRING,d);return i.Ui=i.Ui.insert(g.targetId,g),i.Cs.updateTargetData(l,g).next(()=>i.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(l,e))})}),em.apply(this,arguments)}function yD(n,e){return`firestore_clients_${n}_${e}`}function vD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function tm(n,e){return`firestore_targets_${n}_${e}`}class nm{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Ve(i.error.code,i.error.message))),d?new nm(e,t,i.state,l):(Se("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ve(r.error.code,r.error.message))),l?new Hf(e,r.state,i):(Se("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class md{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Og();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=uu(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new md(e,l):(Se("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bu{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bu(t.clientId,t.onlineState):(Se("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gf{constructor(){this.activeTargetIds=Og()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Du{constructor(e,t,r,i,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Nn(jt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=yD(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Gf),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const l=e.getItem(yD(e.persistenceKey,i));if(l){const d=md.Zi(i,l);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(tm(this.persistenceKey,e));if(r){const i=Hf.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return W("SharedClientState","READ",e,t),t}setItem(e,t){W("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){W("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(W("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Se("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ae.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(l){let d=is.at;if(null!=l)try{const g=JSON.parse(l);ze("number"==typeof g),d=g}catch(g){Se("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);i!==is.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Mr(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new nm(this.currentUser,e,t,r),l=vD(this.persistenceKey,this.currentUser,e);this.setItem(l,i.tr())}Er(e){const t=vD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=tm(this.persistenceKey,e),l=new Hf(e,t,r);this.setItem(i,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return md.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return nm.Zi(new S(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Hf.Zi(i,t)}yr(e){return bu.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ae.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);W("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),l=this.Ir(r),d=[],g=[];return l.forEach(_=>{i.has(_)||d.push(_)}),i.forEach(_=>{l.has(_)||g.push(_)}),this.syncEngine.Br(d,g).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Og();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class rm{constructor(){this.Lr=new Gf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Gf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class im{qr(e){}shutdown(){}}class Ny{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class My{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class xy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,l){const d=this.ho(e,t);W("RestConnection","Sending: ",d,r);const g={};return this.lo(g,i,l),this.fo(e,d,g,r).then(_=>(W("RestConnection","Received: ",_),_),_=>{throw Ze("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",r),_})}_o(e,t,r,i,l,d){return this.ao(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+A,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.oo}/v1/${t}:${bD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,d)=>{const g=new hr;g.setWithCredentials(!0),g.listenOnce(go.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case fc.NO_ERROR:const w=g.getResponseJson();W("Connection","XHR received:",JSON.stringify(w)),l(w);break;case fc.TIMEOUT:W("Connection",'RPC "'+e+'" timed out'),d(new Ve(he.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const N=g.getStatus();if(W("Connection",'RPC "'+e+'" failed with status:',N,"response text:",g.getResponseText()),N>0){const k=g.getResponseJson().error;if(k&&k.status&&k.message){const j=function(Q){const ae=Q.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ae)>=0?ae:he.UNKNOWN}(k.status);d(new Ve(j,k.message))}else d(new Ve(he.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Ve(he.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{W("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);g.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=su(),d=po(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new mo({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=i.join("");W("Connection","Creating WebChannel: "+_,g);const w=l.createWebChannel(_,g);let N=!1,k=!1;const j=new My({Hr:ae=>{k?W("Connection","Not sending because WebChannel is closed:",ae):(N||(W("Connection","Opening WebChannel transport."),w.open(),N=!0),W("Connection","WebChannel sending:",ae),w.send(ae))},Jr:()=>w.close()}),Q=(ae,Ie,xe)=>{ae.listen(Ie,ct=>{try{xe(ct)}catch(ht){setTimeout(()=>{throw ht},0)}})};return Q(w,pc.EventType.OPEN,()=>{k||W("Connection","WebChannel transport opened.")}),Q(w,pc.EventType.CLOSE,()=>{k||(k=!0,W("Connection","WebChannel transport closed"),j.io())}),Q(w,pc.EventType.ERROR,ae=>{k||(k=!0,Ze("Connection","WebChannel transport errored:",ae),j.io(new Ve(he.UNAVAILABLE,"The operation could not be completed")))}),Q(w,pc.EventType.MESSAGE,ae=>{var Ie;if(!k){const xe=ae.data[0];ze(!!xe);const ct=xe,ht=ct.error||(null===(Ie=ct[0])||void 0===Ie?void 0:Ie.error);if(ht){W("Connection","WebChannel received error:",ht);const Ct=ht.status;let dt=function(ft){const Zt=Hr[ft];if(void 0!==Zt)return ji(Zt)}(Ct),at=ht.message;void 0===dt&&(dt=he.INTERNAL,at="Unknown error status: "+Ct+" with message "+ht.message),k=!0,j.io(new Ve(dt,at)),w.close()}else W("Connection","WebChannel received:",xe),j.ro(xe)}}),Q(d,lf.STAT_EVENT,ae=>{ae.stat===Ma.PROXY?W("Connection","Detected buffering proxy"):ae.stat===Ma.NOPROXY&&W("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function Ry(){return typeof window<"u"?window:null}function _h(){return typeof document<"u"?document:null}function Wf(n){return new vS(n,!0)}class DD{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class wD{constructor(e,t,r,i,l,d,g,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new DD(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ae.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(Se(t.toString()),Se("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===he.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ve(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ae.Z)(function*(){e.state=0,e.start()}))}Qo(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CD extends wD{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.It=l}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Fb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Fe(),i=e.targetChange.targetIds||[],l=function(_,w){return _.gt?(ze(void 0===w||"string"==typeof w),Dr.fromBase64String(w||"")):(ze(void 0===w||w instanceof Uint8Array),Dr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const w=void 0===_.code?he.UNKNOWN:ji(_.code);return new Ve(w,_.message||"")}(d);t=new ad(r,i,l,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Fl(n,r.document.name),l=Ii(r.document.updateTime),d=new Nr({mapValue:{fields:r.document.fields}}),g=Fn.newFoundDocument(i,l,d);t=new Nf(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Fl(n,r.document),l=r.readTime?Ii(r.readTime):Bt.min(),d=Fn.newNoDocument(i,l);t=new Nf([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Fl(n,r.document);t=new Nf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Fe();{const r=e.filter,l=new KI(r.count||0);t=new q_(r.targetId,l)}}var _;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Bt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Bt.min():l.readTime?Ii(l.readTime):Bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=ld(this.It),t.addTarget=function(i,l){let d;const g=l.target;return d=Al(g)?{documents:Lb(i,g)}:{query:J_(i,g)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=kg(i,l.resumeToken):l.snapshotVersion.compareTo(Bt.min())>0&&(d.readTime=Hs(i,l.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function e1(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=ld(this.It),t.removeTarget=e,this.Bo(t)}}class D1 extends wD{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function XI(n,e){return n&&n.length>0?(ze(void 0!==e),n.map(t=>function(r,i){let l=Ii(r.updateTime?r.updateTime:i);return l.isEqual(Bt.min())&&(l=Ii(i)),new Tb(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ii(e.commitTime);return this.listener.Zo(r,t)}return ze(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ld(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mf(this.It,r))};this.Bo(t)}}class ID extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.ao(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(he.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection._o(e,t,r,l,d,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(he.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class Co{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Se(t),this.ou=!1):W("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class TD{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(g=>{r.enqueueAndForget((0,Ae.Z)(function*(){var _;Bl(d)&&(W("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ae.Z)(function*(w){const N=He(w);N._u.add(4),yield yh(N),N.gu.set("Unknown"),N._u.delete(4),yield zf(N)}),function(w){return _.apply(this,arguments)})(d))}))}),this.gu=new Co(r,i)}}function zf(n){return SD.apply(this,arguments)}function SD(){return SD=(0,Ae.Z)(function*(n){if(Bl(n))for(const e of n.wu)yield e(!0)}),SD.apply(this,arguments)}function yh(n){return qf.apply(this,arguments)}function qf(){return qf=(0,Ae.Z)(function*(n){for(const e of n.wu)yield e(!1)}),qf.apply(this,arguments)}function Kf(n,e){const t=He(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Py(t)?sm(t):Gs(t).ko()&&ky(t,e))}function Zf(n,e){const t=He(n),r=Gs(t);t.du.delete(e),r.ko()&&AD(t,e),0===t.du.size&&(r.ko()?r.Fo():Bl(t)&&t.gu.set("Unknown"))}function ky(n,e){n.yu.Mt(e.targetId),Gs(n).zo(e)}function AD(n,e){n.yu.Mt(e),Gs(n).Ho(e)}function sm(n){n.yu=new QI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Gs(n).start(),n.gu.uu()}function Py(n){return Bl(n)&&!Gs(n).No()&&n.du.size>0}function Bl(n){return 0===He(n)._u.size}function ND(n){n.yu=void 0}function w1(n){return om.apply(this,arguments)}function om(){return om=(0,Ae.Z)(function*(n){n.du.forEach((e,t)=>{ky(n,e)})}),om.apply(this,arguments)}function MD(n,e){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,Ae.Z)(function*(n,e){ND(n),Py(n)?(n.gu.hu(e),sm(n)):n.gu.set("Unknown")}),Fy.apply(this,arguments)}function Ul(n,e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Ae.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof ad&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(i,l){const d=l.cause;for(const g of l.targetIds)i.du.has(g)&&(yield i.remoteSyncer.rejectListen(g,d),i.du.delete(g),i.yu.removeTarget(g))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield am(n,r)}else if(e instanceof Nf?n.yu.Gt(e):e instanceof q_?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Bt.min()))try{const r=yield v1(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.yu.te(l);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=i.du.get(_);w&&i.du.set(_,w.withResumeToken(g.resumeToken,l))}}),d.targetMismatches.forEach(g=>{const _=i.du.get(g);if(!_)return;i.du.set(g,_.withResumeToken(Dr.EMPTY_BYTE_STRING,_.snapshotVersion)),AD(i,g);const w=new Ti(_.target,g,1,_.sequenceNumber);ky(i,w)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield am(n,r)}var r}),Qf.apply(this,arguments)}function am(n,e,t){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,Ae.Z)(function*(n,e,t){if(!Pa(e))throw e;n._u.add(1),yield yh(n),n.gu.set("Offline"),t||(t=()=>v1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield zf(n)}))}),Ly.apply(this,arguments)}function C1(n,e){return e().catch(t=>am(n,t,e))}function _d(n){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,Ae.Z)(function*(n){const e=He(n),t=Ua(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;I1(e);)try{const i=yield TS(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,E1(e,i)}catch(i){yield am(e,i)}lm(e)&&xD(e)}),Vy.apply(this,arguments)}function I1(n){return Bl(n)&&n.fu.length<10}function E1(n,e){n.fu.push(e);const t=Ua(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function lm(n){return Bl(n)&&!Ua(n).No()&&n.fu.length>0}function xD(n){Ua(n).start()}function T1(n){return vh.apply(this,arguments)}function vh(){return vh=(0,Ae.Z)(function*(n){Ua(n).eu()}),vh.apply(this,arguments)}function By(n){return bh.apply(this,arguments)}function bh(){return bh=(0,Ae.Z)(function*(n){const e=Ua(n);for(const t of n.fu)e.Xo(t.mutations)}),bh.apply(this,arguments)}function SS(n,e,t){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,Ae.Z)(function*(n,e,t){const r=n.fu.shift(),i=oy.from(r,e,t);yield C1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _d(n)}),Yf.apply(this,arguments)}function AS(n,e){return cm.apply(this,arguments)}function cm(){return cm=(0,Ae.Z)(function*(n,e){var t;e&&Ua(n).Yo&&(yield(t=(0,Ae.Z)(function*(r,i){if(W_(l=i.code)&&l!==he.ABORTED){const d=r.fu.shift();Ua(r).Mo(),yield C1(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield _d(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),lm(n)&&xD(n)}),cm.apply(this,arguments)}function Uy(n,e){return um.apply(this,arguments)}function um(){return um=(0,Ae.Z)(function*(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Bl(t);t._u.add(3),yield yh(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield zf(t)}),um.apply(this,arguments)}function dm(n,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Ae.Z)(function*(n,e){const t=He(n);e?(t._u.delete(2),yield zf(t)):e||(t._u.add(2),yield yh(t),t.gu.set("Unknown"))}),Jf.apply(this,arguments)}function Gs(n){return n.pu||(n.pu=function(e,t,r){const i=He(e);return i.su(),new CD(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:w1.bind(null,n),Zr:MD.bind(null,n),Wo:Ul.bind(null,n)}),n.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.pu.Mo(),Py(n)?sm(n):n.gu.set("Unknown")):(yield n.pu.stop(),ND(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Ua(n){return n.Iu||(n.Iu=function(e,t,r){const i=He(e);return i.su(),new D1(t,i.connection,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:T1.bind(null,n),Zr:AS.bind(null,n),tu:By.bind(null,n),Zo:SS.bind(null,n)}),n.wu.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Iu.Mo(),yield _d(n)):(yield n.Iu.stop(),n.fu.length>0&&(W("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Dh{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,g=new Dh(e,t,d,i,l);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ja(n,e){if(Se("AsyncQueue",`${e}: ${n}`),Pa(n))return new Ve(he.UNAVAILABLE,`${e}: ${n}`);throw n}class wh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nt.comparator(t.key,r.key):(t,r)=>nt.comparator(t.key,r.key),this.keyedMap=Sc(),this.sortedSet=new Nn(this.comparator)}static emptySet(e){return new wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hm{constructor(){this.Tu=new Nn(nt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Fe():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class yd{constructor(e,t,r,i,l,d,g,_,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,l){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new yd(e,t,wh.emptySet(t),d,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&b(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class S1{constructor(){this.Au=void 0,this.listeners=[]}}class A1{constructor(){this.queries=new Ol(e=>x(e),b),this.onlineState="Unknown",this.Ru=new Set}}function wu(n,e){return jy.apply(this,arguments)}function jy(){return jy=(0,Ae.Z)(function*(n,e){const t=He(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new S1),i)try{l.Au=yield t.onListen(r)}catch(d){const g=ja(d,`Initialization of query '${L(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&$y(t)}),jy.apply(this,arguments)}function RD(n,e){return fm.apply(this,arguments)}function fm(){return fm=(0,Ae.Z)(function*(n,e){const t=He(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),fm.apply(this,arguments)}function NS(n,e){const t=He(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const g of d.listeners)g.Pu(i)&&(r=!0);d.Au=i}}r&&$y(t)}function N1(n,e,t){const r=He(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function $y(n){n.Ru.forEach(e=>{e.next()})}class pm{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class OD{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class gm{constructor(e){this.It=e}Ji(e){return Fl(this.It,e)}Yi(e){return e.metadata.exists?cd(this.It,e.document,!1):Fn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ii(e)}}class M1{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mm(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=hn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new gm(this.It);for(const i of e)if(i.metadata.queries){const l=r.Ji(i.metadata.name);for(const d of i.metadata.queries){const g=(t.get(d)||Jt()).add(l);t.set(d,g)}}return t}complete(){var e=this;return(0,Ae.Z)(function*(){const t=yield function Sy(n,e,t,r){return Ay.apply(this,arguments)}(e.localStore,new gm(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield vu(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function mm(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class kD{constructor(e){this.key=e}}class PD{constructor(e){this.key=e}}class FD{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Jt(),this.mutatedKeys=Jt(),this.Gu=Ke(e),this.Qu=new wh(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new hm,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((N,k)=>{const j=i.get(N),Q=J(this.query,k)?k:null,ae=!!j&&this.mutatedKeys.has(j.key),Ie=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let xe=!1;j&&Q?j.data.isEqual(Q.data)?ae!==Ie&&(r.track({type:3,doc:Q}),xe=!0):this.Hu(j,Q)||(r.track({type:2,doc:Q}),xe=!0,(_&&this.Gu(Q,_)>0||w&&this.Gu(Q,w)<0)&&(g=!0)):!j&&Q?(r.track({type:0,doc:Q}),xe=!0):j&&!Q&&(r.track({type:1,doc:j}),xe=!0,(_||w)&&(g=!0)),xe&&(Q?(d=d.add(Q),l=Ie?l.add(N):l.delete(N)):(d=d.delete(N),l=l.delete(N)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const N="F"===this.query.limitType?d.last():d.first();d=d.delete(N.key),l=l.delete(N.key),r.track({type:1,doc:N})}return{Qu:d,zu:r,$i:g,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Eu();l.sort((w,N)=>function(k,j){const Q=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return Q(k)-Q(j)}(w.type,N.type)||this.Gu(w.doc,N.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,_=g!==this.qu;return this.qu=g,0!==l.length||_?{snapshot:new yd(this.query,e.Qu,i,l,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new PD(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new kD(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=Jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return yd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class x1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class R1{constructor(e){this.key=e,this.nc=!1}}class LD{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Ol(g=>x(g),b),this.rc=new Map,this.oc=new Set,this.uc=new Nn(nt.comparator),this.cc=new Map,this.ac=new mh,this.hc={},this.lc=new Map,this.fc=yu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function _m(n,e){return xc.apply(this,arguments)}function xc(){return xc=(0,Ae.Z)(function*(n,e){const t=op(n);let r,i;const l=t.ic.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ec();else{const d=yield jf(t.localStore,f(e));t.isPrimaryClient&&Kf(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield VD(t,e,r,"current"===g,d.resumeToken)}return i}),xc.apply(this,arguments)}function VD(n,e,t,r,i){return vd.apply(this,arguments)}function vd(){return vd=(0,Ae.Z)(function*(n,e,t,r,i){n._c=(k,j,Q)=>{return(ae=(0,Ae.Z)(function*(Ie,xe,ct,ht){let Ct=xe.view.Wu(ct);Ct.$i&&(Ct=yield Jg(Ie.localStore,xe.query,!1).then(({documents:ft})=>xe.view.Wu(ft,Ct)));const dt=ht&&ht.targetChanges.get(xe.targetId),at=xe.view.applyChanges(Ct,Ie.isPrimaryClient,dt);return Su(Ie,xe.targetId,at.Xu),at.snapshot}),function(Ie,xe,ct,ht){return ae.apply(this,arguments)})(n,k,j,Q);var ae};const l=yield Jg(n.localStore,e,!0),d=new FD(e,l.Hi),g=d.Wu(l.documents),_=dh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(g,n.isPrimaryClient,_);Su(n,t,w.Xu);const N=new x1(e,t,d);return n.ic.set(e,N),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),w.snapshot}),vd.apply(this,arguments)}function O1(n,e){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,Ae.Z)(function*(n,e){const t=He(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(l=>!b(l,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wo(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zf(t.remoteStore,r.targetId),Ha(t,r.targetId)}).catch(Yo))):(Ha(t,r.targetId),yield wo(t.localStore,r.targetId,!0))}),Hy.apply(this,arguments)}function ym(){return ym=(0,Ae.Z)(function*(n,e,t){const r=Cm(n);try{const i=yield function(l,d){const g=He(l),_=Gn.now(),w=d.reduce((j,Q)=>j.add(Q.key),Jt());let N,k;return g.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Q=as(),ae=Jt();return g.Gi.getEntries(j,w).next(Ie=>{Q=Ie,Q.forEach((xe,ct)=>{ct.isValidDocument()||(ae=ae.add(xe))})}).next(()=>g.localDocuments.getOverlayedDocuments(j,Q)).next(Ie=>{N=Ie;const xe=[];for(const ct of d){const ht=qI(ct,N.get(ct.key).overlayedDocument);null!=ht&&xe.push(new Tc(ct.key,ht,U_(ht.value.mapValue),nr.exists(!0)))}return g.mutationQueue.addMutationBatch(j,_,xe,d)}).next(Ie=>{k=Ie;const xe=Ie.applyToLocalDocumentSet(N,ae);return g.documentOverlayCache.saveOverlays(j,Ie.batchId,xe)})}).then(()=>({batchId:k.batchId,changes:z_(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,g){let _=l.hc[l.currentUser.toKey()];_||(_=new Nn(jt)),_=_.insert(d,g),l.hc[l.currentUser.toKey()]=_}(r,i.batchId,t),yield Ga(r,i.changes),yield _d(r.remoteStore)}catch(i){const l=ja(i,"Failed to persist write");t.reject(l)}}),ym.apply(this,arguments)}function $a(n,e){return bd.apply(this,arguments)}function bd(){return bd=(0,Ae.Z)(function*(n,e){const t=He(n);try{const r=yield ES(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.cc.get(l);d&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.nc=!0:i.modifiedDocuments.size>0?ze(d.nc):i.removedDocuments.size>0&&(ze(d.nc),d.nc=!1))}),yield Ga(t,r,e)}catch(r){yield Yo(r)}}),bd.apply(this,arguments)}function Gi(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((l,d)=>{const g=d.view.bu(e);g.snapshot&&i.push(g.snapshot)}),function(l,d){const g=He(l);g.onlineState=d;let _=!1;g.queries.forEach((w,N)=>{for(const k of N.listeners)k.bu(d)&&(_=!0)}),_&&$y(g)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dd(n,e,t){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,Ae.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),l=i&&i.key;if(l){let d=new Nn(nt.comparator);d=d.insert(l,Fn.newNoDocument(l,Bt.min()));const g=Jt().add(l),_=new Af(Bt.min(),new Map,new En(jt),d,g);yield $a(r,_),r.uc=r.uc.remove(l),r.cc.delete(e),ep(r)}else yield wo(r.localStore,e,!1).then(()=>Ha(r,e,t)).catch(Yo)}),Ch.apply(this,arguments)}function ra(n,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Ae.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const i=yield IS(t.localStore,e);Tu(t,r,null),Eu(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ga(t,i)}catch(i){yield Yo(i)}}),Xf.apply(this,arguments)}function Ih(n,e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,Ae.Z)(function*(n,e,t){const r=He(n);try{const i=yield function(l,d){const g=He(l);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,d).next(N=>(ze(null!==N),w=N.keys(),g.mutationQueue.removeMutationBatch(_,N))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(r.localStore,e);Tu(r,e,t),Eu(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ga(r,i)}catch(i){yield Yo(i)}}),Cu.apply(this,arguments)}function Iu(){return Iu=(0,Ae.Z)(function*(n,e){const t=He(n);Bl(t.remoteStore)||W("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=He(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=ja(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Iu.apply(this,arguments)}function Eu(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Tu(n,e,t){const r=He(n);let i=r.hc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Ha(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||wd(n,r)})}function wd(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Zf(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),ep(n))}function Su(n,e,t){for(const r of t)r instanceof kD?(n.ac.addReference(r.key,e),Wy(n,r)):r instanceof PD?(W("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||wd(n,r.key)):Fe()}function Wy(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(W("SyncEngine","New document in limbo: "+t),n.oc.add(r),ep(n))}function ep(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new nt(hn.fromString(e)),r=n.fc.next();n.cc.set(r,new R1(t)),n.uc=n.uc.insert(t,r),Kf(n.remoteStore,new Ti(f(Ba(t.path)),r,2,is.at))}}function Ga(n,e,t){return tp.apply(this,arguments)}function tp(){return tp=(0,Ae.Z)(function*(n,e,t){const r=He(n),i=[],l=[],d=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,_)=>{d.push(r._c(_,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const N=Iy.Ci(_.targetId,w);l.push(N)}}))}),yield Promise.all(d),r.sc.Wo(i),yield(g=(0,Ae.Z)(function*(_,w){const N=He(_);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>_e.forEach(w,j=>_e.forEach(j.Si,Q=>N.persistence.referenceDelegate.addReference(k,j.targetId,Q)).next(()=>_e.forEach(j.Di,Q=>N.persistence.referenceDelegate.removeReference(k,j.targetId,Q)))))}catch(k){if(!Pa(k))throw k;W("LocalStore","Failed to update sequence numbers: "+k)}for(const k of w){const j=k.targetId;if(!k.fromCache){const Q=N.Ui.get(j),Ie=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);N.Ui=N.Ui.insert(j,Ie)}}}),function(_,w){return g.apply(this,arguments)})(r.localStore,l))}),tp.apply(this,arguments)}function zy(n,e){return np.apply(this,arguments)}function np(){return np=(0,Ae.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=yield y1(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(d=>{d.forEach(g=>{g.reject(new Ve(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ga(t,r.ji)}var i}),np.apply(this,arguments)}function qy(n,e){const t=He(n),r=t.cc.get(e);if(r&&r.nc)return Jt().add(r.key);{let i=Jt();const l=t.rc.get(e);if(!l)return i;for(const d of l){const g=t.ic.get(d);i=i.unionWith(g.view.ju)}return i}}function Ky(n,e){return rp.apply(this,arguments)}function rp(){return rp=(0,Ae.Z)(function*(n,e){const t=He(n),r=yield Jg(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&Su(t,e.targetId,i.Xu),i}),rp.apply(this,arguments)}function BD(n,e){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,Ae.Z)(function*(n,e){const t=He(n);return Xg(t.localStore,e).then(r=>Ga(t,r))}),Zy.apply(this,arguments)}function UD(n,e,t,r){return vm.apply(this,arguments)}function vm(){return vm=(0,Ae.Z)(function*(n,e,t,r){const i=He(n),l=yield function(d,g){const _=He(d),w=He(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",N=>w.Tn(N,g).next(k=>k?_.localDocuments.getDocuments(N,k):_e.resolve(null)))}(i.localStore,e);var g;null!==l?("pending"===t?yield _d(i.remoteStore):"acknowledged"===t||"rejected"===t?(Tu(i,e,r||null),Eu(i,e),g=e,He(He(i.localStore).mutationQueue).An(g)):Fe(),yield Ga(i,l)):W("SyncEngine","Cannot apply mutation batch with id: "+e)}),vm.apply(this,arguments)}function ip(){return ip=(0,Ae.Z)(function*(n,e){const t=He(n);if(op(t),Cm(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield bm(t,r.toArray());t.dc=!0,yield dm(t.remoteStore,!0);for(const l of i)Kf(t.remoteStore,l)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Ha(t,d),wo(t.localStore,d,!0))),Zf(t.remoteStore,d)}),yield i,yield bm(t,r),function(l){const d=He(l);d.cc.forEach((g,_)=>{Zf(d.remoteStore,_)}),d.ac.fs(),d.cc=new Map,d.uc=new Nn(nt.comparator)}(t),t.dc=!1,yield dm(t.remoteStore,!1)}}),ip.apply(this,arguments)}function bm(n,e,t){return Qy.apply(this,arguments)}function Qy(){return Qy=(0,Ae.Z)(function*(n,e,t){const r=He(n),i=[],l=[];for(const d of e){let g;const _=r.rc.get(d);if(_&&0!==_.length){g=yield jf(r.localStore,f(_[0]));for(const w of _){const N=r.ic.get(w),k=yield Ky(r,N);k.snapshot&&l.push(k.snapshot)}}else{const w=yield Ey(r.localStore,d);g=yield jf(r.localStore,w),yield VD(r,sp(w),d,!1,g.resumeToken)}i.push(g)}return r.sc.Wo(l),i}),Qy.apply(this,arguments)}function sp(n){return Sg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Dm(n){const e=He(n);return He(He(e.localStore).persistence).vi()}function Yy(n,e,t,r){return Jy.apply(this,arguments)}function Jy(){return Jy=(0,Ae.Z)(function*(n,e,t,r){const i=He(n);if(i.dc)return void W("SyncEngine","Ignoring unexpected query state notification.");const l=i.rc.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Xg(i.localStore,Ce(l[0])),g=Af.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Dr.EMPTY_BYTE_STRING);yield Ga(i,d,g);break}case"rejected":yield wo(i.localStore,e,!0),Ha(i,e,r);break;default:Fe()}}),Jy.apply(this,arguments)}function wm(n,e,t){return Th.apply(this,arguments)}function Th(){return Th=(0,Ae.Z)(function*(n,e,t){const r=op(n);if(r.dc){for(const i of e){if(r.rc.has(i)){W("SyncEngine","Adding an already active target "+i);continue}const l=yield Ey(r.localStore,i),d=yield jf(r.localStore,l);yield VD(r,sp(l),d.targetId,!1,d.resumeToken),Kf(r.remoteStore,d)}for(const i of t)r.rc.has(i)&&(yield wo(r.localStore,i,!1).then(()=>{Zf(r.remoteStore,i),Ha(r,i)}).catch(Yo))}}),Th.apply(this,arguments)}function op(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$a.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dd.bind(null,e),e.sc.Wo=NS.bind(null,e.eventManager),e.sc.wc=N1.bind(null,e.eventManager),e}function Cm(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ra.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ih.bind(null,e),e}class ev{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.It=Wf(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return _1(this.persistence,new Yg,e.initialUser,this.It)}yc(e){return new gD(Kg.Bs,this.It)}gc(e){return new rm}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tv extends ev{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield Cm(r.Ac.syncEngine),yield _d(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return _1(this.persistence,new Yg,e.initialUser,this.It)}Tc(e,t){return new h1(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new wg(t,this.persistence);return new Dg(e.asyncQueue,r)}yc(e){const t=Qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Hi.withCacheSize(this.cacheSizeBytes):Hi.DEFAULT;return new Cy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Ry(),_h(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new rm}}class nv extends tv{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ae.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof Du&&(r.sharedClientState.syncEngine={Fr:UD.bind(null,i),$r:Yy.bind(null,i),Br:wm.bind(null,i),vi:Dm.bind(null,i),Mr:BD.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,Ae.Z)(function*(d){yield function jD(n,e){return ip.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}gc(e){const t=Ry();if(!Du.C(t))throw new Ve(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Qg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Du(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ap{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Gi(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=zy.bind(null,r.syncEngine),yield dm(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new A1}createDatastore(e){const t=Wf(e.databaseInfo.databaseId),r=new xy(e.databaseInfo);return new ID(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=g=>Gi(this.syncEngine,g,0),d=Ny.C()?new Ny:new im,new TD(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,g,_,w){const N=new LD(r,i,l,d,g,_);return w&&(N.dc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=He(t);W("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield yh(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rv(n,e,t){if(!t)throw new Ve(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iv(n,e,t,r){if(!0===e&&!0===r)throw new Ve(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sv(n){if(!nt.isDocumentKey(n))throw new Ve(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ov(n){if(nt.isDocumentKey(n))throw new Ve(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Fe()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ve(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lp(n);throw new Ve(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function av(n,e){if(e<=0)throw new Ve(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const lv=new Map;class Im{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ve(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ve(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,iv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ve(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bl;switch(t.type){case"gapi":return new Ra(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ve(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lv.get(e);t&&(W("ComponentProvider","Removing Datastore"),lv.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Si{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class ia extends Si{constructor(e,t,r){super(e,t,Ba(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new nt(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function Tm(n,e,...t){if(n=(0,qt.m9)(n),rv("collection","path",e),n instanceof Au){const r=hn.fromString(e,...t);return ov(r),new ia(n,null,r)}{if(!(n instanceof Qn||n instanceof ia))throw new Ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return ov(r),new ia(n.firestore,null,r)}}function Sh(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=cf.R()),rv("doc","path",e),n instanceof Au){const r=hn.fromString(e,...t);return sv(r),new Qn(n,null,new nt(r))}{if(!(n instanceof Qn||n instanceof ia))throw new Ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(hn.fromString(e,...t));return sv(r),new Qn(n.firestore,n instanceof ia?n.converter:null,new nt(r))}}function Sm(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof Qn||n instanceof ia)&&(e instanceof Qn||e instanceof ia)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function $D(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof Si&&e instanceof Si&&n.firestore===e.firestore&&b(n._query,e._query)&&n.converter===e.converter}function HD(n,e=10240){let t=0;return{read:()=>(0,Ae.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ae.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Am{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Se("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class GD{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Hn,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ae.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ae.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const l=yield e.Cc(i);return new OD(JSON.parse(l),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ae.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Ae.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ae.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class k1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ae.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ve(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ae.Z)(function*(l,d){const g=He(l),_=ld(g.It)+"/documents",w={documents:d.map(Q=>Ac(g.It,Q))},N=yield g._o("BatchGetDocuments",_,w,d.length),k=new Map;N.forEach(Q=>{const ae=function Y_(n,e){return"found"in e?function(t,r){ze(!!r.found);const i=Fl(t,r.found.name),l=Ii(r.found.updateTime),d=new Nr({mapValue:{fields:r.found.fields}});return Fn.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){ze(!!r.missing),ze(!!r.readTime);const i=Fl(t,r.missing),l=Ii(r.readTime);return Fn.newNoDocument(i,l)}(n,e):Fe()}(g.It,Q);k.set(ae.key.toString(),ae)});const j=[];return d.forEach(Q=>{const ae=k.get(Q.toString());ze(!!ae),j.push(ae)}),j}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ch(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ae.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=nt.fromPath(i);e.mutations.push(new G_(l,e.precondition(l)))}),yield(r=(0,Ae.Z)(function*(i,l){const d=He(i),g=ld(d.It)+"/documents",_={writes:l.map(w=>Mf(d.It,w))};yield d.ao("Commit",g,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fe();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ve(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?nr.exists(!1):nr.updateTime(t):nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Ve(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nr.updateTime(t)}return nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class P1{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.kc=r.maxAttempts,this.xo=new DD(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ae.Z)(function*(){const t=new k1(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Fc(l)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Cl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!W_(t)}return!1}}class zD{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=S.UNAUTHENTICATED,this.clientId=cf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ae.Z)(function*(g){W("FirestoreClient","Received user=",g.uid),yield l.authCredentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(W("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ja(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function qD(n,e){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ae.Z)(function*(l){r.isEqual(l)||(yield y1(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Nm.apply(this,arguments)}function uv(n,e){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield dv(n);W("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Uy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>Uy(e.remoteStore,l)),n.onlineComponents=e}),Nu.apply(this,arguments)}function dv(n){return hv.apply(this,arguments)}function hv(){return hv=(0,Ae.Z)(function*(n){return n.offlineComponents||(W("FirestoreClient","Using default OfflineComponentProvider"),yield qD(n,new ev)),n.offlineComponents}),hv.apply(this,arguments)}function cp(n){return fv.apply(this,arguments)}function fv(){return fv=(0,Ae.Z)(function*(n){return n.onlineComponents||(W("FirestoreClient","Using default OnlineComponentProvider"),yield uv(n,new ap)),n.onlineComponents}),fv.apply(this,arguments)}function pv(n){return dv(n).then(e=>e.persistence)}function gv(n){return dv(n).then(e=>e.localStore)}function up(n){return cp(n).then(e=>e.remoteStore)}function dp(n){return cp(n).then(e=>e.syncEngine)}function Ah(n){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,Ae.Z)(function*(n){const e=yield cp(n),t=e.eventManager;return t.onListen=_m.bind(null,e.syncEngine),t.onUnlisten=O1.bind(null,e.syncEngine),t}),Mm.apply(this,arguments)}function mv(n,e,t={}){const r=new Hn;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,l,d,g,_){const w=new Am({next:k=>{l.enqueueAndForget(()=>RD(i,N));const j=k.docs.has(d);!j&&k.fromCache?_.reject(new Ve(he.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&k.fromCache&&g&&"server"===g.source?_.reject(new Ve(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(k)},error:k=>_.reject(k)}),N=new pm(Ba(d.path),w,{includeMetadataChanges:!0,Nu:!0});return wu(i,N)}(yield Ah(n),n.asyncQueue,e,t,r)})),r.promise}function ZD(n,e,t={}){const r=new Hn;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(i,l,d,g,_){const w=new Am({next:k=>{l.enqueueAndForget(()=>RD(i,N)),k.fromCache&&"server"===g.source?_.reject(new Ve(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(k)},error:k=>_.reject(k)}),N=new pm(d,w,{includeMetadataChanges:!0,Nu:!0});return wu(i,N)}(yield Ah(n),n.asyncQueue,e,t,r)})),r.promise}class _v{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new DD(this,"async_queue_retry"),this.Wc=()=>{const t=_h();t&&W("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=_h();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=_h();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Hn;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Pa(t))throw t;W("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Se("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=Dh.createAndSchedule(this,e,t,r,l=>this.Yc(l));return this.qc.push(i),i}zc(){this.Kc&&Fe()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Cd(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class B1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lr extends Au{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new _v,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YD(this),this._firestoreClient.terminate()}}function pr(n){return n._firestoreClient||YD(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function YD(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mf(n._databaseId,l,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var l,g;n._firestoreClient=new zD(n._authCredentials,n._appCheckCredentials,n._queue,r)}function xm(n,e,t){const r=new Hn;return n.asyncQueue.enqueue((0,Ae.Z)(function*(){try{yield qD(n,t),yield uv(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(d=l).name?d.code===he.FAILED_PRECONDITION||d.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;Ze("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var d})).then(()=>r.promise)}function Om(n){if(n._initialized||n._terminated)throw new Ve(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(Dr.fromBase64String(e))}catch(t){throw new Ve(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oa(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $l{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ve(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mu{constructor(e){this._methodName=e}}class hp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ve(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ve(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const tw=/^__.*__$/;class nw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Tc(e,this.data,this.fieldMask,t,this.fieldTransforms):new lh(e,this.data,t,this.fieldTransforms)}}class Cv{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Iv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class fp{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===l&&this.na(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return xh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Iv(this.sa)&&tw.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class rw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Wf(e)}da(e,t,r,i=!1){return new fp({sa:e,methodName:t,fa:r,path:fr.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function xu(n){const e=n._freezeSettings(),t=Wf(n._databaseId);return new rw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pp(n,e,t,r,i,l={}){const d=n.da(l.merge||l.mergeFields?2:0,e,t,i);_p("Data must be an object, but it was:",d,r);const g=Fm(r,d);let _,w;if(l.merge)_=new ss(d.fieldMask),w=d.fieldTransforms;else if(l.mergeFields){const N=[];for(const k of l.mergeFields){const j=yp(e,k,t);if(!d.contains(j))throw new Ve(he.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Ru(N,j)||N.push(j)}_=new ss(N),w=d.fieldTransforms.filter(k=>_.covers(k.field))}else _=null,w=d.fieldTransforms;return new nw(new Nr(g),_,w)}class Nh extends Mu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function Ev(n,e,t){return new fp({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class km extends Mu{_toFieldTransform(e){return new Rl(e.path,new Ic)}isEqual(e){return e instanceof km}}class iw extends Mu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ev(this,e,!0),r=this._a.map(l=>Rc(l,t)),i=new Ml(r);return new Rl(e.path,i)}isEqual(e){return this===e}}class sw extends Mu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=Ev(this,e,!0),r=this._a.map(l=>Rc(l,t)),i=new Ec(r);return new Rl(e.path,i)}isEqual(e){return this===e}}class ow extends Mu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new xl(e.It,Cr(e.It,this.wa));return new Rl(e.path,t)}isEqual(e){return this===e}}function gp(n,e,t,r){const i=n.da(1,e,t);_p("Data must be an object, but it was:",i,r);const l=[],d=Nr.empty();Ss(r,(_,w)=>{const N=Mh(e,_,t);w=(0,qt.m9)(w);const k=i.ca(N);if(w instanceof Nh)l.push(N);else{const j=Rc(w,k);null!=j&&(l.push(N),d.set(N,j))}});const g=new ss(l);return new Cv(d,g,i.fieldTransforms)}function mp(n,e,t,r,i,l){const d=n.da(1,e,t),g=[yp(e,r,t)],_=[i];if(l.length%2!=0)throw new Ve(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)g.push(yp(e,l[j])),_.push(l[j+1]);const w=[],N=Nr.empty();for(let j=g.length-1;j>=0;--j)if(!Ru(w,g[j])){const Q=g[j];let ae=_[j];ae=(0,qt.m9)(ae);const Ie=d.ca(Q);if(ae instanceof Nh)w.push(Q);else{const xe=Rc(ae,Ie);null!=xe&&(w.push(Q),N.set(Q,xe))}}const k=new ss(w);return new Cv(N,k,d.fieldTransforms)}function Pm(n,e,t,r=!1){return Rc(t,n.da(r?4:3,e))}function Rc(n,e){if(Lm(n=(0,qt.m9)(n)))return _p("Unsupported field value:",e,n),Fm(n,e);if(n instanceof Mu)return function(t,r){if(!Iv(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let g=Rc(d,r.aa(l));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Cr(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Gn.fromDate(t);return{timestampValue:Hs(r.It,i)}}if(t instanceof Gn){const i=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hs(r.It,i)}}if(t instanceof hp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oa)return{bytesValue:kg(r.It,t._byteString)};if(t instanceof Qn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ha(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Pg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${lp(t)}`)}(n,e)}function Fm(n,e){const t={};return ed(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(n,(r,i)=>{const l=Rc(i,e.ra(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Lm(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof hp||n instanceof oa||n instanceof Qn||n instanceof Mu)}function _p(n,e,t){if(!Lm(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lp(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function yp(n,e,t){if((e=(0,qt.m9)(e))instanceof $l)return e._internalPath;if("string"==typeof e)return Mh(n,e);throw xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tv=new RegExp("[~\\*/\\[\\]]");function Mh(n,e,t){if(e.search(Tv)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $l(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xh(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(l||d)&&(_+=" (found",l&&(_+=` in field ${r}`),d&&(_+=` in document ${i}`),_+=")"),new Ve(he.INVALID_ARGUMENT,g+n+_)}function Ru(n,e){return n.some(t=>t.isEqual(e))}class vp{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new H1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Oc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class H1 extends vp{data(){return super.data()}}function Oc(n,e){return"string"==typeof e?Mh(n,e):e instanceof $l?e._internalPath:e._delegate._internalPath}function aw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Id{}function Ou(n,...e){for(const t of e)n=t._apply(n);return n}class lw extends Id{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=xu(e.firestore),r=function(i,l,d,g,_,w,N){let k;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ve(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){dw(N,w);const Q=[];for(const ae of N)Q.push(Bm(g,i,ae));k={arrayValue:{values:Q}}}else k=Bm(g,i,N)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||dw(N,w),k=Pm(d,"where",N,"in"===w||"not-in"===w);const j=Mr.create(_,w,k);return function(Q,ae){if(ae.dt()){const xe=Cc(Q);if(null!==xe&&!xe.isEqual(ae.field))throw new Ve(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${ae.field.toString()}'`);const ct=If(Q);null!==ct&&Av(0,ae.field,ct)}const Ie=function(xe,ct){for(const ht of xe.filters)if(ct.indexOf(ht.op)>=0)return ht.op;return null}(Q,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ae.op));if(null!==Ie)throw new Ve(he.INVALID_ARGUMENT,Ie===ae.op?`Invalid query. You cannot use more than one '${ae.op.toString()}' filter.`:`Invalid query. You cannot use '${ae.op.toString()}' filters with '${Ie.toString()}' filters.`)}(i,j),j}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Si(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new As(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class G1 extends Id{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ve(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ve(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new hu(i,l);return function(g,_){if(null===If(g)){const w=Cc(g);null!==w&&Av(0,w,_.field)}}(r,d),d}(e._query,this.ma,this.pa);return new Si(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new As(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class uw extends Id{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new Si(e.firestore,e.converter,m(e._query,this.Ia,this.Ta))}}class ku extends Id{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=Sv(e,this.type,this.Ea,this.Aa);return new Si(e.firestore,e.converter,(i=t,new As((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class bp extends Id{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=Sv(e,this.type,this.Ea,this.Aa);return new Si(e.firestore,e.converter,(i=t,new As((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Sv(n,e,t,r){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof vp)return function(i,l,d,g,_){if(!g)throw new Ve(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const N of y(i))if(N.field.isKeyField())w.push(bc(l,g.key));else{const k=g.data.field(N.field);if(gf(k))throw new Ve(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const j=N.field.canonicalString();throw new Ve(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}w.push(k)}return new ea(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xu(n.firestore);return function(l,d,g,_,w,N){const k=l.explicitOrderBy;if(w.length>k.length)throw new Ve(he.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let Q=0;Q<w.length;Q++){const ae=w[Q];if(k[Q].field.isKeyField()){if("string"!=typeof ae)throw new Ve(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ae}`);if(!Ef(l)&&-1!==ae.indexOf("/"))throw new Ve(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ae}' contains a slash.`);const Ie=l.path.child(hn.fromString(ae));if(!nt.isDocumentKey(Ie))throw new Ve(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Ie}' is not because it contains an odd number of segments.`);const xe=new nt(Ie);j.push(bc(d,xe))}else{const Ie=Pm(g,_,ae);j.push(Ie)}}return new ea(j,N)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Bm(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new Ve(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ef(e)&&-1!==t.indexOf("/"))throw new Ve(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(hn.fromString(t));if(!nt.isDocumentKey(r))throw new Ve(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bc(n,new nt(r))}if(t instanceof Qn)return bc(n,t._key);throw new Ve(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(t)}.`)}function dw(n,e){if(!Array.isArray(n)||0===n.length)throw new Ve(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ve(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Av(n,e,t){if(!t.isEqual(e))throw new Ve(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Um{convertValue(e,t="none"){switch(yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fe()}}convertObject(e,t){const r={};return Ss(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new hp(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=_c(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=hn.fromString(e);ze(ey(r));const i=new Fa(r.get(1),r.get(3)),l=new nt(r.popFirst(5));return i.isEqual(t)||Se(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Dp(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hw extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}class Ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kc extends vp{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Oc("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wp extends kc{data(e={}){return super.data(e)}}class aa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ed(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wp(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ve(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new wp(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ed(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const g=new wp(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ed(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),w=l.indexOf(d.doc.key)),{type:K1(d.type),doc:g,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function K1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}function fw(n,e){return n instanceof kc&&e instanceof kc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof aa&&e instanceof aa&&n._firestore===e._firestore&&$D(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class qa extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function Rh(n,e,t){n=fn(n,Qn);const r=fn(n.firestore,lr),i=Dp(n.converter,e,t);return Td(r,[pp(xu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,nr.none())])}function _w(n,e,t,...r){n=fn(n,Qn);const i=fn(n.firestore,lr),l=xu(i);let d;return d="string"==typeof(e=(0,qt.m9)(e))||e instanceof $l?mp(l,"updateDoc",n._key,e,t,r):gp(l,"updateDoc",n._key,e),Td(i,[d.toMutation(n._key,nr.exists(!0))])}function Nv(n,...e){var t,r,i;n=(0,qt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Cd(e[d])||(l=e[d],d++);const g={includeMetadataChanges:l.includeMetadataChanges};if(Cd(e[d])){const k=e[d];e[d]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[d+2]=null===(i=k.complete)||void 0===i?void 0:i.bind(k)}let _,w,N;if(n instanceof Qn)w=fn(n.firestore,lr),N=Ba(n._key.path),_={next:k=>{e[d]&&e[d](Mv(w,n,k))},error:e[d+1],complete:e[d+2]};else{const k=fn(n,Si);w=fn(k.firestore,lr),N=k._query;const j=new qa(w);_={next:Q=>{e[d]&&e[d](new aa(w,j,k,Q))},error:e[d+1],complete:e[d+2]},aw(n._query)}return function(k,j,Q,ae){const Ie=new Am(ae),xe=new pm(j,Ie,Q);return k.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return wu(yield Ah(k),xe)})),()=>{Ie.bc(),k.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return RD(yield Ah(k),xe)}))}}(pr(w),N,g,_)}function Td(n,e){return function(t,r){const i=new Hn;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Gy(n,e,t){return ym.apply(this,arguments)}(yield dp(t),r,i)})),i.promise}(pr(n),e)}function Mv(n,e,t){const r=t.docs.get(e._key),i=new qa(n);return new kc(n,i,e._key,r,new Ed(t.hasPendingWrites,t.fromCache),e.converter)}const eE={maxAttempts:5};class tE{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xu(e)}set(e,t,r){this._verifyNotCommitted();const i=Sd(e,this._firestore),l=Dp(i.converter,t,r),d=pp(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,nr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Sd(e,this._firestore);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof $l?mp(this._dataReader,"WriteBatch.update",l._key,t,r,i):gp(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sd(e,this._firestore);return this._mutations=this._mutations.concat(new ch(t._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sd(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new Ve(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class OS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xu(e)}get(e){const t=Sd(e,this._firestore),r=new hw(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Fe();const l=i[0];if(l.isFoundDocument())return new vp(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new vp(this._firestore,r,t._key,null,t.converter);throw Fe()})}set(e,t,r){const i=Sd(e,this._firestore),l=Dp(i.converter,t,r),d=pp(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Sd(e,this._firestore);let d;return d="string"==typeof(t=(0,qt.m9)(t))||t instanceof $l?mp(this._dataReader,"Transaction.update",l._key,t,r,i):gp(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Sd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sd(e,this._firestore),r=new qa(this._firestore);return super.get(e).then(i=>new kc(this._firestore,r,t._key,i._document,new Ed(!1,!1),t.converter))}}function xv(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Rv(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function ww(){if(!function Eb(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){A=si.SDK_VERSION,(0,si._registerComponent)(new ys.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),d=new lr(new xa(t.getProvider("auth-internal")),new _g(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ve(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(g.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),d._setSettings(i),d},"PUBLIC").setMultipleInstances(!0)),(0,si.registerVersion)(Ju,"3.7.2",n),(0,si.registerVersion)(Ju,"3.7.2","esm2017")}();class Ip{constructor(e){this._delegate=e}static fromBase64String(e){return ww(),new Ip(oa.fromBase64String(e))}static fromUint8Array(e){return Rv(),new Ip(oa.fromUint8Array(e))}toBase64(){return ww(),this._delegate.toBase64()}toUint8Array(){return Rv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ad(n){return function oE(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Cw{enableIndexedDbPersistence(e,t){return function JD(n,e){Om(n=fn(n,lr));const t=pr(n),r=n._freezeSettings(),i=new ap;return xm(t,i,new tv(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function XD(n){Om(n=fn(n,lr));const e=pr(n),t=n._freezeSettings(),r=new ap;return xm(e,r,new nv(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Rm(n){if(n._initialized&&!n._terminated)throw new Ve(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{yield(t=(0,Ae.Z)(function*(r){if(!br.C())return Promise.resolve();const i=r+"main";yield br.delete(i)}),function(r){return t.apply(this,arguments)})(Qg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Iw{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ze("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Em(n,e,t,r={}){var i;const l=(n=fn(n,Au))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Ze("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=S.MOCK_USER;else{d=(0,qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ve(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new S(_)}n._authCredentials=new Ko(new _o(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function vv(n){return function jl(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield pv(n),t=yield up(n);return e.setNetworkEnabled(!0),function(r){const i=He(r);return i._u.delete(0),zf(i)}(t)}))}(pr(n=fn(n,lr)))}(this._delegate)}disableNetwork(){return function bv(n){return function Wa(n){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){const e=yield pv(n),t=yield up(n);return e.setNetworkEnabled(!1),(r=(0,Ae.Z)(function*(i){const l=He(i);l._u.add(0),yield yh(l),l.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(pr(n=fn(n,lr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iv("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yv(n){return function(e){const t=new Hn;return e.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function Eh(n,e){return Iu.apply(this,arguments)}(yield dp(e),t)})),t.promise}(pr(n=fn(n,lr)))}(this._delegate)}onSnapshotsInSync(e){return function yw(n,e){return function F1(n,e){const t=new Am(e);return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Ah(n),i=t,He(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return r=yield Ah(n),i=t,void He(r).Ru.delete(i);var r,i}))}}(pr(n=fn(n,lr)),Cd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Oh(this,Tm(this._delegate,e))}catch(t){throw ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new la(this,Sh(this._delegate,e))}catch(t){throw ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wi(this,function cv(n,e){if(n=fn(n,Au),rv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ve(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Si(n,null,(t=e,new As(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kS(n,e,t){n=fn(n,lr);const r=Object.assign(Object.assign({},eE),t);return function(i){if(i.maxAttempts<1)throw new Ve(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,d){const g=new Hn;return i.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){const _=yield function sa(n){return cp(n).then(e=>e.datastore)}(i);new P1(i.asyncQueue,_,d,l,g).run()})),g.promise}(pr(n),i=>e(new OS(n,i)),r)}(this._delegate,t=>e(new Ov(this,t)))}batch(){return pr(this._delegate),new Ew(new tE(this._delegate,e=>Td(this._delegate,e)))}loadBundle(e){return function Dv(n,e){const t=pr(n=fn(n,lr)),r=new B1;return function L1(n,e,t,r){const i=function(l,d){let g;return g="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,w){if(_ instanceof Uint8Array)return HD(_,w);if(_ instanceof ArrayBuffer)return HD(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new GD(_,d);var _}(t,Wf(e));n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){!function Xy(n,e,t){const r=He(n);var i;(i=(0,Ae.Z)(function*(l,d,g){try{const _=yield d.getMetadata();if(yield function(j,Q){const ae=He(j),Ie=Ii(Q.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",xe=>ae.Ns.getBundleMetadata(xe,Q.id)).then(xe=>!!xe&&xe.createTime.compareTo(Ie)>=0)}(l.localStore,_))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(j=_).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);g._updateProgress(mm(_));const w=new M1(_,l.localStore,d.It);let N=yield d.mc();for(;N;){const j=yield w.Fu(N);j&&g._updateProgress(j),N=yield d.mc()}const k=yield w.complete();return yield Ga(l,k.Lu,void 0),yield function(j,Q){const ae=He(j);return ae.persistence.runTransaction("Save bundle","readwrite",Ie=>ae.Ns.saveBundleMetadata(Ie,Q))}(l.localStore,_),g._completeWith(k.progress),Promise.resolve(k.Bu)}catch(_){return Ze("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var j}),function(l,d,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield dp(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function wv(n,e){return function V1(n,e){return n.asyncQueue.enqueue((0,Ae.Z)(function*(){return function(t,r){const i=He(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ns.getNamedQuery(l,r))}(yield gv(n),e)}))}(pr(n=fn(n,lr)),e).then(t=>t?new Si(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wi(this,t):null)}}class Ep extends Um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ip(new oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return la.forKey(t,this.firestore,null)}}class Ov{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ep(e)}get(e){const t=Nd(e);return this._delegate.get(t).then(r=>new Tp(this._firestore,new kc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Nd(e);return r?(xv("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Nd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Nd(e);return this._delegate.delete(t),this}}class Ew{constructor(e){this._delegate=e}set(e,t,r){const i=Nd(e);return r?(xv("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Nd(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Nd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new wp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sp(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Pc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Pc(e,new Ep(e),t),i.set(t,l)),l}}Pc.INSTANCES=new WeakMap;class la{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ep(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new la(t,new Qn(t._delegate,r,new nt(e)))}static forKey(e,t,r){return new la(t,new Qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Oh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Oh(this.firestore,Tm(this._delegate,e))}catch(t){throw ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof Qn&&Sm(this._delegate,e)}set(e,t){t=xv("DocumentReference.set",t);try{return t?Rh(this._delegate,e,t):Rh(this._delegate,e)}catch(r){throw ls(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?_w(this._delegate,e):_w(this._delegate,e,t,...r)}catch(i){throw ls(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Y1(n){return Td(fn(n.firestore,lr),[new ch(n._key,nr.none())])}(this._delegate)}onSnapshot(...e){const t=kv(e),r=Tw(e,i=>new Tp(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Nv(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function pw(n){n=fn(n,Qn);const e=fn(n.firestore,lr),t=pr(e),r=new qa(e);return function za(n,e){const t=new Hn;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,l,d){try{const g=yield function(_,w){const N=He(_);return N.persistence.runTransaction("read document","readonly",k=>N.localDocuments.getDocument(k,w))}(i,l);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Ve(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=ja(g,`Failed to get document '${l} from cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield gv(n),e,t);var r})),t.promise}(t,n._key).then(i=>new kc(e,r,n._key,i,new Ed(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gw(n){n=fn(n,Qn);const e=fn(n.firestore,lr);return mv(pr(e),n._key,{source:"server"}).then(t=>Mv(e,n,t))}(this._delegate):function Z1(n){n=fn(n,Qn);const e=fn(n.firestore,lr);return mv(pr(e),n._key).then(t=>Mv(e,n,t))}(this._delegate),t.then(r=>new Tp(this.firestore,new kc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new la(this.firestore,this._delegate.withConverter(e?Pc.getInstance(this.firestore,e):null))}}function ls(n,e,t){return n.message=n.message.replace(e,t),n}function kv(n){for(const e of n)if("object"==typeof e&&!Ad(e))return e;return{}}function Tw(n,e){var t,r;let i;return i=Ad(n[0])?n[0]:Ad(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Tp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new la(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fw(this._delegate,e._delegate)}}class Sp extends Tp{data(e){const t=this._delegate.data(e);return function Mt(n,e){n||Fe()}(void 0!==t),t}}class Wi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ep(e)}where(e,t,r){try{return new Wi(this.firestore,Ou(this._delegate,function cw(n,e,t){const r=e,i=Oc("where",n);return new lw(i,r,t)}(e,t,r)))}catch(i){throw ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wi(this.firestore,Ou(this._delegate,function Ft(n,e="asc"){const t=e,r=Oc("orderBy",n);return new G1(r,t)}(e,t)))}catch(r){throw ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wi(this.firestore,Ou(this._delegate,function W1(n){return av("limit",n),new uw("limit",n,"F")}(e)))}catch(t){throw ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wi(this.firestore,Ou(this._delegate,function z1(n){return av("limitToLast",n),new uw("limitToLast",n,"L")}(e)))}catch(t){throw ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wi(this.firestore,Ou(this._delegate,function q1(...n){return new ku("startAt",n,!0)}(...e)))}catch(t){throw ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wi(this.firestore,Ou(this._delegate,function Vm(...n){return new ku("startAfter",n,!1)}(...e)))}catch(t){throw ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wi(this.firestore,Ou(this._delegate,function xr(...n){return new bp("endBefore",n,!1)}(...e)))}catch(t){throw ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wi(this.firestore,Ou(this._delegate,function xS(...n){return new bp("endAt",n,!0)}(...e)))}catch(t){throw ls(t,"endAt()","Query.endAt()")}}isEqual(e){return $D(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Q1(n){n=fn(n,Si);const e=fn(n.firestore,lr),t=pr(e),r=new qa(e);return function KD(n,e){const t=new Hn;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return(r=(0,Ae.Z)(function*(i,l,d){try{const g=yield Jg(i,l,!0),_=new FD(l,g.Hi),w=_.Wu(g.documents),N=_.applyChanges(w,!1);d.resolve(N.snapshot)}catch(g){const _=ja(g,`Failed to execute query '${l} against cache`);d.reject(_)}}),function(i,l,d){return r.apply(this,arguments)})(yield gv(n),e,t);var r})),t.promise}(t,n._query).then(i=>new aa(e,r,n,i))}(this._delegate):"server"===e?.source?function Cp(n){n=fn(n,Si);const e=fn(n.firestore,lr),t=pr(e),r=new qa(e);return ZD(t,n._query,{source:"server"}).then(i=>new aa(e,r,n,i))}(this._delegate):function mw(n){n=fn(n,Si);const e=fn(n.firestore,lr),t=pr(e),r=new qa(e);return aw(n._query),ZD(t,n._query).then(i=>new aa(e,r,n,i))}(this._delegate),t.then(r=>new Hm(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=kv(e),r=Tw(e,i=>new Hm(this.firestore,new aa(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Nv(this._delegate,t,r)}withConverter(e){return new Wi(this.firestore,this._delegate.withConverter(e?Pc.getInstance(this.firestore,e):null))}}class lE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Hm{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new lE(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Sp(this._firestore,r))})}isEqual(e){return fw(this._delegate,e._delegate)}}class Oh extends Wi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new la(this.firestore,e):null}doc(e){try{return new la(this.firestore,void 0===e?Sh(this._delegate):Sh(this._delegate,e))}catch(t){throw ls(t,"doc()","CollectionReference.doc()")}}add(e){return function J1(n,e){const t=fn(n.firestore,lr),r=Sh(n),i=Dp(n.converter,e);return Td(t,[pp(xu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new la(this.firestore,t))}isEqual(e){return Sm(this._delegate,e._delegate)}withConverter(e){return new Oh(this.firestore,this._delegate.withConverter(e?Pc.getInstance(this.firestore,e):null))}}function Nd(n){return fn(n,Qn)}class Pv{constructor(...e){this._delegate=new $l(...e)}static documentId(){return new Pv(fr.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof $l&&this._delegate._internalPath.isEqual(e._internalPath)}}class Md{constructor(e){this._delegate=e}static serverTimestamp(){const e=function jm(){return new km("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Md(e)}static delete(){const e=function vw(){return new Nh("deleteField")}();return e._methodName="FieldValue.delete",new Md(e)}static arrayUnion(...e){const t=function nE(...n){return new iw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Md(t)}static arrayRemove(...e){const t=function rE(...n){return new sw("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Md(t)}static increment(e){const t=function bw(n){return new ow("increment",n)}(e);return t._methodName="FieldValue.increment",new Md(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cE={Firestore:Iw,GeoPoint:hp,Timestamp:Gn,Blob:Ip,Transaction:Ov,WriteBatch:Ew,DocumentReference:la,DocumentSnapshot:Tp,Query:Wi,QueryDocumentSnapshot:Sp,QuerySnapshot:Hm,CollectionReference:Oh,FieldPath:Pv,FieldValue:Md,setLogLevel:function aE(n){!function ne(n){O.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function dE(n){(function uE(n,e){n.INTERNAL.registerComponent(new ys.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cE)))})(n,(e,t)=>new Iw(e,t,new Cw)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(tl.Z);var Rr=V(7579),Fv=V(6451),kh=V(5363),ca=V(8421);function zr(n,e){return(0,vt.e)((t,r)=>{let i=null,l=0,d=!1;const g=()=>d&&!i&&r.complete();t.subscribe((0,yn.x)(r,_=>{i?.unsubscribe();let w=0;const N=l++;(0,ca.Xf)(n(_,N)).subscribe(i=(0,yn.x)(r,k=>r.next(e?e(_,k,N,w++):k),()=>{i=null,g()}))},()=>{d=!0,g()}))})}var Lv=V(6063);class Sw extends Rr.x{constructor(e=1/0,t=1/0,r=Lv.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)g=_;g&&r.splice(0,g+1)}}}var Aw=V(3099);function Nw(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Aw.B)({connector:()=>new Sw(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}var Gm=V(3888);const Ph=(0,Gm.d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hl=V(515);function di(n){return n<=0?()=>Hl.E:(0,vt.e)((e,t)=>{let r=0;e.subscribe((0,yn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wm(n){return(0,vt.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mw(n=Vv){return(0,vt.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Vv(){return new Ph}function Fc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zn((i,l)=>n(i,l,r)):ii.y,di(1),t?Wm(e):Mw(()=>new Ph))}var Ka=V(576);function xd(n,e){return(0,Ka.m)(e)?zr(()=>n,e):zr(()=>n)}var zm=V(9468);V(5867);const yE=new Map,Ow={activated:!1,tokenObservers:[]},vE={initialized:!1,enabled:!1};function Ai(n){return yE.get(n)||Ow}function Za(n,e){yE.set(n,e)}function Hv(){return vE}class Vw{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ae.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield function Bw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const cs=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zv(n){if(!Ai(n).activated)throw cs.create("use-before-activation",{appName:n.name})}function Km(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Ae.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Q=yield d.getHeartbeatsHeader();Q&&(l["X-Firebase-Client"]=Q)}const g={method:"POST",body:JSON.stringify(e),headers:l};let _,w;try{_=yield fetch(n,g)}catch(Q){throw cs.create("fetch-network-error",{originalErrorMessage:null===(r=Q)||void 0===r?void 0:r.message})}if(200!==_.status)throw cs.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(Q){throw cs.create("fetch-parse-error",{originalErrorMessage:null===(i=Q)||void 0===i?void 0:i.message})}const N=w.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const k=1e3*Number(N[1]),j=Date.now();return{token:w.token,expireTimeMillis:j+k,issuedAtTimeMillis:j}}),Zm.apply(this,arguments)}function Hw(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Fh="firebase-app-check-store";let xp=null;function Kv(){return xp||(xp=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(cs.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fh,{keyPath:"compositeKey"})}}catch(r){e(cs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),xp)}function Qv(){return Qv=(0,Ae.Z)(function*(n,e){const r=(yield Kv()).transaction(Fh,"readwrite"),l=r.objectStore(Fh).put({compositeKey:n,value:e});return new Promise((d,g)=>{l.onsuccess=_=>{d()},r.onerror=_=>{var w;g(cs.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),Qv.apply(this,arguments)}const kp=new Fr.Yd("@firebase/app-check");function Vh(n,e){return(0,qt.hl)()?function Rp(n,e){return function Qa(n,e){return Qv.apply(this,arguments)}(function Ww(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{kp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Jv(){return Hv().enabled}function Xv(){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Ae.Z)(function*(){const n=Hv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Pp.apply(this,arguments)}const IE={error:"UNKNOWN_ERROR"};function EE(n){return qt.US.encodeString(JSON.stringify(n),!1)}function e0(n){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,Ae.Z)(function*(n,e=!1){const t=n.app;zv(t);const r=Ai(t);let l,i=r.token;if(i&&!Bh(i)&&(Za(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Bh(_)?i=_:yield Vh(t,void 0))}if(!e&&i&&Bh(i))return{token:i.token};let g,d=!1;if(Jv()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Km(Hw(t,yield Xv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield Vh(t,_),Za(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?kp.warn(_.message):kp.error(_),l=_}return i?l?g=Bh(i)?{token:i.token,internalError:l}:Kw(l):(g={token:i.token},Za(t,Object.assign(Object.assign({},r),{token:i})),yield Vh(t,i)):g=Kw(l),d&&qw(t,g),g}),Fp.apply(this,arguments)}function Qm(n,e){const t=Ai(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Za(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Ym(n){const{app:e}=n,t=Ai(e);let r=t.tokenRefresher;r||(r=function t0(n){const{app:e}=n;return new Vw((0,Ae.Z)(function*(){let r;if(r=Ai(e).token?yield e0(n,!0):yield e0(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Za(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qw(n,e){const t=Ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Bh(n){return n.expireTimeMillis-Date.now()>0}function Kw(n){return{token:EE(IE),error:n}}class TE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ai(this.app);for(const t of e)Qm(this.app,t.next);return Promise.resolve()}}const oC="app-check-internal";!function a0(){(0,si._registerComponent)(new ys.wA("app-check",n=>function Zw(n,e){return new TE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(oC).initialize()})),(0,si._registerComponent)(new ys.wA(oC,n=>function n0(n){return{getToken:e=>e0(n,e),addTokenListener:e=>function Lp(n,e,t,r){const{app:i}=n,l=Ai(i),d={next:t,error:r,type:e};if(Za(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&Bh(l.token)){const g=l.token;Promise.resolve().then(()=>{t({token:g.token}),Ym(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Ym(n))}(n,"INTERNAL",e),removeTokenListener:e=>Qm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,si.registerVersion)("@firebase/app-check","0.5.16")}();class jh{constructor(){return(0,kn.vb)("app-check")}}typeof window<"u"&&window;var u0=V(127);const fC=new u.InjectionToken("angularfire2.auth.use-emulator"),d0=new u.InjectionToken("angularfire2.auth.settings"),h0=new u.InjectionToken("angularfire2.auth.tenant-id"),pC=new u.InjectionToken("angularfire2.auth.langugage-code"),gC=new u.InjectionToken("angularfire2.auth.use-device-language"),f0=new u.InjectionToken("angularfire.auth.persistence"),mC=(n,e,t,r,i,l,d,g)=>(0,$e.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),d)for(const[w,N]of Object.entries(d))_.settings[w]=N;return g&&_.setPersistence(g),_},[t,r,i,l,d,g]);let $h=(()=>{class n{constructor(t,r,i,l,d,g,_,w,N,k,j,Q){const ae=new Rr.x,Ie=et(void 0).pipe((0,kh.Q)(d.outsideAngular),zr(()=>l.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,1277)))),(0,ut.U)(()=>(0,$e.on)(t,l,r)),(0,ut.U)(xe=>mC(xe,l,g,w,N,k,_,j)),Nw({bufferSize:1,refCount:!1}));if((0,C.isPlatformServer)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{Ie.pipe(Fc()).subscribe();const ct=Ie.pipe(zr(dt=>dt.getRedirectResult().then(at=>at,()=>null)),kn.iC,Nw({bufferSize:1,refCount:!1})),ht=Ie.pipe(zr(dt=>new At.y(at=>({unsubscribe:l.runOutsideAngular(()=>dt.onAuthStateChanged(ft=>at.next(ft),ft=>at.error(ft),()=>at.complete()))})))),Ct=Ie.pipe(zr(dt=>new At.y(at=>({unsubscribe:l.runOutsideAngular(()=>dt.onIdTokenChanged(ft=>at.next(ft),ft=>at.error(ft),()=>at.complete()))}))));this.authState=ct.pipe(xd(ht),(0,zm.R)(d.outsideAngular),(0,kh.Q)(d.insideAngular)),this.user=ct.pipe(xd(Ct),(0,zm.R)(d.outsideAngular),(0,kh.Q)(d.insideAngular)),this.idToken=this.user.pipe(zr(dt=>dt?(0,Ht.D)(dt.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(zr(dt=>dt?(0,Ht.D)(dt.getIdTokenResult()):et(null))),this.credential=(0,Fv.T)(ct,ae,this.authState.pipe(zn(dt=>!dt))).pipe((0,ut.U)(dt=>dt?.user?dt:null),(0,zm.R)(d.outsideAngular),(0,kh.Q)(d.insideAngular))}return(0,$e.pX)(this,Ie,l,{spy:{apply:(xe,ct,ht)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&ht.then(Ct=>ae.next(Ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject($e.Dh),u.\u0275\u0275inject($e.xv,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(kn.HU),u.\u0275\u0275inject(fC,8),u.\u0275\u0275inject(d0,8),u.\u0275\u0275inject(h0,8),u.\u0275\u0275inject(pC,8),u.\u0275\u0275inject(gC,8),u.\u0275\u0275inject(f0,8),u.\u0275\u0275inject(jh,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_C=(()=>{class n{constructor(){u0.Z.registerVersion("angularfire",kn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[$h]}),n})();function p0(n,e){return function yC(n,e=Je.z){return new At.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function g0(n,e){return p0(n,e).pipe((0,ut.U)(t=>({payload:t,type:"query"})))}function Bp(n,e){return g0(n,e).pipe(_n(void 0),So(),(0,ut.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const _=i.find(N=>N.doc.ref.isEqual(d.ref)),w=t?.payload.docs.find(N=>N.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),l}))}function m0(n,e,t){return Bp(n,t).pipe(ri((r,i)=>function vC(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function VE(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _0(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _0(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _0(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function Jn(n,e=ii.y){return n=n??Xn,(0,vt.e)((t,r)=>{let i,l=!0;t.subscribe((0,yn.x)(r,d=>{const g=e(d);(l||!n(i,g))&&(l=!1,i=g,r.next(d))}))})}(),(0,ut.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function _0(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function bC(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DC{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Bp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ut.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(_n(void 0),So(),zn(([r,i])=>i.length>0||!r),(0,ut.U)(([r,i])=>i),kn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ri((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=bC(e);return m0(this.query,t,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return g0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),kn.iC)}get(e){return(0,Ht.D)(this.query.get(e)).pipe(kn.iC)}add(e){return this.ref.add(e)}doc(e){return new wC(this.ref.doc(e),this.afs)}}class wC{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=jp(r,t);return new DC(i,l,this.afs)}snapshotChanges(){return function LE(n,e){return p0(n,e).pipe(_n(void 0),So(),(0,ut.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ut.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ht.D)(this.ref.get(e)).pipe(kn.iC)}}class BE{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Bp(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),zn(t=>t.length>0),kn.iC):Bp(this.query,this.afs.schedulers.outsideAngular).pipe(kn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ri((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=bC(e);return m0(this.query,t,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return g0(this.query,this.afs.schedulers.outsideAngular).pipe((0,ut.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),kn.iC)}get(e){return(0,Ht.D)(this.query.get(e)).pipe(kn.iC)}}const CC=new u.InjectionToken("angularfire2.enableFirestorePersistence"),Up=new u.InjectionToken("angularfire2.firestore.persistenceSettings"),GS=new u.InjectionToken("angularfire2.firestore.settings"),IC=new u.InjectionToken("angularfire2.firestore.use-emulator");function jp(n,e=(t=>t)){return{query:e(n),ref:n}}let n_=(()=>{class n{constructor(t,r,i,l,d,g,_,w,N,k,j,Q,ae,Ie,xe,ct,ht){this.schedulers=_;const Ct=(0,$e.on)(t,g,r),dt=N;k&&mC(Ct,g,j,ae,Ie,xe,Q,ct),[this.firestore,this.persistenceEnabled$]=(0,$e.cc)(`${Ct.name}.firestore`,"AngularFirestore",Ct.name,()=>{const at=g.runOutsideAngular(()=>Ct.firestore());if(l&&at.settings(l),dt&&at.useEmulator(...dt),i&&!(0,C.isPlatformServer)(d)){const ft=()=>{try{return(0,Ht.D)(at.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),et(!1)}};return[at,g.runOutsideAngular(ft)]}return[at,et(!1)]},[l,dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=jp(i,r),g=this.schedulers.ngZone.run(()=>l);return new DC(g,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new BE(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new wC(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject($e.Dh),u.\u0275\u0275inject($e.xv,8),u.\u0275\u0275inject(CC,8),u.\u0275\u0275inject(GS,8),u.\u0275\u0275inject(u.PLATFORM_ID),u.\u0275\u0275inject(u.NgZone),u.\u0275\u0275inject(kn.HU),u.\u0275\u0275inject(Up,8),u.\u0275\u0275inject(IC,8),u.\u0275\u0275inject($h,8),u.\u0275\u0275inject(fC,8),u.\u0275\u0275inject(d0,8),u.\u0275\u0275inject(h0,8),u.\u0275\u0275inject(pC,8),u.\u0275\u0275inject(gC,8),u.\u0275\u0275inject(f0,8),u.\u0275\u0275inject(jh,8))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EC=(()=>{class n{constructor(){u0.Z.registerVersion("angularfire",kn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CC,useValue:!0},{provide:Up,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[n_]}),n})();const{isArray:UE}=Array,{getPrototypeOf:y0,prototype:TC,keys:jE}=Object;function v0(n){if(1===n.length){const e=n[0];if(UE(e))return{args:e,keys:null};if(function $E(n){return n&&"object"==typeof n&&y0(n)===TC}(e)){const t=jE(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:HE}=Array;function b0(n){return(0,ut.U)(e=>function GE(n,e){return HE(e)?n(...e):n(e)}(n,e))}function $p(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let SC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n}),n})(),Pd=(()=>{class n extends SC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const hi=new u.InjectionToken("NgValueAccessor"),AC={provide:hi,useExisting:(0,u.forwardRef)(()=>D0),multi:!0};let D0=(()=>{class n extends Pd{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([AC]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const NC={provide:hi,useExisting:(0,u.forwardRef)(()=>Pu),multi:!0},qE=new u.InjectionToken("CompositionEventMode");let Pu=(()=>{class n extends SC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zE(){const n=(0,C.\u0275getDOM)()?(0,C.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(qE,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u.\u0275\u0275ProvidersFeature([NC]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function Fu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const us=new u.InjectionToken("NgValidators"),Gl=new u.InjectionToken("NgAsyncValidators");function RC(n){return Fu(n.value)?{required:!0}:null}function Hp(n){return null}function E0(n){return null!=n}function kC(n){return(0,u.\u0275isPromise)(n)?(0,Ht.D)(n):n}function T0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function S0(n,e){return e.map(t=>t(n))}function Lc(n){return n.map(e=>function A0(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gp(n){return null!=n?function s_(n){if(!n)return null;const e=n.filter(E0);return 0==e.length?null:function(t){return T0(S0(t,e))}}(Lc(n)):null}function o_(n){return null!=n?function Wl(n){if(!n)return null;const e=n.filter(E0);return 0==e.length?null:function(t){return function WE(...n){const e=(0,Yn.jO)(n),{args:t,keys:r}=v0(n),i=new At.y(l=>{const{length:d}=t;if(!d)return void l.complete();const g=new Array(d);let _=d,w=d;for(let N=0;N<d;N++){let k=!1;(0,ca.Xf)(t[N]).subscribe((0,yn.x)(l,j=>{k||(k=!0,w--),g[N]=j},()=>_--,void 0,()=>{(!_||!k)&&(w||l.next(r?$p(r,g):g),l.complete())}))}});return e?i.pipe(b0(e)):i}(S0(t,e).map(kC)).pipe((0,ut.U)(T0))}}(Lc(n)):null}function ZE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function a_(n){return n?Array.isArray(n)?n:[n]:[]}function l_(n,e){return Array.isArray(n)?n.includes(e):n===e}function M0(n,e){const t=a_(e);return a_(n).forEach(i=>{l_(t,i)||t.push(i)}),t}function FC(n,e){return a_(e).filter(t=>!l_(n,t))}class x0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=o_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ds extends x0{get formDirective(){return null}get path(){return null}}class Vc extends x0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LC{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fd=(()=>{class n extends LC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Vc,2))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})(),Hh=(()=>{class n extends LC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(ds,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.\u0275\u0275InheritDefinitionFeature]}),n})();const d_="VALID",h_="INVALID",Wh="PENDING",Ld="DISABLED";function Vd(n){return(zl(n)?n.validators:n)||null}function HC(n){return Array.isArray(n)?Gp(n):n||null}function P0(n,e){return(zl(e)?e.asyncValidators:n)||null}function F0(n){return Array.isArray(n)?o_(n):n||null}function zl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class p_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=HC(this._rawValidators),this._composedAsyncValidatorFn=F0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===d_}get invalid(){return this.status===h_}get pending(){return this.status==Wh}get disabled(){return this.status===Ld}get enabled(){return this.status!==Ld}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=F0(e)}addValidators(e){this.setValidators(M0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FC(e,this._rawAsyncValidators))}hasValidator(e){return l_(this._rawValidators,e)}hasAsyncValidator(e){return l_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ld,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=d_,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===d_||this.status===Wh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ld:d_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wh,this._hasOwnPendingAsyncValidator=!0;const t=kC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.EventEmitter,this.statusChanges=new u.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Ld:this.errors?h_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wh)?Wh:this._anyControlsHaveStatus(h_)?h_:d_}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class V0 extends p_{constructor(e,t,r){super(Vd(t),P0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function f_(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.\u0275RuntimeError(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function L0(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.\u0275RuntimeError(1e3,"");if(!r[t])throw new u.\u0275RuntimeError(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function g_(n,e){m_(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function eT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&j0(n,e)})}(n,e),function qC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zC(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&j0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function XE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function m_(n,e){const t=function N0(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ZE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function PC(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ZE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zp(e._rawValidators,i),zp(e._rawAsyncValidators,i)}function j0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const aT={provide:ds,useExisting:(0,u.forwardRef)(()=>Bd)},Kp=(()=>Promise.resolve())();let Bd=(()=>{class n extends ds{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.EventEmitter,this.form=new V0({},Gp(t),o_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Kp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),g_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Kp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Kp.then(()=>{const r=this._findContainer(t.path),i=new V0({});(function KC(n,e){m_(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Kp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Kp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function ZC(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(us,10),u.\u0275\u0275directiveInject(Gl,10))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.\u0275\u0275ProvidersFeature([aT]),u.\u0275\u0275InheritDefinitionFeature]}),n})();function QC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function YC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const JC=class extends p_{constructor(e=null,t,r){super(Vd(t),P0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=YC(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},o={provide:Vc,useExisting:(0,u.forwardRef)(()=>c)},a=(()=>Promise.resolve())();let c=(()=>{class n extends Vc{constructor(t,r,i,l,d){super(),this._changeDetectorRef=d,this.control=new JC,this._registered=!1,this.update=new u.EventEmitter,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function H0(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Pu?t=l:function sT(n){return Object.getPrototypeOf(n.constructor)===Pd}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function qp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){g_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){a.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,u.\u0275coerceToBoolean)(r);a.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function B0(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(ds,9),u.\u0275\u0275directiveInject(us,10),u.\u0275\u0275directiveInject(Gl,10),u.\u0275\u0275directiveInject(hi,10),u.\u0275\u0275directiveInject(u.ChangeDetectorRef,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.\u0275\u0275ProvidersFeature([o]),u.\u0275\u0275InheritDefinitionFeature,u.\u0275\u0275NgOnChangesFeature]}),n})(),h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const p={provide:hi,useExisting:(0,u.forwardRef)(()=>v),multi:!0};let v=(()=>{class n extends Pd{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[u.\u0275\u0275ProvidersFeature([p]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();let Qp=(()=>{class n{constructor(){this._validator=Hp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();const sx={provide:us,useExisting:(0,u.forwardRef)(()=>Yp),multi:!0};let Yp=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.\u0275coerceToBoolean,this.createValidator=t=>RC}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("required",r._enabled?"":null)},inputs:{required:"required"},features:[u.\u0275\u0275ProvidersFeature([sx]),u.\u0275\u0275InheritDefinitionFeature]}),n})();const lx={provide:us,useExisting:(0,u.forwardRef)(()=>eI),multi:!0};let eI=(()=>{class n extends Qp{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function rA(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function w0(n){return e=>Fu(e.value)||!function Io(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.\u0275\u0275getInheritedFactory(n)))(r||n)}}(),n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.\u0275\u0275attribute("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[u.\u0275\u0275ProvidersFeature([lx]),u.\u0275\u0275InheritDefinitionFeature]}),n})(),dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[M]}),n})(),dA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[dx]}),n})();const hA_firestore={apiKey:"AIzaSyBbTegfC9eIQufsxJNvZIYj42qlcLrAcZg",authDomain:"crud-mascota-ec725.firebaseapp.com",databaseURL:"https://crud-mascota-ec725.firebaseapp.com",projectId:"crud-mascota-ec725",storageBucket:"crud-mascota-ec725.appspot.com",messagingSenderId:"338074258056",appId:"1:338074258056:web:e7f498290569096aa06d3d",measurementId:"G-7784S5CB6G"};class hs extends Rr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var fA=V(9672);function tI(...n){const e=(0,Yn.yG)(n),t=(0,Yn.jO)(n),{args:r,keys:i}=v0(n);if(0===r.length)return(0,Ht.D)([],e);const l=new At.y(function fx(n,e,t=ii.y){return r=>{pA(e,()=>{const{length:i}=n,l=new Array(i);let d=i,g=i;for(let _=0;_<i;_++)pA(e,()=>{const w=(0,Ht.D)(n[_],e);let N=!1;w.subscribe((0,yn.x)(r,k=>{l[_]=k,N||(N=!0,g--),g||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>$p(i,d):ii.y));return t?l.pipe(b0(t)):l}function pA(n,e,t){n?(0,fA.f)(t,n,e):e()}function gA(n){return new At.y(e=>{(0,ca.Xf)(n()).subscribe(e)})}var px=V(9635);function Z0(n,e){const t=(0,Ka.m)(n)?n:()=>n,r=i=>i.error(t());return new At.y(e?i=>e.schedule(r,0,i):r)}var mA=V(727);function dT(){return(0,vt.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _A extends At.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vt.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mA.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mA.w0.EMPTY)}return e}refCount(){return dT()(this)}}var Ms=V(5577);function Jp(n,e){return(0,Ka.m)(e)?(0,Ms.z)(n,e,1):(0,Ms.z)(n,1)}var fs=V(8505);function qh(n){return(0,vt.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,yn.x)(t,void 0,void 0,d=>{l=(0,ca.Xf)(n(d,qh(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function hT(n){return n<=0?()=>Hl.E:(0,vt.e)((e,t)=>{let r=[];e.subscribe((0,yn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function yA(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zn((i,l)=>n(i,l,r)):ii.y,hT(1),t?Wm(e):Mw(()=>new Ph))}function fT(n){return(0,vt.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const cn="primary",Q0=Symbol("RouteTitle");class mx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function D_(n){return new mx(n)}function _x(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],g=n[l];if(d.startsWith(":"))i[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Vu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!bA(n[i],e[i]))return!1;return!0}function bA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function DA(n){return Array.prototype.concat.apply([],n)}function wA(n){return n.length>0?n[n.length-1]:null}function xs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Kh(n){return(0,u.\u0275isObservable)(n)?n:(0,u.\u0275isPromise)(n)?(0,Ht.D)(Promise.resolve(n)):et(n)}const bx={exact:function EA(n,e,t){if(!eg(n.segments,e.segments)||!nI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!EA(n.children[r],e.children[r],t))return!1;return!0},subset:TA},CA={exact:function Dx(n,e){return Vu(n,e)},subset:function wx(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bA(n[t],e[t]))},ignored:()=>!0};function IA(n,e,t){return bx[t.paths](n.root,e.root,t.matrixParams)&&CA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function TA(n,e,t){return SA(n,e,e.segments,t)}function SA(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!eg(i,t)||e.hasChildren()||!nI(i,t,r))}if(n.segments.length===t.length){if(!eg(n.segments,t)||!nI(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!TA(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(eg(n.segments,i)&&nI(n.segments,i,r)&&n.children[cn])&&SA(n.children[cn],e,l,r)}}function nI(n,e,t){return e.every((r,i)=>CA[t](n[i].parameters,r.parameters))}class Xp{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=D_(this.queryParams)),this._queryParamMap}toString(){return Ex.serialize(this)}}class pn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xs(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rI(this)}}class Y0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=D_(this.parameters)),this._parameterMap}toString(){return xA(this)}}function eg(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let AA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return new gT},providedIn:"root"}),n})();class gT{parse(e){const t=new kx(e);return new Xp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${J0(e.root,!0)}`,r=function Ax(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${iI(t)}=${iI(i)}`).join("&"):`${iI(t)}=${iI(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Tx(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const Ex=new gT;function rI(n){return n.segments.map(e=>xA(e)).join("/")}function J0(n,e){if(!n.hasChildren())return rI(n);if(e){const t=n.children[cn]?J0(n.children[cn],!1):"",r=[];return xs(n.children,(i,l)=>{l!==cn&&r.push(`${l}:${J0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ix(n,e){let t=[];return xs(n.children,(r,i)=>{i===cn&&(t=t.concat(e(r,i)))}),xs(n.children,(r,i)=>{i!==cn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===cn?[J0(n.children[cn],!1)]:[`${i}:${J0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cn]?`${rI(n)}/${t[0]}`:`${rI(n)}/(${t.join("//")})`}}function NA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iI(n){return NA(n).replace(/%3B/gi,";")}function mT(n){return NA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sI(n){return decodeURIComponent(n)}function MA(n){return sI(n.replace(/\+/g,"%20"))}function xA(n){return`${mT(n.path)}${function Sx(n){return Object.keys(n).map(e=>`;${mT(e)}=${mT(n[e])}`).join("")}(n.parameters)}`}const Nx=/^[^\/()?;=#]+/;function oI(n){const e=n.match(Nx);return e?e[0]:""}const Mx=/^[^=?&#]+/,Rx=/^[^&#]+/;class kx{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[cn]=new pn(e,t)),r}parseSegment(){const e=oI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.\u0275RuntimeError(4009,!1);return this.capture(e),new Y0(sI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=oI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=oI(this.remaining);i&&(r=i,this.capture(r))}e[sI(t)]=sI(r)}parseQueryParam(e){const t=function xx(n){const e=n.match(Mx);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Ox(n){const e=n.match(Rx);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=MA(t),l=MA(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=oI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.\u0275RuntimeError(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=cn);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[cn]:new pn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.\u0275RuntimeError(4011,!1)}}function _T(n){return n.segments.length>0?new pn([],{[cn]:n}):n}function aI(n){const e={};for(const r of Object.keys(n.children)){const l=aI(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Px(n){if(1===n.numberOfChildren&&n.children[cn]){const e=n.children[cn];return new pn(n.segments.concat(e.segments),e.children)}return n}(new pn(n.segments,e))}function tg(n){return n instanceof Xp}function Vx(n,e,t,r,i){if(0===t.length)return w_(e.root,e.root,e.root,r,i);const l=function kA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OA(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const g={};return xs(l.outlets,(_,w)=>{g[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,l]},[]);return new OA(t,e,r)}(t);return l.toRoot()?w_(e.root,e.root,new pn([],{}),r,i):function d(_){const w=function Ux(n,e,t,r){if(n.isAbsolute)return new C_(e.root,!0,0);if(-1===r)return new C_(t,t===e.root,0);return function PA(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new u.\u0275RuntimeError(4005,!1);i=r.segments.length}return new C_(r,!1,i-l)}(t,r+(X0(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),N=w.processChildren?tb(w.segmentGroup,w.index,l.commands):vT(w.segmentGroup,w.index,l.commands);return w_(e.root,w.segmentGroup,N,r,i)}(n.snapshot?._lastPathIndex)}function X0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function eb(n){return"object"==typeof n&&null!=n&&n.outlets}function w_(n,e,t,r,i){let d,l={};r&&xs(r,(_,w)=>{l[w]=Array.isArray(_)?_.map(N=>`${N}`):`${_}`}),d=n===e?t:RA(n,e,t);const g=_T(aI(d));return new Xp(g,l,i)}function RA(n,e,t){const r={};return xs(n.children,(i,l)=>{r[l]=i===e?t:RA(i,e,t)}),new pn(n.segments,r)}class OA{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&X0(r[0]))throw new u.\u0275RuntimeError(4003,!1);const i=r.find(eb);if(i&&i!==wA(r))throw new u.\u0275RuntimeError(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function vT(n,e,t){if(n||(n=new pn([],{})),0===n.segments.length&&n.hasChildren())return tb(n,e,t);const r=function $x(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],g=t[r];if(eb(g))break;const _=`${g}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!LA(_,w,d))return l;r+=2}else{if(!LA(_,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new pn(n.segments.slice(0,r.pathIndex),{});return l.children[cn]=new pn(n.segments.slice(r.pathIndex),n.children),tb(l,0,i)}return r.match&&0===i.length?new pn(n.segments,{}):r.match&&!n.hasChildren()?bT(n,e,t):r.match?tb(n,0,i):bT(n,e,t)}function tb(n,e,t){if(0===t.length)return new pn(n.segments,{});{const r=function jx(n){return eb(n[0])?n[0].outlets:{[cn]:n}}(t),i={};return xs(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=vT(n.children[d],e,l))}),xs(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new pn(n.segments,i)}}function bT(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(eb(l)){const _=Hx(l.outlets);return new pn(r,_)}if(0===i&&X0(t[0])){r.push(new Y0(n.segments[e].path,FA(t[0]))),i++;continue}const d=eb(l)?l.outlets[cn]:`${l}`,g=i<t.length-1?t[i+1]:null;d&&g&&X0(g)?(r.push(new Y0(d,FA(g))),i+=2):(r.push(new Y0(d,{})),i++)}return new pn(r,{})}function Hx(n){const e={};return xs(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=bT(new pn([],{}),0,t))}),e}function FA(n){const e={};return xs(n,(t,r)=>e[r]=`${t}`),e}function LA(n,e,t){return n==t.path&&Vu(e,t.parameters)}class Ud{constructor(e,t){this.id=e,this.url=t}}class DT extends Ud{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ng extends Ud{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lI extends Ud{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class VA extends Ud{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gx extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wx extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zx extends Ud{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qx extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kx extends Ud{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qx{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yx{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jx{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xx{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class UA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=CT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return CT(e,this._root).map(t=>t.value)}}function wT(n,e){if(n===e.value)return e;for(const t of e.children){const r=wT(n,t);if(r)return r}return null}function CT(n,e){if(n===e.value)return[e];for(const t of e.children){const r=CT(n,t);if(r.length)return r.unshift(e),r}return[]}class jd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function I_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class jA extends UA{constructor(e,t){super(e),this.snapshot=t,IT(this,e)}toString(){return this.snapshot.toString()}}function $A(n,e){const t=function nR(n,e){const d=new cI([],{},{},"",{},cn,e,null,n.root,-1,{});return new GA("",new jd(d,[]))}(n,e),r=new hs([new Y0("",{})]),i=new hs({}),l=new hs({}),d=new hs({}),g=new hs(""),_=new Zh(r,i,d,g,l,cn,e,t.root);return _.snapshot=t.root,new jA(new jd(_,[]),t)}class Zh{constructor(e,t,r,i,l,d,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.pipe((0,ut.U)(w=>w[Q0]))??et(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(e=>D_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(e=>D_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HA(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function rR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class cI{constructor(e,t,r,i,l,d,g,_,w,N,k,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=g,this.title=this.data?.[Q0],this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=N,this._correctedLastPathIndex=j??N,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=D_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=D_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GA extends UA{constructor(e,t){super(t),this.url=e,IT(this,t)}toString(){return WA(this._root)}}function IT(n,e){e.value._routerState=n,e.children.forEach(t=>IT(n,t))}function WA(n){const e=n.children.length>0?` { ${n.children.map(WA).join(", ")} } `:"";return`${n.value}${e}`}function ET(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vu(e.params,t.params)||n.params.next(t.params),function yx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function TT(n,e){const t=Vu(n.params,e.params)&&function Cx(n,e){return eg(n,e)&&n.every((t,r)=>Vu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||TT(n.parent,e.parent))}function nb(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function sR(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nb(n,r,i);return nb(n,r)})}(n,e,t);return new jd(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>nb(n,g)),d}}const r=function oR(n){return new Zh(new hs(n.url),new hs(n.params),new hs(n.queryParams),new hs(n.fragment),new hs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>nb(n,l));return new jd(r,i)}}const ST="ngNavigationCancelingError";function zA(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=tg(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=qA(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function qA(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ST]=!0,r.cancellationCode=e,t&&(r.url=t),r}function KA(n){return ZA(n)&&tg(n.url)}function ZA(n){return n&&n[ST]}class aR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rb,this.attachRef=null}}let rb=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new aR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uI=!1;let AT=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.EventEmitter,this.deactivateEvents=new u.EventEmitter,this.attachEvents=new u.EventEmitter,this.detachEvents=new u.EventEmitter,this.name=i||cn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.\u0275RuntimeError(4012,uI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.\u0275RuntimeError(4012,uI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.\u0275RuntimeError(4012,uI);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.\u0275RuntimeError(4013,uI);this._activatedRoute=t;const i=this.location,d=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new lR(t,g,i.injector);if(r&&function cR(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(d);this.activated=i.createComponent(w,i.length,_)}else this.activated=i.createComponent(d,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(rb),u.\u0275\u0275directiveInject(u.ViewContainerRef),u.\u0275\u0275injectAttribute("name"),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.EnvironmentInjector))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class lR{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zh?this.route:e===rb?this.childContexts:this.parent.get(e,t)}}let NT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[AT],encapsulation:2}),n})();function QA(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.createEnvironmentInjector)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xT(n){const e=n.children&&n.children.map(xT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==cn&&(t.component=NT),t}function ql(n){return n.outlet||cn}function YA(n,e){const t=n.filter(r=>ql(r)===e);return t.push(...n.filter(r=>ql(r)!==e)),t}function ib(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pR{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ET(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=I_(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),xs(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=I_(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=I_(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=I_(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new eR(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Jx(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(ET(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),ET(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=ib(i.snapshot),_=g?.get(u.ComponentFactoryResolver)??null;d.attachRef=null,d.route=i,d.resolver=_,d.injector=g,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class JA{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dI{constructor(e,t){this.component=e,this.route=t}}function gR(n,e,t){const r=n._root;return sb(r,e?e._root:null,t,[r.value])}function E_(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.\u0275isInjectable)(n)?e.get(n):n:r}function sb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=I_(e);return n.children.forEach(d=>{(function _R(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const _=function yR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!eg(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eg(n.url,e.url)||!Vu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TT(n,e)||!Vu(n.queryParams,e.queryParams);default:return!TT(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new JA(r)):(l.data=d.data,l._resolvedData=d._resolvedData),sb(n,e,l.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new dI(g.outlet.component,d))}else d&&ob(e,g,i),i.canActivateChecks.push(new JA(r)),sb(n,null,l.component?g?g.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),xs(l,(d,g)=>ob(d,t.getContext(g),i)),i}function ob(n,e,t){const r=I_(n),i=n.value;xs(r,(l,d)=>{ob(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new dI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ab(n){return"function"==typeof n}function RT(n){return n instanceof Ph||"EmptyError"===n?.name}const hI=Symbol("INITIAL_VALUE");function T_(){return zr(n=>tI(n.map(e=>e.pipe(di(1),_n(hI)))).pipe((0,ut.U)(e=>{for(const t of e)if(!0!==t){if(t===hI)return hI;if(!1===t||t instanceof Xp)return t}return!0}),zn(e=>e!==hI),di(1)))}function XA(n){return(0,px.z)((0,fs.b)(e=>{if(tg(e))throw zA(0,e)}),(0,ut.U)(e=>!0===e))}const OT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eN(n,e,t,r,i){const l=kT(n,e,t);return l.matched?function PR(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?et(i.map(d=>{const g=E_(d,n);return Kh(function IR(n){return n&&ab(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(T_(),XA()):et(!0)}(r=QA(e,r),e,t).pipe((0,ut.U)(d=>!0===d?l:{...OT})):et(l)}function kT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...OT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_x)(t,n,e);if(!i)return{...OT};const l={};xs(i.posParams,(g,_)=>{l[_]=g.path});const d=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function fI(n,e,t,r,i="corrected"){if(t.length>0&&function VR(n,e,t){return t.some(r=>pI(n,e,r)&&ql(r)!==cn)}(n,t,r)){const d=new pn(e,function LR(n,e,t,r){const i={};i[cn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ql(l)!==cn){const d=new pn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ql(l)]=d}return i}(n,e,r,new pn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function BR(n,e,t){return t.some(r=>pI(n,e,r))}(n,t,r)){const d=new pn(n.segments,function FR(n,e,t,r,i,l){const d={};for(const g of r)if(pI(n,t,g)&&!i[ql(g)]){const _=new pn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[ql(g)]=_}return{...i,...d}}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new pn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function pI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function tN(n,e,t,r){return!!(ql(n)===r||r!==cn&&pI(e,t,n))&&("**"===n.path||kT(e,n,t).matched)}function nN(n,e,t){return 0===e.length&&!n.children[t]}const gI=!1;class mI{constructor(e){this.segmentGroup=e||null}}class rN{constructor(e){this.urlTree=e}}function lb(n){return Z0(new mI(n))}function iN(n){return Z0(new rN(n))}class HR{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=fI(this.urlTree.root,[],[],this.config).segmentGroup,t=new pn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,cn).pipe((0,ut.U)(l=>this.createUrlTree(aI(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qh(l=>{if(l instanceof rN)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof mI?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,cn).pipe((0,ut.U)(i=>this.createUrlTree(aI(i),e.queryParams,e.fragment))).pipe(qh(i=>{throw i instanceof mI?this.noMatchError(i):i}))}noMatchError(e){return new u.\u0275RuntimeError(4002,gI)}createUrlTree(e,t,r){const i=_T(e);return new Xp(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ut.U)(l=>new pn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Ht.D)(i).pipe(Jp(l=>{const d=r.children[l],g=YA(t,l);return this.expandSegmentGroup(e,g,d,l).pipe((0,ut.U)(_=>({segment:_,outlet:l})))}),ri((l,d)=>(l[d.outlet]=d.segment,l),{}),yA())}expandSegment(e,t,r,i,l,d){return(0,Ht.D)(r).pipe(Jp(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,l,d).pipe(qh(w=>{if(w instanceof mI)return et(null);throw w}))),Fc(g=>!!g),qh((g,_)=>{if(RT(g))return nN(t,i,l)?et(new pn([],{})):lb(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,l,d,g){return tN(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):lb(t):lb(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?iN(l):this.lineralizeSegments(r,l).pipe((0,Ms.z)(d=>{const g=new pn(d,{});return this.expandSegment(e,g,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:g,consumedSegments:_,remainingSegments:w,positionalParamSegments:N}=kT(t,i,l);if(!g)return lb(t);const k=this.applyRedirectCommands(_,i.redirectTo,N);return i.redirectTo.startsWith("/")?iN(k):this.lineralizeSegments(i,k).pipe((0,Ms.z)(j=>this.expandSegment(e,t,r,j.concat(w),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=QA(r,e),r.loadChildren?(r._loadedRoutes?et({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ut.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new pn(i,{})))):et(new pn(i,{}))):eN(t,r,i,e).pipe(zr(({matched:d,consumedSegments:g,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ms.z)(N=>{const k=N.injector??e,j=N.routes,{segmentGroup:Q,slicedSegments:ae}=fI(t,g,_,j),Ie=new pn(Q.segments,Q.children);if(0===ae.length&&Ie.hasChildren())return this.expandChildren(k,j,Ie).pipe((0,ut.U)(Ct=>new pn(g,Ct)));if(0===j.length&&0===ae.length)return et(new pn(g,{}));const xe=ql(r)===l;return this.expandSegment(k,Ie,j,ae,xe?cn:l,!0).pipe((0,ut.U)(ht=>new pn(g.concat(ht.segments),ht.children)))})):lb(t)))}getChildConfig(e,t,r){return t.children?et({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?et({routes:t._loadedRoutes,injector:t._loadedInjector}):function kR(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?et(!0):et(i.map(d=>{const g=E_(d,n);return Kh(function bR(n){return n&&ab(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(T_(),XA())}(e,t,r).pipe((0,Ms.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,fs.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function jR(n){return Z0(qA(gI,3))}())):et({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return et(r);if(i.numberOfChildren>1||!i.children[cn])return Z0(new u.\u0275RuntimeError(4e3,gI));i=i.children[cn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Xp(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xs(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[l]=t[g]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return xs(t.children,(g,_)=>{d[_]=this.createSegmentGroup(e,g,r,i)}),new pn(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.\u0275RuntimeError(4001,gI);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class WR{}class KR{constructor(e,t,r,i,l,d,g,_){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g,this.urlSerializer=_}recognize(){const e=fI(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,cn).pipe((0,ut.U)(t=>{if(null===t)return null;const r=new cI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new jd(r,t),l=new GA(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=HA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Ht.D)(Object.keys(r.children)).pipe(Jp(i=>{const l=r.children[i],d=YA(t,i);return this.processSegmentGroup(e,d,l,i)}),ri((i,l)=>i&&l?(i.push(...l),i):null),function gx(n,e=!1){return(0,vt.e)((t,r)=>{let i=0;t.subscribe((0,yn.x)(r,l=>{const d=n(l,i++);(d||e)&&r.next(l),!d&&r.complete()}))})}(i=>null!==i),Wm(null),yA(),(0,ut.U)(i=>{if(null===i)return null;const l=sN(i);return function ZR(n){n.sort((e,t)=>e.value.outlet===cn?-1:t.value.outlet===cn?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,Ht.D)(t).pipe(Jp(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,i,l)),Fc(d=>!!d),qh(d=>{if(RT(d))return nN(r,i,l)?et([]):et(null);throw d}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!tN(t,r,i,l))return et(null);let d;if("**"===t.path){const g=i.length>0?wA(i).parameters:{},_=aN(r)+i.length;d=et({snapshot:new cI(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cN(t),ql(t),t.component??t._loadedComponent??null,t,oN(r),_,uN(t),_),consumedSegments:[],remainingSegments:[]})}else d=eN(r,t,i,e).pipe((0,ut.U)(({matched:g,consumedSegments:_,remainingSegments:w,parameters:N})=>{if(!g)return null;const k=aN(r)+_.length;return{snapshot:new cI(_,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cN(t),ql(t),t.component??t._loadedComponent??null,t,oN(r),k,uN(t),k),consumedSegments:_,remainingSegments:w}}));return d.pipe(zr(g=>{if(null===g)return et(null);const{snapshot:_,consumedSegments:w,remainingSegments:N}=g;e=t._injector??e;const k=t._loadedInjector??e,j=function QR(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:ae}=fI(r,w,N,j.filter(xe=>void 0===xe.redirectTo),this.relativeLinkResolution);if(0===ae.length&&Q.hasChildren())return this.processChildren(k,j,Q).pipe((0,ut.U)(xe=>null===xe?null:[new jd(_,xe)]));if(0===j.length&&0===ae.length)return et([new jd(_,[])]);const Ie=ql(t)===l;return this.processSegment(k,j,Q,ae,Ie?cn:l).pipe((0,ut.U)(xe=>null===xe?null:[new jd(_,xe)]))}))}}function YR(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sN(n){const e=[],t=new Set;for(const r of n){if(!YR(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=sN(r.children);e.push(new jd(r.value,i))}return e.filter(r=>!t.has(r))}function oN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aN(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function cN(n){return n.data||{}}function uN(n){return n.resolve||{}}function eO(n,e){return(0,Ms.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return et(t);let l=0;return(0,Ht.D)(i).pipe(Jp(d=>function tO(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!dN(i)&&(l[Q0]=i.title),function nO(n,e,t,r){const i=function rO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return et({});const l={};return(0,Ht.D)(i).pipe((0,Ms.z)(d=>function iO(n,e,t,r){const i=ib(e)??r,l=E_(n,i);return Kh(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Fc(),(0,fs.b)(g=>{l[d]=g}))),hT(1),function vA(n){return(0,ut.U)(()=>n)}(l),qh(d=>RT(d)?Hl.E:Z0(d)))}(l,n,e,r).pipe((0,ut.U)(d=>(n._resolvedData=d,n.data=HA(n,t).resolve,i&&dN(i)&&(n.data[Q0]=i.title),null)))}(d.route,r,n,e)),(0,fs.b)(()=>l++),hT(1),(0,Ms.z)(d=>l===i.length?et(t):Hl.E))})}function dN(n){return"string"==typeof n.title||null===n.title}function PT(n){return zr(e=>{const t=n(e);return t?(0,Ht.D)(t).pipe((0,ut.U)(()=>e)):et(e)})}let hN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===cn);return r}getResolvedTitleForRoute(t){return t.data[Q0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return(0,u.inject)(fN)},providedIn:"root"}),n})(),fN=(()=>{class n extends hN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Bn))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sO{}class aO extends class oO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yI=new u.InjectionToken("",{providedIn:"root",factory:()=>({})}),FT=new u.InjectionToken("ROUTES");let LT=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return et(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Kh(t.loadComponent()).pipe((0,fs.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),fT(()=>{this.componentLoaders.delete(t)})),i=new _A(r,()=>new Rr.x).pipe(dT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return et({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ut.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,w,N=!1;Array.isArray(g)?w=g:(_=g.create(t).injector,w=DA(_.get(FT,[],u.InjectFlags.Self|u.InjectFlags.Optional)));return{routes:w.map(xT),injector:_}}),fT(()=>{this.childrenLoaders.delete(r)})),d=new _A(l,()=>new Rr.x).pipe(dT());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Kh(t()).pipe((0,Ms.z)(r=>r instanceof u.NgModuleFactory||Array.isArray(r)?et(r):(0,Ht.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(u.Compiler))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cO{}class uO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dO(n){throw n}function hO(n,e,t){return e.parse("/")}const fO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function gN(){const n=(0,u.inject)(AA),e=(0,u.inject)(rb),t=(0,u.inject)(C.Location),r=(0,u.inject)(u.Injector),i=(0,u.inject)(u.Compiler),l=(0,u.inject)(FT,{optional:!0})??[],d=(0,u.inject)(yI,{optional:!0})??{},g=(0,u.inject)(fN),_=(0,u.inject)(hN,{optional:!0}),w=(0,u.inject)(cO,{optional:!0}),N=(0,u.inject)(sO,{optional:!0}),k=new Ir(null,n,e,t,r,i,DA(l));return w&&(k.urlHandlingStrategy=w),N&&(k.routeReuseStrategy=N),k.titleStrategy=_??g,function gO(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,k),k}let Ir=(()=>{class n{constructor(t,r,i,l,d,g,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Rr.x,this.errorHandler=dO,this.malformedUriErrorHandler=hO,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>et(void 0),this.urlHandlingStrategy=new uO,this.routeReuseStrategy=new aO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(LT),this.configLoader.onLoadEndListener=j=>this.triggerEvent(new Qx(j)),this.configLoader.onLoadStartListener=j=>this.triggerEvent(new Zx(j)),this.ngModule=d.get(u.NgModuleRef),this.console=d.get(u.\u0275Console);const k=d.get(u.NgZone);this.isNgZoneEnabled=k instanceof u.NgZone&&u.NgZone.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function vx(){return new Xp(new pn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$A(this.currentUrlTree,this.rootComponentType),this.transitions=new hs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zn(i=>0!==i.id),(0,ut.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zr(i=>{let l=!1,d=!1;return et(i).pipe((0,fs.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zr(g=>{const _=this.browserUrlTree.toString(),w=!this.navigated||g.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return mN(g.source)&&(this.browserUrlTree=g.extractedUrl),et(g).pipe(zr(k=>{const j=this.transitions.getValue();return r.next(new DT(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),j!==this.transitions.getValue()?Hl.E:Promise.resolve(k)}),function GR(n,e,t,r){return zr(i=>function $R(n,e,t,r,i){return new HR(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ut.U)(l=>({...i,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fs.b)(k=>{this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects},i.urlAfterRedirects=k.urlAfterRedirects}),function XR(n,e,t,r,i,l){return(0,Ms.z)(d=>function qR(n,e,t,r,i,l,d="emptyOnly",g="legacy"){return new KR(n,e,t,r,i,d,g,l).recognize().pipe(zr(_=>null===_?function zR(n){return new At.y(e=>e.error(n))}(new WR):et(_)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,i,l).pipe((0,ut.U)(g=>({...d,targetSnapshot:g}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fs.b)(k=>{if(i.targetSnapshot=k.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(Q,k)}this.browserUrlTree=k.urlAfterRedirects}const j=new Gx(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next(j)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:Q,source:ae,restoredState:Ie,extras:xe}=g,ct=new DT(j,this.serializeUrl(Q),ae,Ie);r.next(ct);const ht=$A(Q,this.rootComponentType).snapshot;return et(i={...g,targetSnapshot:ht,urlAfterRedirects:Q,extras:{...xe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),Hl.E}),(0,fs.b)(g=>{const _=new Wx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,ut.U)(g=>i={...g,guards:gR(g.targetSnapshot,g.currentSnapshot,this.rootContexts)}),function TR(n,e){return(0,Ms.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?et({...t,guardsResult:!0}):function SR(n,e,t,r){return(0,Ht.D)(n).pipe((0,Ms.z)(i=>function OR(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?et(l.map(g=>{const _=ib(e)??i,w=E_(g,_);return Kh(function CR(n){return n&&ab(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):_.runInContext(()=>w(n,e,t,r))).pipe(Fc())})).pipe(T_()):et(!0)}(i.component,i.route,t,e,r)),Fc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Ms.z)(g=>g&&function vR(n){return"boolean"==typeof n}(g)?function AR(n,e,t,r){return(0,Ht.D)(e).pipe(Jp(i=>Mi(function MR(n,e){return null!==n&&e&&e(new Yx(n)),et(!0)}(i.route.parent,r),function NR(n,e){return null!==n&&e&&e(new Xx(n)),et(!0)}(i.route,r),function RR(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function mR(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>gA(()=>et(d.guards.map(_=>{const w=ib(d.node)??t,N=E_(_,w);return Kh(function wR(n){return n&&ab(n.canActivateChild)}(N)?N.canActivateChild(r,n):w.runInContext(()=>N(r,n))).pipe(Fc())})).pipe(T_())));return et(l).pipe(T_())}(n,i.path,t),function xR(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const i=r.map(l=>gA(()=>{const d=ib(e)??t,g=E_(l,d);return Kh(function DR(n){return n&&ab(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(Fc())}));return et(i).pipe(T_())}(n,i.route,t))),Fc(i=>!0!==i,!0))}(r,l,n,e):et(g)),(0,ut.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,fs.b)(g=>{if(i.guardsResult=g.guardsResult,tg(g.guardsResult))throw zA(0,g.guardsResult);const _=new zx(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),zn(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",3),!1)),PT(g=>{if(g.guards.canActivateChecks.length)return et(g).pipe((0,fs.b)(_=>{const w=new qx(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),zr(_=>{let w=!1;return et(_).pipe(eO(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fs.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,fs.b)(_=>{const w=new Kx(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),PT(g=>{const _=w=>{const N=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,fs.b)(k=>{w.component=k}),(0,ut.U)(()=>{})));for(const k of w.children)N.push(..._(k));return N};return tI(_(g.targetSnapshot.root)).pipe(Wm(),di(1))}),PT(()=>this.afterPreactivation()),(0,ut.U)(g=>{const _=function iR(n,e,t){const r=nb(n,e._root,t?t._root:void 0);return new jA(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return i={...g,targetRouterState:_}}),(0,fs.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,ut.U)(r=>(new pR(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,fs.b)({next(){l=!0},complete(){l=!0}}),fT(()=>{l||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),qh(g=>{if(d=!0,ZA(g)){KA(g)||(this.navigated=!0,this.restoreHistory(i,!0));const _=new lI(i.id,this.serializeUrl(i.extractedUrl),g.message,g.cancellationCode);if(r.next(_),KA(g)){const w=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),N={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mN(i.source)};this.scheduleNavigation(w,"imperative",null,N,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new VA(i.id,this.serializeUrl(i.extractedUrl),g,i.targetSnapshot??void 0);r.next(_);try{i.resolve(this.errorHandler(g))}catch(w){i.reject(w)}}return Hl.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const g={...l};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(i.state=g)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,l,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(xT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:g,preserveFragment:_}=r,w=i||this.routerState.root,N=_?this.currentUrlTree.fragment:d;let k=null;switch(g){case"merge":k={...this.currentUrlTree.queryParams,...l};break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),Vx(w,this.currentUrlTree,t,k,N??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=tg(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function mO(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.\u0275RuntimeError(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...fO}:!1===r?{...pO}:r,tg(t))return IA(this.currentUrlTree,t,i);const l=this.parseUrl(t);return IA(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ng(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){if(this.disposed)return Promise.resolve(!1);let g,_,w;d?(g=d.resolve,_=d.reject,w=d.promise):w=new Promise((j,Q)=>{g=j,_=Q});const N=++this.navigationId;let k;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),k=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):k=0,this.setTransition({id:N,targetPageId:k,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:g,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const l=new lI(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:function(){return gN()},providedIn:"root"}),n})();function mN(n){return"imperative"!==n}let VT=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Rr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject(Zh),u.\u0275\u0275injectAttribute("tabindex"),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ElementRef))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),rg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Rr.x,this.subscription=t.events.subscribe(l=>{l instanceof ng&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,u.\u0275coerceToBoolean)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.\u0275coerceToBoolean)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.\u0275coerceToBoolean)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){return!!(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject(Zh),u.\u0275\u0275directiveInject(C.LocationStrategy))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.\u0275\u0275listener("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&u.\u0275\u0275attribute("target",r.target)("href",r.href,u.\u0275\u0275sanitizeUrl)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})(),_N=(()=>{class n{constructor(t,r,i,l,d,g){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=d,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.EventEmitter,this.routerEventsSubscription=t.events.subscribe(_=>{_ instanceof ng&&this.update()})}ngAfterContentInit(){et(this.links.changes,this.linksWithHrefs.changes,et(null)).pipe((0,bn.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Ht.D)(t).pipe((0,bn.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function _O(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.Renderer2),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(VT,8),u.\u0275\u0275directiveInject(rg,8))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(u.\u0275\u0275contentQuery(i,VT,5),u.\u0275\u0275contentQuery(i,rg,5)),2&t){let l;u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.links=l),u.\u0275\u0275queryRefresh(l=u.\u0275\u0275loadQuery())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.\u0275\u0275NgOnChangesFeature]}),n})();class yN{}let yO=(()=>{class n{constructor(t,r,i,l,d){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(zn(t=>t instanceof ng),Jp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.createEnvironmentInjector)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,g=l._loadedInjector??d;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?i.push(this.preloadConfig(d,l)):(l.children||l._loadedRoutes)&&i.push(this.processRoutes(g,l.children??l._loadedRoutes))}return(0,Ht.D)(i).pipe((0,bn.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):et(null);const l=i.pipe((0,Ms.z)(d=>null===d?et(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Ht.D)([l,d]).pipe((0,bn.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ir),u.\u0275\u0275inject(u.Compiler),u.\u0275\u0275inject(u.EnvironmentInjector),u.\u0275\u0275inject(yN),u.\u0275\u0275inject(LT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BT=new u.InjectionToken("");let vN=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof DT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ng&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new BA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.\u0275\u0275invalidFactory()},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();function S_(n,e){return{\u0275kind:n,\u0275providers:e}}function UT(n){return[{provide:FT,multi:!0,useValue:n}]}function DN(){const n=(0,u.inject)(u.Injector);return e=>{const t=n.get(u.ApplicationRef);if(e!==t.components[0])return;const r=n.get(Ir),i=n.get(wN);1===n.get(jT)&&r.initialNavigation(),n.get(CN,null,u.InjectFlags.Optional)?.setUpPreloading(),n.get(BT,null,u.InjectFlags.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const wN=new u.InjectionToken("",{factory:()=>new Rr.x}),jT=new u.InjectionToken("",{providedIn:"root",factory:()=>1});const CN=new u.InjectionToken("");function wO(n){return S_(0,[{provide:CN,useExisting:yO},{provide:yN,useExisting:n}])}const IN=new u.InjectionToken("ROUTER_FORROOT_GUARD"),CO=[C.Location,{provide:AA,useClass:gT},{provide:Ir,useFactory:gN},rb,{provide:Zh,useFactory:function bN(n){return n.routerState.root},deps:[Ir]},LT];function IO(){return new u.NgProbeToken("Router",Ir)}let EN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[CO,[],UT(t),{provide:IN,useFactory:AO,deps:[[Ir,new u.Optional,new u.SkipSelf]]},{provide:yI,useValue:r||{}},r?.useHash?{provide:C.LocationStrategy,useClass:C.HashLocationStrategy}:{provide:C.LocationStrategy,useClass:C.PathLocationStrategy},{provide:BT,useFactory:()=>{const n=(0,u.inject)(Ir),e=(0,u.inject)(C.ViewportScroller),t=(0,u.inject)(yI);return t.scrollOffset&&e.setOffset(t.scrollOffset),new vN(n,e,t)}},r?.preloadingStrategy?wO(r.preloadingStrategy).\u0275providers:[],{provide:u.NgProbeToken,multi:!0,useFactory:IO},r?.initialNavigation?NO(r):[],[{provide:TN,useFactory:DN},{provide:u.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:TN}]]}}static forChild(t){return{ngModule:n,providers:[UT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(IN,8))},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[NT]}),n})();function AO(n){return"guarded"}function NO(n){return["disabled"===n.initialNavigation?S_(3,[{provide:u.APP_INITIALIZER,multi:!0,useFactory:()=>{const e=(0,u.inject)(Ir);return()=>{e.setUpLocationChangeListener()}}},{provide:jT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?S_(2,[{provide:jT,useValue:0},{provide:u.APP_INITIALIZER,multi:!0,deps:[u.Injector],useFactory:e=>{const t=e.get(C.LOCATION_INITIALIZED,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const d=e.get(Ir),g=e.get(wN);(function i(l){e.get(Ir).events.pipe(zn(g=>g instanceof ng||g instanceof lI||g instanceof VA),(0,ut.U)(g=>g instanceof ng||g instanceof lI&&(0===g.code||1===g.code)&&null),zn(g=>null!==g),di(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),d.afterPreactivation=()=>(l(!0),r||g.closed?et(void 0):g),d.initialNavigation()}))}}]).\u0275providers:[]]}const TN=new u.InjectionToken("");let wI=(()=>{class n{constructor(t){this.db=t,this.id="1"}getConfiguracion(){return this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracion=this.configuracionDoc.valueChanges(),this.configuracion}modificarConfiguracion(t){this.configuracionDoc=this.db.doc(`configuracion/${this.id}`),this.configuracionDoc.update(t)}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(n_))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),xO=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r,this.permitirRegistro=!1}ngOnInit(){this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}guardar(){this.configuracionServicio.modificarConfiguracion({permitirRegistro:this.permitirRegistro}),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject(wI))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-configuracion"]],decls:34,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block",3,"click"],[1,"fas","fa-check"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","permitirRegistro",1,"form-check-input",3,"ngModel","checked","ngModelChange"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Configuraci\xf3n"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1)(9,"div",2)(10,"div",6)(11,"a",7),u.\u0275\u0275element(12,"i",8),u.\u0275\u0275text(13," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(14,"div",6)(15,"button",9),u.\u0275\u0275listener("click",function(){return r.guardar()}),u.\u0275\u0275element(16,"i",10),u.\u0275\u0275text(17," Guardar cambios "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(18,"section")(19,"div",1)(20,"div",2)(21,"div",11)(22,"div",12)(23,"div",13)(24,"h4"),u.\u0275\u0275text(25," Editar configuraci\xf3n"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(26,"div",14)(27,"fieldset",15)(28,"legend"),u.\u0275\u0275text(29,"Permitir registro de usuarios"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"div",16)(31,"label",17)(32,"input",18),u.\u0275\u0275listener("ngModelChange",function(l){return r.permitirRegistro=l}),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(33),u.\u0275\u0275elementEnd()()()()()()()()()),2&t&&(u.\u0275\u0275advance(32),u.\u0275\u0275property("ngModel",r.permitirRegistro)("checked",r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate1(" ",r.permitirRegistro?"Si":"No"," "))},dependencies:[rg,D0,Fd,c]}),n})(),$T=(()=>{class n{constructor(t){this.db=t,this.clientesColeccion=t.collection("mascota",r=>r.orderBy("created_at","asc"))}getClientes(){return this.clientes=this.clientesColeccion.snapshotChanges().pipe((0,ut.U)(t=>t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i}))),this.clientes}agregarCliente(t){this.clientesColeccion.add(t)}getCliente(t){return this.clienteDoc=this.db.doc(`mascota/${t}`),this.cliente=this.clienteDoc.snapshotChanges().pipe((0,ut.U)(r=>{if(!1===r.payload.exists)return null;{const i=r.payload.data();return i.id=r.payload.id,i}})),this.cliente}modificarCliente(t){this.clienteDoc=this.db.doc(`mascota/${t.id}`),this.clienteDoc.update(t)}eliminarCliente(t){this.clienteDoc=this.db.doc(`mascota/${t.id}`),this.clienteDoc.delete()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(n_))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var $d=V(3241);const CI=function(n){return{"is-invalid":n}};let RO=(()=>{class n{constructor(t,r,i,l){this.clientesServicio=t,this.flashMessages=r,this.router=i,this.route=l,this.cliente={nombre:"",tipo:"",edad:0,enfermedades:"",updated_at:new Date}}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientesServicio.getCliente(this.id).subscribe(t=>{this.cliente=t})}guardar({value:t,valid:r}){r?(t.id=this.id,t.updated_at=new Date,this.clientesServicio.modificarCliente(t),this.router.navigate(["/"])):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}eliminar(){confirm("\xbfSeguro que desea eliminar la mascota?")&&(this.clientesServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject($T),u.\u0275\u0275directiveInject($d.GQ),u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject(Zh))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-editar-cliente"]],decls:66,vars:22,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],[3,"ngSubmit"],["clienteForm","ngForm"],["id","actions",1,"py-4","mb-4","bg-light"],[1,"col-md-3"],["routerLink","/",1,"btn","btn-light","btn-block"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-success","btn-block"],[1,"fas","fa-check"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fas","fa-trash"],["id","detailes"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","tipo"],["type","text","name","tipo","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["tipo","ngModel"],["for","edad"],["type","number","name","edad","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["edad","ngModel"],["for","enfermedades"],["type","text","name","enfermedades","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["enfermedades","ngModel"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Editar mascota"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"form",5,6),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(8);return u.\u0275\u0275resetView(r.guardar(d.form))}),u.\u0275\u0275element(9,"flash-messages"),u.\u0275\u0275elementStart(10,"section",7)(11,"div",1)(12,"div",2)(13,"div",8)(14,"a",9),u.\u0275\u0275element(15,"i",10),u.\u0275\u0275text(16," Regresar al inicio "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(17,"div",8)(18,"button",11),u.\u0275\u0275element(19,"i",12),u.\u0275\u0275text(20," Guardar mascota "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(21,"div",8)(22,"a",13),u.\u0275\u0275listener("click",function(){return r.eliminar()}),u.\u0275\u0275element(23,"i",14),u.\u0275\u0275text(24," Eliminar mascota "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(25,"section",15)(26,"div",1)(27,"div",2)(28,"div",16)(29,"div",17)(30,"div",18)(31,"h4"),u.\u0275\u0275text(32,"Editar Cliente"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(33,"div",19)(34,"div",20)(35,"label",21),u.\u0275\u0275text(36,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(37,"input",22,23),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.nombre=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(39,"div",24),u.\u0275\u0275text(40," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(41,"div",24),u.\u0275\u0275text(42," Debe contener al menos 2 caract\xe9res "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(43,"div",20)(44,"label",25),u.\u0275\u0275text(45,"Tipo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(46,"input",26,27),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.tipo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(48,"div",24),u.\u0275\u0275text(49," Tipo requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(50,"div",24),u.\u0275\u0275text(51," Debe contener al menos 2 caract\xe9res "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(52,"div",20)(53,"label",28),u.\u0275\u0275text(54,"Edad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"input",29,30),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.edad=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(57,"div",24),u.\u0275\u0275text(58," Edad requerida "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(59,"div",20)(60,"label",31),u.\u0275\u0275text(61,"Enfermedades"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(62,"input",32,33),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.enfermedades=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(64,"div",24),u.\u0275\u0275text(65," Enfermedades requerido "),u.\u0275\u0275elementEnd()()()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(38),l=u.\u0275\u0275reference(47),d=u.\u0275\u0275reference(56),g=u.\u0275\u0275reference(63);u.\u0275\u0275advance(37),u.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",u.\u0275\u0275pureFunction1(14,CI,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.tipo)("ngClass",u.\u0275\u0275pureFunction1(16,CI,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.edad)("ngClass",u.\u0275\u0275pureFunction1(18,CI,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.enfermedades)("ngClass",u.\u0275\u0275pureFunction1(20,CI,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[C.NgClass,rg,h,Pu,v,Fd,Hh,Yp,eI,c,Bd,$d.cS]}),n})(),II=(()=>{class n{constructor(t){this.authService=t}login(t,r){return new Promise((i,l)=>{this.authService.signInWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}getAuth(){return this.authService.authState.pipe((0,ut.U)(t=>t))}logout(){this.authService.signOut()}registrarse(t,r){return new Promise((i,l)=>{this.authService.createUserWithEmailAndPassword(t,r).then(d=>i(d),d=>l(d))})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject($h))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),OO=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}login(){this.loginService.login(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.messagese,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject($d.GQ),u.\u0275\u0275directiveInject(II))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","login"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","login",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Login"),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18," Login "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.login()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[h,Pu,Fd,Hh,Yp,c,Bd,$d.cS]}),n})(),kO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-no-encontrado"]],decls:2,vars:0,template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"p"),u.\u0275\u0275text(1,"no-encontrado works!"),u.\u0275\u0275elementEnd())}}),n})(),PO=(()=>{class n{constructor(t,r,i){this.router=t,this.flashMessages=r,this.loginService=i}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t&&this.router.navigate(["/"])})}registro(){this.loginService.registrarse(this.email,this.password).then(t=>{this.router.navigate(["/"])}).catch(t=>{this.flashMessages.show(t.messagese,{cssClass:"alert-danger",timeout:4e3})})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject($d.GQ),u.\u0275\u0275directiveInject(II))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-registro"]],decls:30,vars:2,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"fas","fa-user"],["id","actions",1,"py-4","mb-4","bg-light"],["id","registro"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","registrarse",1,"btn","btn-primary","btn-block"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Registro "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",5)(8,"div",1),u.\u0275\u0275element(9,"div",2),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(10,"flash-messages"),u.\u0275\u0275elementStart(11,"section",6)(12,"div",1)(13,"div",2)(14,"div",7)(15,"div",8)(16,"div",9)(17,"h4"),u.\u0275\u0275text(18," Registro "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(19,"div",10)(20,"form",11),u.\u0275\u0275listener("submit",function(){return r.registro()}),u.\u0275\u0275elementStart(21,"div",12)(22,"label",13),u.\u0275\u0275text(23,"Email"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"input",14),u.\u0275\u0275listener("ngModelChange",function(l){return r.email=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(25,"div",12)(26,"label",15),u.\u0275\u0275text(27,"Password"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"input",16),u.\u0275\u0275listener("ngModelChange",function(l){return r.password=l}),u.\u0275\u0275elementEnd()(),u.\u0275\u0275element(29,"input",17),u.\u0275\u0275elementEnd()()()()()()()),2&t&&(u.\u0275\u0275advance(24),u.\u0275\u0275property("ngModel",r.email),u.\u0275\u0275advance(4),u.\u0275\u0275property("ngModel",r.password))},dependencies:[h,Pu,Fd,Hh,Yp,c,Bd,$d.cS]}),n})();function SN(n){return n instanceof Date&&!isNaN(n)}const FO=(0,Gm.d)(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function VO(n){throw new FO(n)}const BO=["clienteForm"],UO=["botonCerrar"];function jO(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"tr")(1,"td"),u.\u0275\u0275text(2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(3,"td"),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"td"),u.\u0275\u0275text(6),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(7,"td"),u.\u0275\u0275text(8),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(9,"td"),u.\u0275\u0275text(10),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"td"),u.\u0275\u0275text(12),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(13,"td"),u.\u0275\u0275text(14),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(15,"td")(16,"a",39),u.\u0275\u0275element(17,"i",40),u.\u0275\u0275text(18," Editar "),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(19," | "),u.\u0275\u0275elementStart(20,"a",41),u.\u0275\u0275listener("click",function(){const l=u.\u0275\u0275restoreView(t).$implicit,d=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(d.eliminarA(l))}),u.\u0275\u0275element(21,"i",42),u.\u0275\u0275text(22," Eliminar "),u.\u0275\u0275elementEnd()()()}if(2&n){const t=e.$implicit,r=e.index;u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(r+1),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.nombre),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.tipo),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.edad),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.enfermedades),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.created_at),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(t.updated_at),u.\u0275\u0275advance(2),u.\u0275\u0275propertyInterpolate1("routerLink","/cliente/editar/",t.id,"")}}const EI=function(n){return{"is-invalid":n}};let $O=(()=>{class n{constructor(t,r,i){this.clientesServicio=t,this.flashMessages=r,this.router=i,this.cliente={nombre:"",tipo:"",edad:0,enfermedades:"",created_at:new Date,updated_at:new Date}}ngOnInit(){this.clientesServicio.getClientes().subscribe(t=>{this.clientes=t,function LO(n,e){const{first:t,each:r,with:i=VO,scheduler:l=e??Je.z,meta:d=null}=SN(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==r)throw new TypeError("No timeout provided.");(0,vt.e)((g,_)=>{let w,N,k=null,j=0;const Q=ae=>{N=(0,fA.f)(_,l,()=>{try{w.unsubscribe(),(0,ca.Xf)(i({meta:d,lastValue:k,seen:j})).subscribe(_)}catch(Ie){_.error(Ie)}},ae)};w=g.subscribe((0,yn.x)(_,ae=>{N?.unsubscribe(),j++,_.next(k=ae),r>0&&Q(r)},void 0,void 0,()=>{N?.closed||N?.unsubscribe(),k=null})),!j&&Q(null!=t?"number"==typeof t?t:+t-l.now():r)})}(1500);for(let r=0;r<t.length;r++){let i=this.clientes[r].created_at?.toString(),l=this.clientes[r].updated_at?.toString(),d=i[18],g=l[18];for(let N=19;N<28;N++)d+=i[N],g+=l[N];let _=new Date(1e3*+d),w=new Date(1e3*+g);this.clientes[r].created_at=_.toLocaleDateString()+" "+_.toLocaleTimeString(),this.clientes[r].updated_at=w.toLocaleDateString()+" "+w.toLocaleTimeString()}})}agregar({value:t,valid:r}){r?(t.created_at=new Date,t.updated_at=new Date,this.clientesServicio.agregarCliente(t),this.clienteForm.resetForm(),this.cerrarModal()):this.flashMessages.show("Por favor llena el formulario correctamente",{cssClass:"alert-danger",timeout:4e3})}cerrarModal(){this.botonCerrar.nativeElement.click()}eliminarA(t){confirm("\xbfSeguro que desea eliminar la mascota?")&&(this.clientesServicio.eliminarCliente(t),this.router.navigate(["/"]))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject($T),u.\u0275\u0275directiveInject($d.GQ),u.\u0275\u0275directiveInject(Ir))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-clientes"]],viewQuery:function(t,r){if(1&t&&(u.\u0275\u0275viewQuery(BO,5),u.\u0275\u0275viewQuery(UO,5)),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.clienteForm=i.first),u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r.botonCerrar=i.first)}},decls:85,vars:23,consts:[["id","actions",1,"py-4","mb-4","bg-light"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarClienteModal",1,"btn","btn-success","btn-block"],[1,"fas","fa-plus"],["id","clientes"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"table","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["id","agregarClienteModal",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["data-bs-dismiss","modal",1,"close"],["botonCerrar",""],[3,"ngSubmit"],["clienteForm","ngForm"],[1,"modal-body"],[1,"form-group"],["for","nombre"],["type","text","name","nombre","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nombre","ngModel"],[1,"invalid-feedback",3,"hidden"],["for","tipo"],["type","text","name","tipo","required","","minlength","2",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["tipo","ngModel"],["for","edad"],["type","number","name","edad","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["edad","ngModel"],["for","enfermedades"],["type","text","name","enfermedades","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["enfermedades","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fas","fa-angle-double-right"],["href","#",1,"btn","btn-danger","btn-block",3,"click"],[1,"fas","fa-trash"]],template:function(t,r){if(1&t){const i=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),u.\u0275\u0275element(5,"i",5),u.\u0275\u0275text(6," Agregar mascota "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275elementStart(7,"section",6)(8,"div",1)(9,"div",2)(10,"div",7)(11,"div",8)(12,"div",9)(13,"h4"),u.\u0275\u0275text(14,"Listado de mascotas"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(15,"table",10)(16,"thead",11)(17,"tr")(18,"th"),u.\u0275\u0275text(19,"#"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"th"),u.\u0275\u0275text(21,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(22,"th"),u.\u0275\u0275text(23,"Tipo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(24,"th"),u.\u0275\u0275text(25,"Edad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(26,"th"),u.\u0275\u0275text(27,"Enfermedades"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(28,"th"),u.\u0275\u0275text(29,"Created_at"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(30,"th"),u.\u0275\u0275text(31,"Updated_at"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(32,"th"),u.\u0275\u0275text(33,"Acciones"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275elementStart(34,"tbody"),u.\u0275\u0275template(35,jO,23,8,"tr",12),u.\u0275\u0275elementEnd()()()()()()(),u.\u0275\u0275elementStart(36,"div",13)(37,"div",14)(38,"div",15)(39,"div",16)(40,"h5",17),u.\u0275\u0275text(41,"Agregar mascota"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(42,"button",18,19)(44,"span"),u.\u0275\u0275text(45,"\xd7"),u.\u0275\u0275elementEnd()()(),u.\u0275\u0275element(46,"flash-messages"),u.\u0275\u0275elementStart(47,"form",20,21),u.\u0275\u0275listener("ngSubmit",function(){u.\u0275\u0275restoreView(i);const d=u.\u0275\u0275reference(48);return u.\u0275\u0275resetView(r.agregar(d.form))}),u.\u0275\u0275elementStart(49,"div",22)(50,"div",23)(51,"label",24),u.\u0275\u0275text(52,"Nombre"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(53,"input",25,26),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.nombre=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(55,"div",27),u.\u0275\u0275text(56," Nombre requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(57,"div",27),u.\u0275\u0275text(58," Debe contener al menos 2 caract\xe9res "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(59,"div",23)(60,"label",28),u.\u0275\u0275text(61,"Tipo"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(62,"input",29,30),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.tipo=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(64,"div",27),u.\u0275\u0275text(65," Tipo requerido "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(66,"div",27),u.\u0275\u0275text(67," Debe contener al menos 2 caract\xe9res "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(68,"div",23)(69,"label",31),u.\u0275\u0275text(70,"Edad"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(71,"input",32,33),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.edad=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(73,"div",27),u.\u0275\u0275text(74," Edad requerida "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(75,"div",23)(76,"label",34),u.\u0275\u0275text(77,"Enfermedades"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(78,"input",35,36),u.\u0275\u0275listener("ngModelChange",function(d){return r.cliente.enfermedades=d}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(80,"div",27),u.\u0275\u0275text(81," Enfermedades requerido "),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(82,"div",37)(83,"button",38),u.\u0275\u0275text(84,"Guardar"),u.\u0275\u0275elementEnd()()()()()()()}if(2&t){const i=u.\u0275\u0275reference(54),l=u.\u0275\u0275reference(63),d=u.\u0275\u0275reference(72),g=u.\u0275\u0275reference(79);u.\u0275\u0275advance(35),u.\u0275\u0275property("ngForOf",r.clientes),u.\u0275\u0275advance(18),u.\u0275\u0275property("ngModel",r.cliente.nombre)("ngClass",u.\u0275\u0275pureFunction1(15,EI,i.errors&&i.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=i.errors&&i.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.tipo)("ngClass",u.\u0275\u0275pureFunction1(17,EI,l.errors&&l.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.required)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=l.errors&&l.errors.minlength)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.edad)("ngClass",u.\u0275\u0275pureFunction1(19,EI,d.errors&&d.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),u.\u0275\u0275advance(5),u.\u0275\u0275property("ngModel",r.cliente.enfermedades)("ngClass",u.\u0275\u0275pureFunction1(21,EI,g.errors&&g.touched)),u.\u0275\u0275advance(2),u.\u0275\u0275property("hidden",!(null!=g.errors&&g.errors.required))}},dependencies:[C.NgClass,C.NgForOf,rg,h,Pu,v,Fd,Hh,Yp,eI,c,Bd,$d.cS]}),n})(),HO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-tablero"]],decls:8,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-8"],[1,"fas","fa-cog"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),u.\u0275\u0275element(5,"i",4),u.\u0275\u0275text(6," Control de mascotas "),u.\u0275\u0275elementEnd()()()()(),u.\u0275\u0275element(7,"app-clientes"))},dependencies:[$O]}),n})(),TI=(()=>{class n{constructor(t,r){this.router=t,this.afAuth=r}canActivate(){return this.afAuth.authState.pipe((0,ut.U)(t=>!!t||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ir),u.\u0275\u0275inject($h))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})(),AN=(()=>{class n{constructor(t,r){this.router=t,this.configuracionServicio=r}canActivate(){return this.configuracionServicio.getConfiguracion().pipe((0,ut.U)(t=>!!t.permitirRegistro||(this.router.navigate(["/login"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(Ir),u.\u0275\u0275inject(wI))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();const GO=[{path:"",component:HO,canActivate:[TI]},{path:"login",component:OO},{path:"registrarse",component:PO,canActivate:[AN]},{path:"configuracion",component:xO,canActivate:[TI]},{path:"cliente/editar/:id",component:RO,canActivate:[TI]},{path:"**",component:kO}];let WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[EN.forRoot(GO),EN]}),n})();var zO=V(1144);const qO=["addListener","removeListener"],KO=["addEventListener","removeEventListener"],ZO=["on","off"];function Eo(n,e,t,r){if((0,Ka.m)(t)&&(r=t,t=void 0),r)return Eo(n,e,t).pipe(b0(r));const[i,l]=function JO(n){return(0,Ka.m)(n.addEventListener)&&(0,Ka.m)(n.removeEventListener)}(n)?KO.map(d=>g=>n[d](e,g,t)):function QO(n){return(0,Ka.m)(n.addListener)&&(0,Ka.m)(n.removeListener)}(n)?qO.map(NN(n,e)):function YO(n){return(0,Ka.m)(n.on)&&(0,Ka.m)(n.off)}(n)?ZO.map(NN(n,e)):[];if(!i&&(0,zO.z)(n))return(0,Ms.z)(d=>Eo(d,e,t))((0,ca.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new At.y(d=>{const g=(..._)=>d.next(1<_.length?_:_[0]);return i(g),()=>l(g)})}function NN(n,e){return t=>r=>n[t](e,r)}var XO=V(3532);const{isArray:ek}=Array;function MN(n){return 1===n.length&&ek(n[0])?n[0]:n}var SI=V(5032);function AI(...n){const e=(0,Yn.jO)(n),t=MN(n);return t.length?new At.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let d=0;!r.closed&&d<t.length;d++)(0,ca.Xf)(t[d]).subscribe((0,yn.x)(r,g=>{if(i[d].push(g),i.every(_=>_.length)){const _=i.map(w=>w.shift());r.next(e?e(..._):_),i.some((w,N)=>!w.length&&l[N])&&r.complete()}},()=>{l[d]=!0,!i[d].length&&r.complete()}));return()=>{i=l=null}}):Hl.E}function zi(n){return(0,vt.e)((e,t)=>{(0,ca.Xf)(n).subscribe((0,yn.x)(t,()=>t.complete(),SI.Z)),!t.closed&&e.subscribe(t)})}function GT(...n){const e=(0,Yn.jO)(n);return(0,vt.e)((t,r)=>{const i=n.length,l=new Array(i);let d=n.map(()=>!1),g=!1;for(let _=0;_<i;_++)(0,ca.Xf)(n[_]).subscribe((0,yn.x)(r,w=>{l[_]=w,!g&&!d[_]&&(d[_]=!0,(g=d.every(ii.y))&&(d=null))},SI.Z));t.subscribe((0,yn.x)(r,_=>{if(g){const w=[_,...l];r.next(e?e(...w):w)}}))})}new At.y(SI.Z),Math,Math,Math;const mP=["*"],kP=["dialog"];function nS(n){return"string"==typeof n}function og(n){return null!=n}function R_(n){return(n||document.body).getBoundingClientRect()}const YN={animation:!0,transitionTimerDelayMs:5},AF=()=>{},{transitionTimerDelayMs:NF}=YN,gb=new Map,Ws=(n,e,t,r)=>{let i=r.context||{};const l=gb.get(e);if(l)switch(r.runningTransition){case"continue":return Hl.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),gb.delete(e)}const d=t(e,r.animation,i)||AF;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>d()),et(void 0).pipe(function TF(n){return e=>new At.y(t=>e.subscribe({next:d=>n.run(()=>t.next(d)),error:d=>n.run(()=>t.error(d)),complete:()=>n.run(()=>t.complete())}))}(n));const g=new Rr.x,_=new Rr.x,w=g.pipe(function nk(...n){return e=>Mi(e,et(...n))}(!0));gb.set(e,{transition$:g,complete:()=>{_.next(),_.complete()},context:i});const N=function SF(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const k=Eo(e,"transitionend").pipe(zi(w),zn(({target:Q})=>Q===e));(function xN(...n){return 1===(n=MN(n)).length?(0,ca.Xf)(n[0]):new At.y(function tk(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ca.Xf)(n[r]).subscribe((0,yn.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))})(function HT(n=0,e,t=Je.P){let r=-1;return null!=e&&((0,XO.K)(e)?t=e:r=e),new At.y(i=>{let l=SN(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(N+NF).pipe(zi(w)),k,_).pipe(zi(w)).subscribe(()=>{gb.delete(e),n.run(()=>{d(),g.next(),g.complete()})})}),g.asObservable()},iS=(n,e,t)=>{let{direction:r,maxSize:i,dimension:l}=t;const{classList:d}=n;function g(){d.add("collapse"),"show"===r?d.add("show"):d.remove("show")}if(e)return i||(i=function xF(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,l),t.maxSize=i,n.style[l]="show"!==r?i:"0px",d.remove("collapse"),d.remove("collapsing"),d.remove("show"),R_(n),d.add("collapsing")),n.style[l]="show"===r?i:"0px",()=>{g(),d.remove("collapsing"),n.style[l]=""};g()};let mb=(()=>{class n{constructor(){this.animation=YN.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),rM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),oM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),UF=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(mb))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jF=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new u.EventEmitter,this.shown=new u.EventEmitter,this.hidden=new u.EventEmitter,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return Ws(this._zone,this._element.nativeElement,iS,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(UF),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&u.\u0275\u0275classProp("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]}),n})(),aM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();var qi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(qi||(qi={})),qi))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function uM(n){const e=Array.from(n.querySelectorAll(cM)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let yM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule,dA]}),n})(),uS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.\u0275\u0275defineDirective({type:n,selectors:[["",8,"navbar"]]}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();class ug{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let bL=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{Ws(this._zone,this._el.nativeElement,(t,r)=>{r&&R_(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ws(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(u.\u0275\u0275classMap("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.\u0275\u0275classProp("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class wM{close(e){}dismiss(e){}}class DL{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Rr.x,this._dismissed=new Rr.x,this._hidden=new Rr.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,d)=>{this._resolve=l,this._reject=d}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(zi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(zi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function QN(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():et(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),AI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var bb=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(bb||(bb={})),bb))();let wL=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Rr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.EventEmitter,this.shown=new Rr.x,this.hidden=new Rr.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":nS(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(di(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},d=AI(Ws(this._zone,t,()=>t.classList.remove("show"),r),Ws(this._zone,this._dialogEl.nativeElement,()=>{},r));return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){const t={animation:this.animation,runningTransition:"continue"};AI(Ws(this._zone,this._elRef.nativeElement,(l,d)=>{d&&R_(l),l.classList.add("show")},t),Ws(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Eo(t,"keydown").pipe(zi(this._closed$),zn(i=>i.which===qi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(bb.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Eo(this._dialogEl.nativeElement,"mousedown").pipe(zi(this._closed$),(0,fs.b)(()=>r=!1),zr(()=>Eo(t,"mouseup").pipe(zi(this._closed$),di(1))),zn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Eo(t,"click").pipe(zi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(bb.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=uM(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ws(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(C.DOCUMENT),u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.\u0275\u0275viewQuery(kP,7),2&t){let i;u.\u0275\u0275queryRefresh(i=u.\u0275\u0275loadQuery())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.\u0275\u0275attribute("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.\u0275\u0275classMap("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.\u0275\u0275classProp("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:mP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2),u.\u0275\u0275projection(3),u.\u0275\u0275elementEnd()()),2&t&&u.\u0275\u0275classMap("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),CL=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:d}=i;if(t>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=d),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(C.DOCUMENT))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IL=(()=>{class n{constructor(t,r,i,l,d,g){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=l,this._rendererFactory=d,this._ngZone=g,this._activeWindowCmptHasChanged=new Rr.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.EventEmitter,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const _=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Eo(e,"focusin").pipe(zi(t),(0,ut.U)(l=>l.target));Eo(e,"keydown").pipe(zi(t),zn(l=>l.which===qi.Tab),GT(i)).subscribe(([l,d])=>{const[g,_]=uM(e);(d===g||d===e)&&l.shiftKey&&(_.focus(),l.preventDefault()),d===_&&!l.shiftKey&&(g.focus(),l.preventDefault())}),r&&Eo(e,"click").pipe(zi(t),GT(i),(0,ut.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,_.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(_.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:og(i.container)?this._document.querySelector(i.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const g=new wM,_=this._getContentRef(i.injector||t,r,g,i);let w=!1!==i.backdrop?this._attachBackdrop(l):void 0,N=this._attachWindowComponent(l,_.nodes),k=new DL(N,_,w,i.beforeDismiss);return this._registerModalRef(k),this._registerWindowCmpt(N),k.hidden.pipe(di(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),g.close=j=>{k.close(j)},g.dismiss=j=>{k.dismiss(j)},this._applyWindowOptions(N.instance,i),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,i),w.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),k}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,u.createComponent)(bL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,u.createComponent)(wL,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{og(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{og(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l){return r?r instanceof u.TemplateRef?this._createFromTemplateRef(r,i):nS(r)?this._createFromString(r):this._createFromComponent(t,r,i,l):new ug([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(d){r.close(d)},dismiss(d){r.dismiss(d)}});return this._applicationRef.attachView(l),new ug([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ug([[r]])}_createFromComponent(t,r,i,l){const d=u.Injector.create({providers:[{provide:wM,useValue:i}],parent:t}),g=(0,u.createComponent)(r,{environmentInjector:this._applicationRef.injector,elementInjector:d}),_=g.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(g.hostView),new ug([[_]],g.hostView,g)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.ApplicationRef),u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(C.DOCUMENT),u.\u0275\u0275inject(CL),u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(u.NgZone))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EL=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(mb))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TL=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275inject(u.Injector),u.\u0275\u0275inject(IL),u.\u0275\u0275inject(EL))},n.\u0275prov=u.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[TL]}),n})(),SM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),PM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),LM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),VM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),BM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),UM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();new u.InjectionToken("live announcer delay",{providedIn:"root",factory:function BL(){return 100}});let HM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[C.CommonModule]}),n})(),GM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({}),n})();const UL=[nM,rM,oM,aM,yM,DM,CM,SM,GM,PM,LM,VM,BM,UM,jM,$M,HM];let jL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=u.\u0275\u0275defineInjector({imports:[UL,nM,rM,oM,aM,yM,DM,CM,SM,GM,PM,LM,VM,BM,UM,jM,$M,HM]}),n})();function $L(n,e){1&n&&(u.\u0275\u0275elementStart(0,"ul",10)(1,"li",11)(2,"a",12),u.\u0275\u0275text(3,"Inicio"),u.\u0275\u0275elementEnd()()())}function HL(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",13)(1,"a",14),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"div",16)(5,"a",17),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.isDropdownCollapsed=!i.isDropdownCollapsed)}),u.\u0275\u0275element(6,"i",18),u.\u0275\u0275text(7," Configuraci\xf3n "),u.\u0275\u0275elementEnd()()()}if(2&n){const t=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275attribute("aria-expanded",!t.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate1(" Bienvenido ",t.loggedInUser," "),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngbCollapse",t.isDropdownCollapsed)}}function GL(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",20),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3," Login "),u.\u0275\u0275elementEnd()())}function WL(n,e){1&n&&(u.\u0275\u0275elementStart(0,"li",19)(1,"a",21),u.\u0275\u0275element(2,"i",15),u.\u0275\u0275text(3," Registro "),u.\u0275\u0275elementEnd()())}function zL(n,e){if(1&n){const t=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"li",19)(1,"a",22),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(t);const i=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(i.logout())}),u.\u0275\u0275element(2,"i",23),u.\u0275\u0275text(3," Salir "),u.\u0275\u0275elementEnd()()}}let qL=(()=>{class n{constructor(t,r,i){this.loginService=t,this.router=r,this.configuracionServicio=i,this.isCollapsed=!0,this.isDropdownCollapsed=!0}ngOnInit(){this.loginService.getAuth().subscribe(t=>{t?(this.isLoggedIn=!0,this.loggedInUser=t.email):this.isLoggedIn=!1}),this.configuracionServicio.getConfiguracion().subscribe(t=>{this.permitirRegistro=t.permitirRegistro})}logout(){this.loginService.logout(),this.isLoggedIn=!1,this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(u.\u0275\u0275directiveInject(II),u.\u0275\u0275directiveInject(Ir),u.\u0275\u0275directiveInject(wI))},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-cabecero"]],decls:13,vars:7,consts:[[1,"navbar","navbar-expand-sm","navbar-dark","bg-dark","p-0"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","aria-controls","navbarCollapse",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse",3,"ngbCollapse"],["class","navbar-nav",4,"ngIf"],[1,"navbar-nav","ml-auto"],["class","nav-item dropdown mr-3",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item","px-2"],["routerLink","/",1,"nav-link"],[1,"nav-item","dropdown","mr-3"],["aria-controls","dropdownCollapse",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-user"],["id","dropdownCollapse",1,"dropdown-menu",3,"ngbCollapse"],["routerLink","/configuracion",1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],[1,"nav-item"],["routerLink","/login","routerLinkActive","router-link-active",1,"nav-link"],["routerLink","/registrarse","routerLinkActive","router-link-active",1,"nav-link"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"fas","fa-user-times"]],template:function(t,r){1&t&&(u.\u0275\u0275elementStart(0,"nav",0)(1,"div",1)(2,"a",2),u.\u0275\u0275text(3,"Control mascota"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"button",3),u.\u0275\u0275listener("click",function(){return r.isCollapsed=!r.isCollapsed}),u.\u0275\u0275element(5,"span",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5),u.\u0275\u0275template(7,$L,4,0,"ul",6),u.\u0275\u0275elementStart(8,"ul",7),u.\u0275\u0275template(9,HL,8,3,"li",8),u.\u0275\u0275template(10,GL,4,0,"li",9),u.\u0275\u0275template(11,WL,4,0,"li",9),u.\u0275\u0275template(12,zL,4,0,"li",9),u.\u0275\u0275elementEnd()()()()),2&t&&(u.\u0275\u0275advance(4),u.\u0275\u0275attribute("aria-expanded",!r.isCollapsed),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngbCollapse",r.isCollapsed),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isLoggedIn),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngIf",r.isLoggedIn),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",!r.isLoggedIn&&r.permitirRegistro),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",r.isLoggedIn))},dependencies:[C.NgIf,rg,_N,jF,uS]}),n})(),KL=(()=>{class n{constructor(){this.title="CRUD-Mascota"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&u.\u0275\u0275element(0,"app-cabecero")(1,"router-outlet")},dependencies:[AT,qL]}),n})(),ZL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.\u0275\u0275defineNgModule({type:n,bootstrap:[KL]}),n.\u0275inj=u.\u0275\u0275defineInjector({providers:[$T,II,TI,wI,AN],imports:[gs,WO,jL,$e.hO.initializeApp(hA_firestore,"control-clientes"),EC,_C,dA,$d.qz.forRoot()]}),n})();(0,u.enableProdMode)(),ei().bootstrapModule(ZL).catch(n=>console.error(n))},5867:(yt,Ee,V)=>{"use strict";V.d(Ee,{C6:()=>C.getApps,Mq:()=>C.getApp});var C=V(9681);(0,C.registerVersion)("firebase","9.13.0","app")},127:(yt,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>C.Z});var C=V(3942);C.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(yt,Ee,V)=>{"use strict";V.r(Ee);var C=V(5861),u=V(3942),B=V(2090),le=V(9681),se=V(1877),ge=V(655),be=V(4859);const ce=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new se.Yd("@firebase/auth");function st(y,...f){Ye.logLevel<=se.in.ERROR&&Ye.error(`Auth (${le.SDK_VERSION}): ${y}`,...f)}function Pe(y,...f){throw Xe(y,...f)}function Me(y,...f){return Xe(y,...f)}function ke(y,f,m){const b=Object.assign(Object.assign({},Ge()),{[f]:m});return new B.LL("auth","Firebase",b).create(f,{appName:y.name})}function Qe(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Pe(y,"argument-error"),ke(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return me.create(y,...f)}function K(y,f,...m){if(!y)throw Xe(f,...m)}function Te(y){const f="INTERNAL ASSERTION FAILED: "+y;throw st(f),new Error(f)}function ee(y,f){y||Te(f)}const ie=new Map;function pe(y){ee(y instanceof Function,"Expected a class definition");let f=ie.get(y);return f?(ee(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ie.set(y,f),f)}function We(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function bt(){return"http:"===tn()||"https:"===tn()}function tn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class gn{constructor(f,m){this.shortDelay=f,this.longDelay=m,ee(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function zt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tn(y,f){ee(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class nn{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Er=new gn(3e4,6e4);function Ut(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function vn(y,f,m,b){return ps.apply(this,arguments)}function ps(){return(ps=(0,C.Z)(function*(y,f,m,b,x={}){return Jr(y,x,(0,C.Z)(function*(){let L={},J={};b&&("GET"===f?J=b:L={body:JSON.stringify(b)});const Ce=(0,B.xO)(Object.assign({key:y.config.apiKey},J)).slice(1),Ke=yield y._getAdditionalHeaders();return Ke["Content-Type"]="application/json",y.languageCode&&(Ke["X-Firebase-Locale"]=y.languageCode),nn.fetch()(pi(y,y.config.apiHost,m,Ce),Object.assign({method:f,headers:Ke,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Jr(y,f,m){return qr.apply(this,arguments)}function qr(){return(qr=(0,C.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},rn),f);try{const x=new kr(y),L=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const J=yield L.json();if("needConfirmation"in J)throw ei(y,"account-exists-with-different-credential",J);if(L.ok&&!("errorMessage"in J))return J;{const Ce=L.ok?J.errorMessage:J.error.message,[Ke,gt]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ke)throw ei(y,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ke)throw ei(y,"email-already-in-use",J);if("USER_DISABLED"===Ke)throw ei(y,"user-disabled",J);const xt=b[Ke]||Ke.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw ke(y,xt,gt);Pe(y,xt)}}catch(x){if(x instanceof B.ZR)throw x;Pe(y,"network-request-failed")}})).apply(this,arguments)}function Xr(y,f,m,b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,C.Z)(function*(y,f,m,b,x={}){const L=yield vn(y,f,m,b,x);return"mfaPendingCredential"in L&&Pe(y,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function pi(y,f,m,b){const x=`${f}${m}?${b}`;return y.config.emulator?Tn(y.config,x):`${y.config.apiScheme}://${x}`}class kr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),Er.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const x=Me(y,f,b);return x.customData._tokenResponse=m,x}function ot(){return(ot=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Tr(y,f){return gs.apply(this,arguments)}function gs(){return(gs=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gr(y,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ms(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function $t(){return($t=(0,C.Z)(function*(y,f=!1){const m=(0,B.m9)(y),b=yield m.getIdToken(f),x=It(b);K(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,J=L?.sign_in_provider;return{claims:x,token:b,authTime:ms(St(x.auth_time)),issuedAtTime:ms(St(x.iat)),expirationTime:ms(St(x.exp)),signInProvider:J||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function St(y){return 1e3*Number(y)}function It(y){var f;const[m,b,x]=y.split(".");if(void 0===m||void 0===b||void 0===x)return st("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,B.tV)(b);return L?JSON.parse(L):(st("Failed to decode base64 JWT payload"),null)}catch(L){return st("Caught error parsing JWT payload as JSON",null===(f=L)||void 0===f?void 0:f.toString()),null}}function mr(y,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,C.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof B.ZR&&ni(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function ni({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Vt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,C.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,C.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Ni{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ms(this.lastLoginAt),this.creationTime=ms(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,C.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),x=yield mr(y,gr(m,{idToken:b}));K(x?.users.length,m,"internal-error");const L=x.users[0];y._notifyReloadListener(L);const J=null!==(f=L.providerUserInfo)&&void 0!==f&&f.length?mt(L.providerUserInfo):[],Ce=Pr(y.providerData,J),xt=!!y.isAnonymous&&!(y.email&&L.passwordHash||Ce?.length),Nt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Ce,metadata:new Ni(L.createdAt,L.lastLoginAt),isAnonymous:xt};Object.assign(y,Nt)})).apply(this,arguments)}function _r(){return(_r=(0,C.Z)(function*(y){const f=(0,B.m9)(y);yield sn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Pr(y,f){return[...y.filter(b=>!f.some(x=>x.providerId===b.providerId)),...f]}function mt(y){return y.map(f=>{var{providerId:m}=f,b=(0,ge._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function pt(){return(pt=(0,C.Z)(function*(y,f){const m=yield Jr(y,{},(0,C.Z)(function*(){const b=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:x,apiKey:L}=y.config,J=pi(y,x,"/v1/token",`key=${L}`),Ce=yield y._getAdditionalHeaders();return Ce["Content-Type"]="application/x-www-form-urlencoded",nn.fetch()(J,{method:"POST",headers:Ce,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){K(f.idToken,"internal-error"),K(typeof f.idToken<"u","internal-error"),K(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function mn(y){const f=It(y);return K(f,"internal-error"),K(typeof f.exp<"u","internal-error"),K(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,C.Z)(function*(){return K(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,C.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:J}=yield function Be(y,f){return pt.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(x,L,Number(J))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:x,expirationTime:L}=m,J=new Pt;return b&&(K("string"==typeof b,"internal-error",{appName:f}),J.refreshToken=b),x&&(K("string"==typeof x,"internal-error",{appName:f}),J.accessToken=x),L&&(K("number"==typeof L,"internal-error",{appName:f}),J.expirationTime=L),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Pt,this.toJSON())}_performRefresh(){return Te("not implemented")}}function Ot(y,f){K("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Wt{constructor(f){var{uid:m,auth:b,stsTokenManager:x}=f,L=(0,ge._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Ni(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,C.Z)(function*(){const b=yield mr(m,m.stsTokenManager.getToken(m.auth,f));return K(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Bn(y){return $t.apply(this,arguments)}(this,f)}reload(){return function un(y){return _r.apply(this,arguments)}(this)}_assign(f){this!==f&&(K(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Wt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,C.Z)(function*(){let x=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),x=!0),m&&(yield sn(b)),yield b.auth._persistUserIfCurrent(b),x&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,C.Z)(function*(){const m=yield f.getIdToken();return yield mr(f,function zs(y,f){return ot.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,x,L,J,Ce,Ke,gt,xt;const Nt=null!==(b=m.displayName)&&void 0!==b?b:void 0,Cr=null!==(x=m.email)&&void 0!==x?x:void 0,Ci=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,rh=null!==(J=m.photoURL)&&void 0!==J?J:void 0,Ag=null!==(Ce=m.tenantId)&&void 0!==Ce?Ce:void 0,fu=null!==(Ke=m._redirectEventId)&&void 0!==Ke?Ke:void 0,Ic=null!==(gt=m.createdAt)&&void 0!==gt?gt:void 0,Ml=null!==(xt=m.lastLoginAt)&&void 0!==xt?xt:void 0,{uid:Tf,emailVerified:Ec,isAnonymous:Ng,providerData:xl,stsTokenManager:ih}=m;K(Tf&&ih,f,"internal-error");const sh=Pt.fromJSON(this.name,ih);K("string"==typeof Tf,f,"internal-error"),Ot(Nt,f.name),Ot(Cr,f.name),K("boolean"==typeof Ec,f,"internal-error"),K("boolean"==typeof Ng,f,"internal-error"),Ot(Ci,f.name),Ot(rh,f.name),Ot(Ag,f.name),Ot(fu,f.name),Ot(Ic,f.name),Ot(Ml,f.name);const Rl=new Wt({uid:Tf,auth:f,email:Cr,emailVerified:Ec,displayName:Nt,isAnonymous:Ng,photoURL:rh,phoneNumber:Ci,tenantId:Ag,stsTokenManager:sh,createdAt:Ic,lastLoginAt:Ml});return xl&&Array.isArray(xl)&&(Rl.providerData=xl.map(Mg=>Object.assign({},Mg))),fu&&(Rl._redirectEventId=fu),Rl}static _fromIdTokenResponse(f,m,b=!1){return(0,C.Z)(function*(){const x=new Pt;x.updateFromServerResponse(m);const L=new Wt({uid:m.localId,auth:f,stsTokenManager:x,isAnonymous:b});return yield sn(L),L})()}}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(m,b){var x=this;return(0,C.Z)(function*(){x.storage[m]=b})()}_get(m){var b=this;return(0,C.Z)(function*(){const x=b.storage[m];return void 0===x?null:x})()}_remove(m){var b=this;return(0,C.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function te(y,f,m){return`firebase:${y}:${f}:${m}`}class Oe{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:x,name:L}=this.auth;this.fullUserKey=te(this.userKey,x.apiKey,L),this.fullPersistenceKey=te("persistence",x.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,C.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Wt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,C.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,C.Z)(function*(){if(!m.length)return new Oe(pe(z),f,b);const x=(yield Promise.all(m.map(function(){var gt=(0,C.Z)(function*(xt){if(yield xt._isAvailable())return xt});return function(xt){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let L=x[0]||pe(z);const J=te(b,f.config.apiKey,f.name);let Ce=null;for(const gt of m)try{const xt=yield gt._get(J);if(xt){const Nt=Wt._fromJSON(f,xt);gt!==L&&(Ce=Nt),L=gt;break}}catch{}const Ke=x.filter(gt=>gt._shouldAllowMigration);return L._shouldAllowMigration&&Ke.length?(L=Ke[0],Ce&&(yield L._set(J,Ce.toJSON())),yield Promise.all(m.map(function(){var gt=(0,C.Z)(function*(xt){if(xt!==L)try{yield xt._remove(J)}catch{}});return function(xt){return gt.apply(this,arguments)}}())),new Oe(L,f,b)):new Oe(L,f,b)})()}}function re(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(An(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(tt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if($e(f))return"Blackberry";if(Je(f))return"Webos";if(Tt(f))return"Safari";if((f.includes("chrome/")||ln(f))&&!f.includes("edge/"))return"Chrome";if(on(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function tt(y=(0,B.z$)()){return/firefox\//i.test(y)}function Tt(y=(0,B.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ln(y=(0,B.z$)()){return/crios\//i.test(y)}function An(y=(0,B.z$)()){return/iemobile/i.test(y)}function on(y=(0,B.z$)()){return/android/i.test(y)}function $e(y=(0,B.z$)()){return/blackberry/i.test(y)}function Je(y=(0,B.z$)()){return/webos/i.test(y)}function At(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function kn(y=(0,B.z$)()){return At(y)||on(y)||Je(y)||$e(y)||/windows phone/i.test(y)||An(y)}function _s(y,f=[]){let m;switch(y){case"Browser":m=re((0,B.z$)());break;case"Worker":m=`${re((0,B.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${le.SDK_VERSION}/${b}`}class Mi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=L=>new Promise((J,Ce)=>{try{J(f(L))}catch(Ke){Ce(Ke)}});b.onAbort=m,this.queue.push(b);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,C.Z)(function*(){var b;if(m.auth.currentUser===f)return;const x=[];try{for(const L of m.queue)yield L(f),L.onAbort&&x.push(L.onAbort)}catch(L){x.reverse();for(const J of x)try{J()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=L)||void 0===b?void 0:b.message})}})()}}class vt{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yn(this),this.idTokenSubscription=new yn(this),this.beforeStateQueue=new Mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=pe(m)),this._initializationPromise=this.queue((0,C.Z)(function*(){var x,L;if(!b._deleted&&(b.persistenceManager=yield Oe.create(b,f),!b._deleted)){if(null!==(x=b._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(L=b.currentUser)||void 0===L?void 0:L.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,C.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,C.Z)(function*(){var b;const x=yield m.assertedPersistence.getCurrentUser();let L=x,J=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ce=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ke=L?._redirectEventId,gt=yield m.tryRedirectSignIn(f);(!Ce||Ce===Ke)&&gt?.user&&(L=gt.user,J=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(J)try{yield m.beforeStateQueue.runMiddleware(L)}catch(Ce){L=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ce))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(f){var m=this;return(0,C.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,C.Z)(function*(){var b;try{yield sn(f)}catch(x){if("auth/network-request-failed"!==(null===(b=x)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function it(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,C.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,C.Z)(function*(){const b=f?(0,B.m9)(f):null;return b&&K(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,C.Z)(function*(){if(!b._deleted)return f&&K(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,C.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,C.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,C.Z)(function*(){yield m.assertedPersistence.setPersistence(pe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,C.Z)(function*(){const x=yield b.getOrInitRedirectPersistenceManager(m);return null===f?x.removeCurrentUser():x.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,C.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&pe(f)||m._popupRedirectResolver;K(b,m,"argument-error"),m.redirectPersistenceManager=yield Oe.create(m,[pe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,C.Z)(function*(){var b,x;return m._isInitialized&&(yield m.queue((0,C.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,C.Z)(function*(){if(f===m.currentUser)return m.queue((0,C.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,x){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return K(J,this,"internal-error"),J.then(()=>L(this.currentUser)),"function"==typeof m?f.addObserver(m,b,x):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,C.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=_s(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,C.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const x=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(b["X-Firebase-Client"]=x),b})()}}function _n(y){return(0,B.m9)(y)}class yn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ut(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ri(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Jn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Te("not implemented")}_getIdTokenResponse(f){return Te("not implemented")}_linkToIdToken(f,m){return Te("not implemented")}_getReauthenticationResolver(f){return Te("not implemented")}}function Xn(y,f){return zn.apply(this,arguments)}function zn(){return(zn=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:resetPassword",Ut(y,f))})).apply(this,arguments)}function Cn(y,f){return tl.apply(this,arguments)}function tl(){return(tl=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ae(y,f){return si.apply(this,arguments)}function si(){return(si=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:update",Ut(y,f))})).apply(this,arguments)}function Fr(){return(Fr=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithPassword",Ut(y,f))})).apply(this,arguments)}function qt(y,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:sendOobCode",Ut(y,f))})).apply(this,arguments)}function xn(y,f){return _t.apply(this,arguments)}function _t(){return(_t=(0,C.Z)(function*(y,f){return qt(y,f)})).apply(this,arguments)}function sr(y,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,C.Z)(function*(y,f){return qt(y,f)})).apply(this,arguments)}function Os(y,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,C.Z)(function*(y,f){return qt(y,f)})).apply(this,arguments)}function ks(y,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,C.Z)(function*(y,f){return qt(y,f)})).apply(this,arguments)}function Ql(){return(Ql=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,f))})).apply(this,arguments)}function rl(){return(rl=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,f))})).apply(this,arguments)}class cr extends Jn{constructor(f,m,b,x=null){super("password",b),this._email=f,this._password=m,this._tenantId=x}static _fromEmailAndPassword(f,m){return new cr(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new cr(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,C.Z)(function*(){switch(m.signInMethod){case"password":return function ys(y,f){return Fr.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function nl(y,f){return Ql.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Pe(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,C.Z)(function*(){switch(b.signInMethod){case"password":return Cn(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Gc(y,f){return rl.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qn(y,f){return ur.apply(this,arguments)}function ur(){return(ur=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithIdp",Ut(y,f))})).apply(this,arguments)}class bs extends Jn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new bs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Pe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x}=m,L=(0,ge._T)(m,["providerId","signInMethod"]);if(!b||!x)return null;const J=new bs(b,x);return J.idToken=L.idToken||void 0,J.accessToken=L.accessToken||void 0,J.secret=L.secret,J.nonce=L.nonce,J.pendingToken=L.pendingToken||null,J}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,qn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,B.xO)(m)}return f}}function $u(y,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:sendVerificationCode",Ut(y,f))})).apply(this,arguments)}function Ln(){return(Ln=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,f))})).apply(this,arguments)}function Ao(){return(Ao=(0,C.Z)(function*(y,f){const m=yield Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,f));if(m.temporaryProof)throw ei(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Wc={USER_NOT_FOUND:"user-not-found"};function ha(){return(ha=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wc)})).apply(this,arguments)}class dr extends Jn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new dr({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new dr({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function da(y,f){return Ln.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Hu(y,f){return Ao.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Yl(y,f){return ha.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:x}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:x}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:L}=f;return b||m||x||L?new dr({verificationId:m,verificationCode:b,phoneNumber:x,temporaryProof:L}):null}}class il{constructor(f){var m,b,x,L,J,Ce;const Ke=(0,B.zd)((0,B.pd)(f)),gt=null!==(m=Ke.apiKey)&&void 0!==m?m:null,xt=null!==(b=Ke.oobCode)&&void 0!==b?b:null,Nt=function fa(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ke.mode)&&void 0!==x?x:null);K(gt&&xt&&Nt,"argument-error"),this.apiKey=gt,this.operation=Nt,this.code=xt,this.continueUrl=null!==(L=Ke.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(J=Ke.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(Ce=Ke.tenantId)&&void 0!==Ce?Ce:null}static parseLink(f){const m=function Jl(y){const f=(0,B.zd)((0,B.pd)(y)).link,m=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,b=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(b?(0,B.zd)((0,B.pd)(b)).link:null)||b||m||f||y}(f);try{return new il(m)}catch{return null}}}let Ri=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return cr._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const x=il.parseLink(b);return K(x,"argument-error"),cr._fromEmailAndCode(m,x.code,x.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class oi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Oi extends oi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ps extends Oi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return K("providerId"in m&&"signInMethod"in m,"argument-error"),bs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return K(f.idToken||f.accessToken,"argument-error"),bs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ps.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ps.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:x,pendingToken:L,nonce:J,providerId:Ce}=f;if(!b&&!x&&!m&&!L||!Ce)return null;try{return new Ps(Ce)._credential({idToken:m,accessToken:b,nonce:J,pendingToken:L})}catch{return null}}}let No=(()=>{class y extends Oi{constructor(){super("facebook.com")}static credential(m){return bs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Zs=(()=>{class y extends Oi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return bs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:x}=m;if(!b&&!x)return null;try{return y.credential(b,x)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Mo=(()=>{class y extends Oi{constructor(){super("github.com")}static credential(m){return bs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qs extends Jn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,qn(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,qn(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:x,pendingToken:L}=m;return b&&x&&L&&b===x?new Qs(b,L):null}static _create(f,m){return new Qs(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ai extends oi{constructor(f){K(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ai.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ai.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Qs.fromJSON(f);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Qs._create(b,m)}catch{return null}}}let Sr=(()=>{class y extends Oi{constructor(){super("twitter.com")}static credential(m,b){return bs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:x}=m;if(!b||!x)return null;try{return y.credential(b,x)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Fs(y,f){return ec.apply(this,arguments)}function ec(){return(ec=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signUp",Ut(y,f))})).apply(this,arguments)}class or{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,x=!1){return(0,C.Z)(function*(){const L=yield Wt._fromIdTokenResponse(f,b,x),J=zc(b);return new or({user:L,providerId:J,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,C.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const x=zc(b);return new or({user:f,providerId:x,_tokenResponse:b,operationType:m})})()}}function zc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Un(){return(Un=(0,C.Z)(function*(y){var f;const m=_n(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new or({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Fs(m,{returnSecureToken:!0}),x=yield or._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class sl extends B.ZR{constructor(f,m,b,x){var L;super(m.code,m.message),this.operationType=b,this.user=x,Object.setPrototypeOf(this,sl.prototype),this.customData={appName:f.name,tenantId:null!==(L=f.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,x){return new sl(f,m,b,x)}}function ol(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?sl._fromErrorAndOperation(y,L,f,b):L})}function Kr(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function Ro(){return(Ro=(0,C.Z)(function*(y,f){const m=(0,B.m9)(y);yield Yt(!0,m,f);const{providerUserInfo:b}=yield Tr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),x=Kr(b||[]);return m.providerData=m.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ys(y,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,C.Z)(function*(y,f,m=!1){const b=yield mr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return or._forOperation(y,"link",b)})).apply(this,arguments)}function Yt(y,f,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,C.Z)(function*(y,f,m){yield sn(f);const x=!1===y?"provider-already-linked":"no-such-provider";K(Kr(f.providerData).has(m)===y,f.auth,x)})).apply(this,arguments)}function ws(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,C.Z)(function*(y,f,m=!1){var b;const{auth:x}=y,L="reauthenticate";try{const J=yield mr(y,ol(x,L,f,y),m);K(J.idToken,x,"internal-error");const Ce=It(J.idToken);K(Ce,x,"internal-error");const{sub:Ke}=Ce;return K(y.uid===Ke,x,"user-mismatch"),or._forOperation(y,L,J)}catch(J){throw"auth/user-not-found"===(null===(b=J)||void 0===b?void 0:b.code)&&Pe(x,"user-mismatch"),J}})).apply(this,arguments)}function gi(y,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,C.Z)(function*(y,f,m=!1){const b="signIn",x=yield ol(y,b,f),L=yield or._fromIdTokenResponse(y,b,x);return m||(yield y._updateCurrentUser(L.user)),L})).apply(this,arguments)}function jn(y,f){return kt.apply(this,arguments)}function kt(){return(kt=(0,C.Z)(function*(y,f){return gi(_n(y),f)})).apply(this,arguments)}function Xs(y,f){return tc.apply(this,arguments)}function tc(){return(tc=(0,C.Z)(function*(y,f){const m=(0,B.m9)(y);return yield Yt(!1,m,f.providerId),Ys(m,f)})).apply(this,arguments)}function Oo(y,f){return al.apply(this,arguments)}function al(){return(al=(0,C.Z)(function*(y,f){return ws((0,B.m9)(y),f)})).apply(this,arguments)}function eo(y,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,C.Z)(function*(y,f){return Xr(y,"POST","/v1/accounts:signInWithCustomToken",Ut(y,f))})).apply(this,arguments)}function Vn(){return(Vn=(0,C.Z)(function*(y,f){const m=_n(y),b=yield eo(m,{token:f,returnSecureToken:!0}),x=yield or._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ne{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Kt._fromServerResponse(f,m):Pe(f,"internal-error")}}class Kt extends Ne{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Kt(m)}}function to(y,f,m){var b;K((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),K(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function $n(){return($n=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y),x={requestType:"PASSWORD_RESET",email:f};m&&to(b,x,m),yield sr(b,x)})).apply(this,arguments)}function no(){return(no=(0,C.Z)(function*(y,f,m){yield Xn((0,B.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Po(){return(Po=(0,C.Z)(function*(y,f){yield Ae((0,B.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ls(y,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,C.Z)(function*(y,f){const m=(0,B.m9)(y),b=yield Xn(m,{oobCode:f}),x=b.requestType;switch(K(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(b.mfaInfo,m,"internal-error");default:K(b.email,m,"internal-error")}let L=null;return b.mfaInfo&&(L=Ne._fromServerResponse(_n(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function rc(){return(rc=(0,C.Z)(function*(y,f){const{data:m}=yield Ls((0,B.m9)(y),f);return m.email})).apply(this,arguments)}function Pn(){return(Pn=(0,C.Z)(function*(y,f,m){const b=_n(y),x=yield Fs(b,{returnSecureToken:!0,email:f,password:m}),L=yield or._fromIdTokenResponse(b,"signIn",x);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function Cs(){return(Cs=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y),x={requestType:"EMAIL_SIGNIN",email:f};K(m.handleCodeInApp,b,"argument-error"),m&&to(b,x,m),yield Os(b,x)})).apply(this,arguments)}function Lo(){return(Lo=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y),x=Ri.credentialWithLink(f,m||We());return K(x._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),jn(b,x)})).apply(this,arguments)}function Gu(y,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:createAuthUri",Ut(y,f))})).apply(this,arguments)}function va(){return(va=(0,C.Z)(function*(y,f){const b={identifier:f,continueUri:bt()?We():"http://localhost"},{signinMethods:x}=yield Gu((0,B.m9)(y),b);return x||[]})).apply(this,arguments)}function Ji(){return(Ji=(0,C.Z)(function*(y,f){const m=(0,B.m9)(y),x={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&to(m.auth,x,f);const{email:L}=yield xn(m.auth,x);L!==y.email&&(yield y.reload())})).apply(this,arguments)}function ul(){return(ul=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&to(b.auth,L,m);const{email:J}=yield ks(b.auth,L);J!==y.email&&(yield y.reload())})).apply(this,arguments)}function Xi(y,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,C.Z)(function*(y,f){return vn(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function hl(){return(hl=(0,C.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,B.m9)(y),L={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},J=yield mr(b,Xi(b.auth,L));b.displayName=J.displayName||null,b.photoURL=J.photoUrl||null;const Ce=b.providerData.find(({providerId:Ke})=>"password"===Ke);Ce&&(Ce.displayName=b.displayName,Ce.photoURL=b.photoURL),yield b._updateTokensIfNecessary(J)})).apply(this,arguments)}function T(y,f,m){return P.apply(this,arguments)}function P(){return(P=(0,C.Z)(function*(y,f,m){const{auth:b}=y,L={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(L.email=f),m&&(L.password=m);const J=yield mr(y,Cn(b,L));yield y._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class de{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class we extends de{constructor(f,m,b,x){super(f,m,b),this.username=x}}class lt extends de{constructor(f,m){super(f,"facebook.com",m)}}class en extends we{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class an extends de{constructor(f,m){super(f,"google.com",m)}}class Xt extends we{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Qt(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function H(y){var f,m;if(!y)return null;const{providerId:b}=y,x=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},L=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const J=null===(m=null===(f=It(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new de(L,"anonymous"!==J&&"custom"!==J?J:null)}if(!b)return null;switch(b){case"facebook.com":return new lt(L,x);case"github.com":return new en(L,x);case"google.com":return new an(L,x);case"twitter.com":return new Xt(L,x,y.screenName||null);case"custom":case"anonymous":return new de(L,null);default:return new de(L,b,x)}}(m)}class Es{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new Es("enroll",f,m)}static _fromMfaPendingCredential(f){return new Es("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Es._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Es._fromIdtoken(f.multiFactorSession.idToken)}return null}}class oc{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=_n(f),x=m.customData._serverResponse,L=(x.mfaInfo||[]).map(Ce=>Ne._fromServerResponse(b,Ce));K(x.mfaPendingCredential,b,"internal-error");const J=Es._fromMfaPendingCredential(x.mfaPendingCredential);return new oc(J,L,function(){var Ce=(0,C.Z)(function*(Ke){const gt=yield Ke._process(b,J);delete x.mfaInfo,delete x.mfaPendingCredential;const xt=Object.assign(Object.assign({},x),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(m.operationType){case"signIn":const Nt=yield or._fromIdTokenResponse(b,m.operationType,xt);return yield b._updateCurrentUser(Nt.user),Nt;case"reauthenticate":return K(m.user,b,"internal-error"),or._forOperation(m.user,m.operationType,xt);default:Pe(b,"internal-error")}});return function(Ke){return Ce.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,C.Z)(function*(){return m.signInResolver(f)})()}}function qc(y,f){return vn(y,"POST","/v2/accounts/mfaEnrollment:start",Ut(y,f))}class lc{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Ne._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new lc(f)}getSession(){var f=this;return(0,C.Z)(function*(){return Es._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,C.Z)(function*(){const x=f,L=yield b.getSession(),J=yield mr(b.user,x._process(b.user.auth,L,m));return yield b.user._updateTokensIfNecessary(J),b.user.reload()})()}unenroll(f){var m=this;return(0,C.Z)(function*(){var b;const x="string"==typeof f?f:f.uid,L=yield m.user.getIdToken(),J=yield mr(m.user,function Wd(y,f){return vn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(y,f))}(m.user.auth,{idToken:L,mfaEnrollmentId:x}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ce})=>Ce!==x),yield m.user._updateTokensIfNecessary(J);try{yield m.user.reload()}catch(Ce){if("auth/user-token-expired"!==(null===(b=Ce)||void 0===b?void 0:b.code))throw Ce}})()}}const Bo=new WeakMap,io="__sak";class Wu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(io,"1"),this.storage.removeItem(io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bs=(()=>{class y extends Wu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kc(){const y=(0,B.z$)();return Tt(y)||At(y)}()&&function bn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const x=this.storage.getItem(b),L=this.localCache[b];x!==L&&m(b,L,x)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ce,Ke,gt)=>{this.notifyListeners(Ce,gt)});const x=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(x);if(m.newValue!==Ce)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!b)return}const L=()=>{const Ce=this.storage.getItem(x);!b&&this.localCache[x]===Ce||this.notifyListeners(x,Ce)},J=this.storage.getItem(x);!function et(){return(0,B.w1)()&&10===document.documentMode}()||J===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var x=()=>super._set,L=this;return(0,C.Z)(function*(){yield x().call(L,m,b),L.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,x=this;return(0,C.Z)(function*(){const L=yield b().call(x,m);return x.localCache[m]=JSON.stringify(L),L})()}_remove(m){var b=()=>super._remove,x=this;return(0,C.Z)(function*(){yield b().call(x,m),delete x.localCache[m]})()}}return y.type="LOCAL",y})(),Bi=(()=>{class y extends Wu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Xh=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(L=>L.isListeningto(m));if(b)return b;const x=new y(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,C.Z)(function*(){const x=m,{eventId:L,eventType:J,data:Ce}=x.data,Ke=b.handlersMap[J];if(!Ke?.size)return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:J});const gt=Array.from(Ke).map(function(){var Nt=(0,C.Z)(function*(Cr){return Cr(x.origin,Ce)});return function(Cr){return Nt.apply(this,arguments)}}()),xt=yield function Uo(y){return Promise.all(y.map(function(){var f=(0,C.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(gt);x.ports[0].postMessage({status:"done",eventId:L,eventType:J,response:xt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function In(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class ba{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var x=this;return(0,C.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let J,Ce;return new Promise((Ke,gt)=>{const xt=In("",20);L.port1.start();const Nt=setTimeout(()=>{gt(new Error("unsupported_event"))},b);Ce={messageChannel:L,onMessage(Cr){const Ci=Cr;if(Ci.data.eventId===xt)switch(Ci.data.status){case"ack":clearTimeout(Nt),J=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ke(Ci.data.response);break;default:clearTimeout(Nt),clearTimeout(J),gt(new Error("invalid_response"))}}},x.handlers.add(Ce),L.port1.addEventListener("message",Ce.onMessage),x.target.postMessage({eventType:f,eventId:xt,data:m},[L.port2])}).finally(()=>{Ce&&x.removeMessageHandler(Ce)})})()}}function Kn(){return window}function Zc(){return typeof Kn().WorkerGlobalScope<"u"&&"function"==typeof Kn().importScripts}function cc(){return(cc=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Da="firebaseLocalStorageDb",vi="firebaseLocalStorage",Yc="fbase_key";class so{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function fl(y,f){return y.transaction([vi],f?"readwrite":"readonly").objectStore(vi)}function pl(){const y=indexedDB.open(Da,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(vi,{keyPath:Yc})}catch(x){m(x)}}),y.addEventListener("success",(0,C.Z)(function*(){const b=y.result;b.objectStoreNames.contains(vi)?f(b):(b.close(),yield function $o(){const y=indexedDB.deleteDatabase(Da);return new so(y).toPromise()}(),f(yield pl()))}))})}function Ho(y,f,m){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,C.Z)(function*(y,f,m){const b=fl(y,!0).put({[Yc]:f,value:m});return new so(b).toPromise()})).apply(this,arguments)}function wa(){return(wa=(0,C.Z)(function*(y,f){const m=fl(y,!1).get(f),b=yield new so(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function oo(y,f){const m=fl(y,!0).delete(f);return new so(m).toPromise()}const Ca=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,C.Z)(function*(){return m.db||(m.db=yield pl()),m.db})()}_withRetries(m){var b=this;return(0,C.Z)(function*(){let x=0;for(;;)try{const L=yield b._openDb();return yield m(L)}catch(L){if(x++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,C.Z)(function*(){return Zc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,C.Z)(function*(){m.receiver=Xh._getInstance(function Qc(){return Zc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,C.Z)(function*(x,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(x,L){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,C.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,C.Z)(function*(){var b,x;if(m.activeServiceWorker=yield function jo(){return cc.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ba(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,C.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Ku(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const m=yield pl();return yield Ho(m,io,"1"),yield oo(m,io),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,C.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var x=this;return(0,C.Z)(function*(){return x._withPendingWrite((0,C.Z)(function*(){return yield x._withRetries(L=>Ho(L,m,b)),x.localCache[m]=b,x.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,C.Z)(function*(){const x=yield b._withRetries(L=>function Xc(y,f){return wa.apply(this,arguments)}(L,m));return b.localCache[m]=x,x})()}_remove(m){var b=this;return(0,C.Z)(function*(){return b._withPendingWrite((0,C.Z)(function*(){return yield b._withRetries(x=>oo(x,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,C.Z)(function*(){const b=yield m._withRetries(J=>{const Ce=fl(J,!1).getAll();return new so(Ce).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:J,value:Ce}of b)L.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(Ce)&&(m.notifyListeners(J,Ce),x.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!L.has(J)&&(m.notifyListeners(J,null),x.push(J));return x})()}notifyListeners(m,b){this.localCache[m]=b;const x=this.listeners[m];if(x)for(const L of Array.from(x))L(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function gl(y,f){return vn(y,"POST","/v2/accounts/mfaSignIn:start",Ut(y,f))}function ao(){return(ao=(0,C.Z)(function*(y){return(yield vn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Di(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=x=>{const L=Me("internal-error");L.customData=x,m(L)},b.type="text/javascript",b.charset="UTF-8",function Us(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Go(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ts=1e12;class Dn{constructor(f){this.auth=f,this.counter=Ts,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new ef(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||Ts;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Ts))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,C.Z)(function*(){var b;return null===(b=m._widgets.get(f||Ts))||void 0===b||b.execute(),""})()}}class ef{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof f?document.getElementById(f):f;K(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zn(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ia=Go("rcb"),tf=new gn(3e4,6e4);class Qu{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Kn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return K(function rf(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Kn().grecaptcha):new Promise((b,x)=>{const L=Kn().setTimeout(()=>{x(Me(f,"network-request-failed"))},tf.get());Kn()[Ia]=()=>{Kn().clearTimeout(L),delete Kn()[Ia];const Ce=Kn().grecaptcha;if(!Ce)return void x(Me(f,"internal-error"));const Ke=Ce.render;Ce.render=(gt,xt)=>{const Nt=Ke(gt,xt);return this.counter++,Nt},this.hostLanguage=m,b(Ce)},Di(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Ia,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),x(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Kn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yr{load(f){return(0,C.Z)(function*(){return new Dn(f)})()}clearedOneInstance(){}}const sf="recaptcha",zd={theme:"light",type:"image"};class vr{constructor(f,m=Object.assign({},zd),b){this.parameters=m,this.type=sf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(b),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof f?document.getElementById(f):f;K(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yr:new Qu,this.validateStartingState()}verify(){var f=this;return(0,C.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(L=>{const J=Ce=>{!Ce||(f.tokenChangeListeners.delete(J),L(Ce))};f.tokenChangeListeners.add(J),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=Kn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,C.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,C.Z)(function*(){K(bt()&&!Zc(),f.auth,"internal-error"),yield function ts(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function bi(y){return ao.apply(this,arguments)}(f.auth);K(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ea{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=dr._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function ml(){return(ml=(0,C.Z)(function*(y,f,m){const b=_n(y),x=yield uo(b,f,(0,B.m9)(m));return new Ea(x,L=>jn(b,L))})).apply(this,arguments)}function ns(){return(ns=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y);yield Yt(!1,b,"phone");const x=yield uo(b.auth,f,(0,B.m9)(m));return new Ea(x,L=>Xs(b,L))})).apply(this,arguments)}function co(){return(co=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y),x=yield uo(b.auth,f,(0,B.m9)(m));return new Ea(x,L=>Oo(b,L))})).apply(this,arguments)}function uo(y,f,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,C.Z)(function*(y,f,m){var b;const x=yield m.verify();try{let L;if(K("string"==typeof x,y,"argument-error"),K(m.type===sf,y,"argument-error"),L="string"==typeof f?{phoneNumber:f}:f,"session"in L){const J=L.session;if("phoneNumber"in L)return K("enroll"===J.type,y,"internal-error"),(yield qc(y,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{K("signin"===J.type,y,"internal-error");const Ce=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return K(Ce,y,"missing-multi-factor-info"),(yield gl(y,{mfaPendingCredential:J.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield $u(y,{phoneNumber:L.phoneNumber,recaptchaToken:x});return J}}finally{m._reset()}})).apply(this,arguments)}function ru(){return(ru=(0,C.Z)(function*(y,f){yield Ys((0,B.m9)(y),f)})).apply(this,arguments)}let Wo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=_n(m)}verifyPhoneNumber(m,b){return uo(this.auth,m,(0,B.m9)(b))}static credential(m,b){return dr._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:x}=m;return b&&x?dr._fromTokenResponse(b,x):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Sa(y,f){return f?pe(f):(K(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class hc extends Jn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qn(f,this._buildIdpRequest())}_linkToIdToken(f,m){return qn(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return qn(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function ci(y){return gi(y.auth,new hc(y),y.bypassAuthState)}function Aa(y){const{auth:f,user:m}=y;return K(m,f,"internal-error"),ws(m,new hc(y),y.bypassAuthState)}function ho(y){return Na.apply(this,arguments)}function Na(){return(Na=(0,C.Z)(function*(y){const{auth:f,user:m}=y;return K(m,f,"internal-error"),Ys(m,new hc(y),y.bypassAuthState)})).apply(this,arguments)}class _l{constructor(f,m,b,x,L=!1){this.auth=f,this.resolver=b,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,C.Z)(function*(b,x){f.pendingPromise={resolve:b,reject:x};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(L){f.reject(L)}});return function(b,x){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,C.Z)(function*(){const{urlResponse:b,sessionId:x,postBody:L,tenantId:J,error:Ce,type:Ke}=f;if(Ce)return void m.reject(Ce);const gt={auth:m.auth,requestUri:b,sessionId:x,tenantId:J||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ke)(gt))}catch(xt){m.reject(xt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ci;case"linkViaPopup":case"linkViaRedirect":return ho;case"reauthViaPopup":case"reauthViaRedirect":return Aa;default:Pe(this.auth,"internal-error")}}resolve(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iu=new gn(2e3,1e4);function yl(){return(yl=(0,C.Z)(function*(y,f,m){const b=_n(y);Qe(y,f,oi);const x=Sa(b,m);return new Ar(b,"signInViaPopup",f,x).executeNotNull()})).apply(this,arguments)}function Yu(){return(Yu=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y);Qe(b.auth,f,oi);const x=Sa(b.auth,m);return new Ar(b.auth,"reauthViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}function zo(){return(zo=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y);Qe(b.auth,f,oi);const x=Sa(b.auth,m);return new Ar(b.auth,"linkViaPopup",f,x,b).executeNotNull()})).apply(this,arguments)}let Ar=(()=>{class y extends _l{constructor(m,b,x,L,J){super(m,b,L,J),this.provider=x,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,C.Z)(function*(){const b=yield m.execute();return K(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,C.Z)(function*(){ee(1===m.filter.length,"Popup operations only handle one event");const b=In();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,x;this.pollId=null!==(x=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,iu.get())};m()}}return y.currentPopupAction=null,y})();const wi=new Map;class qo extends _l{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,C.Z)(function*(){let b=wi.get(m.auth._key());if(!b){try{const L=(yield function su(y,f){return po.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(L)}catch(x){b=()=>Promise.reject(x)}wi.set(m.auth._key(),b)}return m.bypassAuthState||wi.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,C.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const x=yield b.auth._redirectUserForId(f.eventId);if(x)return b.user=x,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function po(){return(po=(0,C.Z)(function*(y,f){const m=pc(f),b=mo(y);if(!(yield b._isAvailable()))return!1;const x="true"===(yield b._get(m));return yield b._remove(m),x})).apply(this,arguments)}function fc(y,f){return go.apply(this,arguments)}function go(){return(go=(0,C.Z)(function*(y,f){return mo(y)._set(pc(f),"true")})).apply(this,arguments)}function Ma(y,f){wi.set(y._key(),f)}function mo(y){return pe(y._redirectPersistence)}function pc(y){return te("pendingRedirect",y.config.apiKey,y.name)}function S(){return(S=(0,C.Z)(function*(y,f,m){const b=_n(y);Qe(y,f,oi);const x=Sa(b,m);return yield fc(x,b),x._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function $(){return($=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y);Qe(b.auth,f,oi);const x=Sa(b.auth,m);yield fc(x,b.auth);const L=yield Mt(b);return x._openRedirect(b.auth,f,"reauthViaRedirect",L)})).apply(this,arguments)}function Se(){return(Se=(0,C.Z)(function*(y,f,m){const b=(0,B.m9)(y);Qe(b.auth,f,oi);const x=Sa(b.auth,m);yield Yt(!1,b,f.providerId),yield fc(x,b.auth);const L=yield Mt(b);return x._openRedirect(b.auth,f,"linkViaRedirect",L)})).apply(this,arguments)}function Et(){return(Et=(0,C.Z)(function*(y,f){return yield _n(y)._initializationPromise,Fe(y,f,!1)})).apply(this,arguments)}function Fe(y,f){return ze.apply(this,arguments)}function ze(){return(ze=(0,C.Z)(function*(y,f,m=!1){const b=_n(y),x=Sa(b,f),J=yield new qo(b,x,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield b._persistUserIfCurrent(J.user),yield b._setRedirectUser(null,f)),J})).apply(this,arguments)}function Mt(y){return He.apply(this,arguments)}function He(){return(He=(0,C.Z)(function*(y){const f=In(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Ve{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function bl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _o(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!_o(f)){const x=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,x))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hn(f))}saveEventToCache(f){this.cachedEventUids.add(Hn(f)),this.lastProcessedEventTime=Date.now()}}function Hn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function _o({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Ko(y){return xa.apply(this,arguments)}function xa(){return(xa=(0,C.Z)(function*(y,f={}){return vn(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Dl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ra=/^https?/;function _g(){return(_g=(0,C.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Ko(y);for(const m of f)try{if(Cb(m))return}catch{}Pe(y,"unauthorized-domain")})).apply(this,arguments)}function Cb(y){const f=We(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const J=new URL(y);return""===J.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===b}if(!Ra.test(m))return!1;if(Dl.test(y))return b===y;const x=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(b)}const P_=new gn(3e4,6e4);function cf(){const y=Kn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Zo=null;function yg(y){return Zo=Zo||function jt(y){return new Promise((f,m)=>{var b,x,L;function J(){cf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{cf(),m(Me(y,"network-request-failed"))},timeout:P_.get()})}if(null!==(x=null===(b=Kn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==x&&x.Iframe)f(gapi.iframes.getContext());else{if(null===(L=Kn().gapi)||void 0===L||!L.load){const Ce=Go("iframefcb");return Kn()[Ce]=()=>{gapi.load?J():m(Me(y,"network-request-failed"))},Di(`https://apis.google.com/js/api.js?onload=${Ce}`).catch(Ke=>m(Ke))}J()}}).catch(f=>{throw Zo=null,f})}(y),Zo}const Gn=new gn(5e3,15e3),hn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fr(y){const f=y.config;K(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Tn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:le.SDK_VERSION},x=uf.get(y.config.apiHost);x&&(b.eid=x);const L=y._getFrameworks();return L.length&&(b.fw=L.join(",")),`${m}?${(0,B.xO)(b).slice(1)}`}function Oa(){return Oa=(0,C.Z)(function*(y){const f=yield yg(y),m=Kn().gapi;return K(m,y,"internal-error"),f.open({where:document.body,url:fr(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hn,dontclear:!0},b=>new Promise(function(){var x=(0,C.Z)(function*(L,J){yield b.restyle({setHideOnLeave:!1});const Ce=Me(y,"network-request-failed"),Ke=Kn().setTimeout(()=>{J(Ce)},Gn.get());function gt(){Kn().clearTimeout(Ke),L(b)}b.ping(gt).then(gt,()=>{J(Ce)})});return function(L,J){return x.apply(this,arguments)}}()))}),Oa.apply(this,arguments)}const Xu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ka{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qo(y,f,m,b,x,L){K(y.config.authDomain,y,"auth-domain-config-required"),K(y.config.apiKey,y,"invalid-api-key");const J={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:le.SDK_VERSION,eventId:x};if(f instanceof oi){f.setDefaultLanguage(y.languageCode),J.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ke,gt]of Object.entries(L||{}))J[Ke]=gt}if(f instanceof Oi){const Ke=f.getScopes().filter(gt=>""!==gt);Ke.length>0&&(J.scopes=Ke.join(","))}y.tenantId&&(J.tid=y.tenantId);const Ce=J;for(const Ke of Object.keys(Ce))void 0===Ce[Ke]&&delete Ce[Ke];return`${function vg({config:y}){return y.emulator?Tn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(Ce).slice(1)}`}const Yo="webStorageSupport";class br extends class Jd{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return Te("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new br(f)}_finalizeEnroll(f,m,b){return function ac(y,f){return vn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Zu(y,f){return vn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ut(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lu=(()=>{class y{constructor(){}static assertion(m){return br._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var gc="@firebase/auth",Pa="0.20.11";class L_{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,C.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var x;f((null===(x=b)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ss(){return window}function Jo(){return(Jo=(0,C.Z)(function*(y,f,m){var b;const{BuildInfo:x}=Ss();ee(f.sessionId,"AuthEvent did not contain a session ID");const L=yield Dr(f.sessionId),J={};return At()?J.ibi=x.packageName:on()?J.apn=x.packageName:Pe(y,"operation-not-supported-in-this-environment"),x.displayName&&(J.appDisplayName=x.displayName),J.sessionId=L,Qo(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,J)})).apply(this,arguments)}function En(){return(En=(0,C.Z)(function*(y){const{BuildInfo:f}=Ss(),m={};At()?m.iosBundleId=f.packageName:on()?m.androidPackageName=f.packageName:Pe(y,"operation-not-supported-in-this-environment"),yield Ko(y,m)})).apply(this,arguments)}function ss(){return(ss=(0,C.Z)(function*(y,f,m){const{cordova:b}=Ss();let x=()=>{};try{yield new Promise((L,J)=>{let Ce=null;function Ke(){var Nt;L();const Cr=null===(Nt=b.plugins.browsertab)||void 0===Nt?void 0:Nt.close;"function"==typeof Cr&&Cr(),"function"==typeof m?.close&&m.close()}function gt(){Ce||(Ce=window.setTimeout(()=>{J(Me(y,"redirect-cancelled-by-user"))},2e3))}function xt(){"visible"===document?.visibilityState&&gt()}f.addPassiveListener(Ke),document.addEventListener("resume",gt,!1),on()&&document.addEventListener("visibilitychange",xt,!1),x=()=>{f.removePassiveListener(Ke),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",xt,!1),Ce&&window.clearTimeout(Ce)}})}finally{x()}})).apply(this,arguments)}function Dr(y){return nd.apply(this,arguments)}function nd(){return(nd=(0,C.Z)(function*(y){const f=_c(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function _c(y){if(ee(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(0,B.Pz)("authIdTokenMaxAge"),function bg(y){(0,le._registerComponent)(new be.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),x=f.getProvider("heartbeat"),{apiKey:L,authDomain:J}=b.options;return((Ce,Ke)=>{K(L&&!L.includes(":"),"invalid-api-key",{appName:Ce.name}),K(!J?.includes(":"),"argument-error",{appName:Ce.name});const gt={apiKey:L,authDomain:J,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_s(y)},xt=new vt(Ce,Ke,gt);return function Le(y,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(pe);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(xt,m),xt})(b,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new be.wA("auth-internal",f=>{const m=_n(f.getProvider("auth").getImmediate());return new L_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(gc,Pa,function mc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,le.registerVersion)(gc,Pa,"esm2017")}("Browser");class wl extends Ve{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,C.Z)(function*(){yield f.initPromise})()}}function cu(y){return mf.apply(this,arguments)}function mf(){return(mf=(0,C.Z)(function*(y){const f=yield Il()._get(uu(y));return f&&(yield Il()._remove(uu(y))),f})).apply(this,arguments)}function Cl(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function Il(){return pe(Bs)}function uu(y){return te("authEvent",y.config.apiKey,y.name)}function yo(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,B.zd)(m.join("?"))}function Xd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function Tl(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Dc(y=(0,B.z$)()){return!("file:"!==Tl()&&"ionic:"!==Tl()&&"capacitor:"!==Tl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function yf(){try{const y=self.localStorage,f=In();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Ig(y=(0,B.z$)()){return function wc(){return(0,B.w1)()&&11===document?.documentMode}()||function _f(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch{return rd()&&(0,B.hl)()}return!1}function rd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function id(){return(function B_(){return"http:"===Tl()||"https:"===Tl()}()||(0,B.ru)()||Dc())&&!function du(){return(0,B.b$)()||(0,B.UG)()}()&&yf()&&!rd()}function Nr(){return Dc()&&typeof document<"u"}function Fn(){return(Fn=(0,C.Z)(function*(){return!!Nr()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},$s=K,Sl="persistence";function Al(y){return La.apply(this,arguments)}function La(){return(La=(0,C.Z)(function*(y){yield y._initializationPromise;const f=od(),m=te(Sl,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function od(){var y;try{return(null===(y=function vf(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Mr=K;class os{constructor(){this.browserResolver=pe(class hf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bi,this._completeRedirectFn=Fe,this._overrideRedirectResult=Ma}_openPopup(f,m,b,x){var L=this;return(0,C.Z)(function*(){var J;ee(null===(J=L.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const Ce=Qo(f,m,b,We(),x);return function Qd(y,f,m,b=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),J=Math.max((window.screen.availWidth-b)/2,0).toString();let Ce="";const Ke=Object.assign(Object.assign({},Xu),{width:b.toString(),height:x.toString(),top:L,left:J}),gt=(0,B.z$)().toLowerCase();m&&(Ce=ln(gt)?"_blank":m),tt(gt)&&(f=f||"http://localhost",Ke.scrollbars="yes");const xt=Object.entries(Ke).reduce((Cr,[Ci,rh])=>`${Cr}${Ci}=${rh},`,"");if(function Yn(y=(0,B.z$)()){var f;return At(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(gt)&&"_self"!==Ce)return function df(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Ce),new ka(null);const Nt=window.open(f||"",Ce,xt);K(Nt,y,"popup-blocked");try{Nt.focus()}catch{}return new ka(Nt)}(f,Ce,In())})()}_openRedirect(f,m,b,x){var L=this;return(0,C.Z)(function*(){return yield L._originValidation(f),function Qr(y){Kn().location.href=y}(Qo(f,m,b,We(),x)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:x,promise:L}=this.eventManagers[m];return x?Promise.resolve(x):(ee(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,C.Z)(function*(){const b=yield function nt(y){return Oa.apply(this,arguments)}(f),x=new Ve(f);return b.register("authEvent",L=>(K(L?.authEvent,f,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:x},m.iframes[f._key()]=b,x})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Yo,{type:Yo},x=>{var L;const J=null===(L=x?.[0])||void 0===L?void 0:L[Yo];void 0!==J&&m(!!J),Pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ou(y){return _g.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return kn()||Tt()||At()}}),this.cordovaResolver=pe(class yc{constructor(){this._redirectPersistence=Bi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fe,this._overrideRedirectResult=Ma}_initialize(f){var m=this;return(0,C.Z)(function*(){const b=f._key();let x=m.eventManagers.get(b);return x||(x=new wl(f),m.eventManagers.set(b,x),m.attachCallbackListeners(f,x)),x})()}_openPopup(f){Pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,x){var L=this;return(0,C.Z)(function*(){!function Eb(y){var f,m,b,x,L,J,Ce,Ke,gt,xt;const Nt=Ss();K("function"==typeof(null===(f=Nt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(typeof(null===(m=Nt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K("function"==typeof(null===(L=null===(x=null===(b=Nt?.cordova)||void 0===b?void 0:b.plugins)||void 0===x?void 0:x.browsertab)||void 0===L?void 0:L.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(Ke=null===(Ce=null===(J=Nt?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Ke?void 0:Ke.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(xt=null===(gt=Nt?.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===xt?void 0:xt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield L._initialize(f);yield J.initialized(),J.resetRedirect(),function lf(){wi.clear()}(),yield L._originValidation(f);const Ce=function gf(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Cl(),postBody:null,tenantId:y.tenantId,error:Me(y,"no-auth-event")}}(f,b,x);yield function Cg(y,f){return Il()._set(uu(y),f)}(f,Ce);const Ke=yield function Nn(y,f,m){return Jo.apply(this,arguments)}(f,Ce,m),gt=yield function pf(y){const{cordova:f}=Ss();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let x=null;b?f.plugins.browsertab.openUrl(y):x=f.InAppBrowser.open(y,function Ht(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(x)})})}(Ke);return function td(y,f,m){return ss.apply(this,arguments)}(f,J,gt)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yr(y){return En.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:x,BuildInfo:L}=Ss(),J=setTimeout((0,C.Z)(function*(){yield cu(f),m.onEvent(Xd())}),500),Ce=function(){var xt=(0,C.Z)(function*(Nt){clearTimeout(J);const Cr=yield cu(f);let Ci=null;Cr&&Nt?.url&&(Ci=function Fa(y,f){var m,b;const x=function tr(y){const f=yo(y),m=f.link?decodeURIComponent(f.link):void 0,b=yo(m).link,x=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return yo(x).link||x||b||m||y}(f);if(x.includes("/__/auth/callback")){const L=yo(x),J=L.firebaseError?function El(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(L.firebaseError)):null,Ce=null===(b=null===(m=J?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ke=Ce?Me(Ce):null;return Ke?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ke,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:x,postBody:null}}return null}(Cr,Nt.url)),m.onEvent(Ci||Xd())});return function(Cr){return xt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ce);const Ke=x,gt=`${L.packageName.toLowerCase()}://`;Ss().handleOpenURL=function(){var xt=(0,C.Z)(function*(Nt){if(Nt.toLowerCase().startsWith(gt)&&Ce({url:Nt}),"function"==typeof Ke)try{Ke(Nt)}catch(Cr){console.error(Cr)}});return function(Nt){return xt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bi,this._completeRedirectFn=Fe,this._overrideRedirectResult=Ma}_initialize(f){var m=this;return(0,C.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,x){var L=this;return(0,C.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(f,m,b,x)})()}_openRedirect(f,m,b,x){var L=this;return(0,C.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(f,m,b,x)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,C.Z)(function*(){if(f.underlyingResolver)return;const m=yield function U_(){return Fn.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function bf(y){return y.unwrap()}function Tg(y){return wf(y)}function wf(y){const{_tokenResponse:f}=y instanceof B.ZR?y.customData:y;if(!f)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Wo.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Zs;break;case"facebook.com":b=No;break;case"github.com":b=Mo;break;case"twitter.com":b=Sr;break;default:const{oauthIdToken:x,oauthAccessToken:L,oauthTokenSecret:J,pendingToken:Ce,nonce:Ke}=f;return L||J||x||Ce?Ce?m.startsWith("saml.")?Qs._create(m,Ce):bs._fromParams({providerId:m,signInMethod:m,pendingToken:Ce,idToken:x,accessToken:L}):new Ps(m).credential({idToken:x,accessToken:L,rawNonce:Ke}):null}return y instanceof B.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function $r(y,f){return f.catch(m=>{throw m instanceof B.ZR&&function j_(y,f){var m,b;const x=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new hu(y,function er(y,f){var m;const b=(0,B.m9)(y),x=f;return K(f.customData.operationType,b,"argument-error"),K(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),oc._fromError(b,x)}(y,f));else if(x){const L=wf(f),J=f;L&&(J.credential=L,J.tenantId=x.tenantId||void 0,J.email=x.email||void 0,J.phoneNumber=x.phoneNumber||void 0)}}(y,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:Tg(m),additionalUserInfo:Qt(m),user:Va.getOrCreate(x)}})}function Cf(y,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,C.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>$r(y,m.confirm(b))}})).apply(this,arguments)}class hu{constructor(f,m){this.resolver=m,this.auth=function Df(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return $r(bf(this.auth),this.resolver.resolveSignIn(f))}}class Va{constructor(f){this._delegate=f,this.multiFactor=function Vs(y){const f=(0,B.m9)(y);return Bo.has(f)||Bo.set(f,lc._fromUser(f)),Bo.get(f)}(f)}static getOrCreate(f){return Va.USER_MAP.has(f)||Va.USER_MAP.set(f,new Va(f)),Va.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,C.Z)(function*(){return $r(m.auth,Xs(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,C.Z)(function*(){return Cf(b.auth,function jr(y,f,m){return ns.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,C.Z)(function*(){return $r(m.auth,function Kd(y,f,m){return zo.apply(this,arguments)}(m._delegate,f,os))})()}linkWithRedirect(f){var m=this;return(0,C.Z)(function*(){return yield Al(_n(m.auth)),function ne(y,f,m){return function W(y,f,m){return Se.apply(this,arguments)}(y,f,m)}(m._delegate,f,os)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,C.Z)(function*(){return $r(m.auth,Oo(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Cf(this.auth,function nu(y,f,m){return co.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return $r(this.auth,function af(y,f,m){return Yu.apply(this,arguments)}(this._delegate,f,os))}reauthenticateWithRedirect(f){var m=this;return(0,C.Z)(function*(){return yield Al(_n(m.auth)),function A(y,f,m){return function O(y,f,m){return $.apply(this,arguments)}(y,f,m)}(m._delegate,f,os)})()}sendEmailVerification(f){return function ic(y,f){return Ji.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,C.Z)(function*(){return yield function Vr(y,f){return Ro.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function I(y,f){return T((0,B.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function R(y,f){return T((0,B.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function mg(y,f){return ru.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Vo(y,f){return hl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function sc(y,f,m){return ul.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Va.USER_MAP=new WeakMap;const Nl=K;let nh=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;Nl(x,"invalid-api-key",{appName:m.name}),Nl(x,"invalid-api-key",{appName:m.name});const L=typeof window<"u"?os:void 0;this._delegate=b.initialize({options:{persistence:Sg(x,m.name),popupRedirectResolver:L}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Va.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function So(y,f,m){const b=_n(y);K(b._canInitEmulator,b,"emulator-config-failed"),K(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const x=!!m?.disableWarnings,L=ut(f),{host:J,port:Ce}=function ir(y){const f=ut(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(b);if(x){const L=x[1];return{host:L,port:ri(b.substr(L.length+1))}}{const[L,J]=b.split(":");return{host:L,port:ri(J)}}}(f);b.config.emulator={url:`${L}//${J}${null===Ce?"":`:${Ce}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:J,port:Ce,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function ii(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function mi(y,f){return Po.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ls(this._delegate,m)}confirmPasswordReset(m,b){return function ga(y,f,m){return no.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var x=this;return(0,C.Z)(function*(){return $r(x._delegate,function ma(y,f,m){return Pn.apply(this,arguments)}(x._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ro(y,f){return va.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Pi(y,f){return"EMAIL_SIGNIN"===il.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,C.Z)(function*(){Nl(id(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Ze(y,f){return Et.apply(this,arguments)}(m._delegate,os);return b?$r(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function vc(y,f){_n(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,x){const{next:L,error:J,complete:Ce}=As(m,b,x);return this._delegate.onAuthStateChanged(L,J,Ce)}onIdTokenChanged(m,b,x){const{next:L,error:J,complete:Ce}=As(m,b,x);return this._delegate.onIdTokenChanged(L,J,Ce)}sendSignInLinkToEmail(m,b){return function _a(y,f,m){return Cs.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function ll(y,f,m){return $n.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,C.Z)(function*(){let x;switch(function sd(y,f){$s(Object.values(Ui).includes(f),y,"invalid-persistence-type"),(0,B.b$)()?$s(f!==Ui.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?$s(f===Ui.NONE,y,"unsupported-persistence-type"):rd()?$s(f===Ui.NONE||f===Ui.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):$s(f===Ui.NONE||yf(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Ui.SESSION:x=Bi;break;case Ui.LOCAL:x=(yield pe(Ca)._isAvailable())?Ca:Bs;break;case Ui.NONE:x=z;break;default:return Pe("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return $r(this._delegate,function xo(y){return Un.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return $r(this._delegate,jn(this._delegate,m))}signInWithCustomToken(m){return $r(this._delegate,function ko(y,f){return Vn.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return $r(this._delegate,function _i(y,f,m){return jn((0,B.m9)(y),Ri.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return $r(this._delegate,function ya(y,f,m){return Lo.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Cf(this._delegate,function qd(y,f,m){return ml.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,C.Z)(function*(){return Nl(id(),b._delegate,"operation-not-supported-in-this-environment"),$r(b._delegate,function fo(y,f,m){return yl.apply(this,arguments)}(b._delegate,m,os))})()}signInWithRedirect(m){var b=this;return(0,C.Z)(function*(){return Nl(id(),b._delegate,"operation-not-supported-in-this-environment"),yield Al(b._delegate),function hr(y,f,m){return function Ju(y,f,m){return S.apply(this,arguments)}(y,f,m)}(b._delegate,m,os)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Fo(y,f){return rc.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ui,y})();function As(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const x=b;return{next:J=>x(J&&Va.getOrCreate(J)),error:f,complete:m}}function Sg(y,f){const m=function Eg(y,f){const m=od();if(!m)return[];const b=te(Sl,y,f);switch(m.getItem(b)){case Ui.NONE:return[z];case Ui.LOCAL:return[Ca,Bi];case Ui.SESSION:return[Bi];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Ca)&&m.push(Ca),typeof window<"u")for(const b of[Bs,Bi])m.includes(b)||m.push(b);return m.includes(z)||m.push(z),m}class Ba{constructor(){this.providerId="phone",this._delegate=new Wo(bf(u.Z.auth()))}static credential(f,m){return Wo.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Ba.PHONE_SIGN_IN_METHOD=Wo.PHONE_SIGN_IN_METHOD,Ba.PROVIDER_ID=Wo.PROVIDER_ID;const $_=K;class If{constructor(f,m,b=u.Z.app()){var x;$_(null===(x=b.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new vr(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ef(y){y.INTERNAL.registerComponent(new be.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new nh(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ri,FacebookAuthProvider:No,GithubAuthProvider:Mo,GoogleAuthProvider:Zs,OAuthProvider:Ps,SAMLAuthProvider:ai,PhoneAuthProvider:Ba,PhoneMultiFactorGenerator:lu,RecaptchaVerifier:If,TwitterAuthProvider:Sr,Auth:nh,AuthCredential:Jn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.24")}(u.Z)},4497:(yt,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var V=function(){function C(u,B,le,se){this.id=C.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,u&&(this.text=u),B&&(this.cssClass=B),le&&(this.closeOnClick=le),se&&(this.showCloseBtn=se)}return C.nextId=0,C}();Ee.FlashMessage=V},2570:function(yt,Ee,V){"use strict";var C=V(4650),u=V(5673),B=V(6895);function le(De,ce){1&De&&C.\u0275\u0275element(0,"div",3)}function se(De,ce){if(1&De){var Ge=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"button",7),C.\u0275\u0275listener("click",function(){C.\u0275\u0275restoreView(Ge);var fe=C.\u0275\u0275nextContext().$implicit,Ye=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(Ye.close(fe))}),C.\u0275\u0275elementStart(1,"span",8),C.\u0275\u0275text(2,"\xd7"),C.\u0275\u0275elementEnd()()}}var ge=function(De){return{"alert-dismissible":De}};function be(De,ce){if(1&De){var Ge=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"div",4),C.\u0275\u0275listener("click",function(){var st=C.\u0275\u0275restoreView(Ge).$implicit,Pe=C.\u0275\u0275nextContext();return C.\u0275\u0275resetView(Pe.alertClicked(st))}),C.\u0275\u0275template(1,se,3,0,"button",5),C.\u0275\u0275element(2,"div",6),C.\u0275\u0275elementEnd()}if(2&De){var me=ce.$implicit;C.\u0275\u0275classMapInterpolate1("alert flash-message ",me.cssClass,""),C.\u0275\u0275styleProp("cursor",me.closeOnClick?"pointer":"inherit"),C.\u0275\u0275property("ngClass",C.\u0275\u0275pureFunction1(8,ge,me.showCloseBtn)),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",me.showCloseBtn),C.\u0275\u0275advance(1),C.\u0275\u0275property("innerHTML",me.text,C.\u0275\u0275sanitizeHtml)}}var ye=this&&this.__decorate||function(De,ce,Ge,me){var st,fe=arguments.length,Ye=fe<3?ce:null===me?me=Object.getOwnPropertyDescriptor(ce,Ge):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(De,ce,Ge,me);else for(var Pe=De.length-1;Pe>=0;Pe--)(st=De[Pe])&&(Ye=(fe<3?st(Ye):fe>3?st(ce,Ge,Ye):st(ce,Ge))||Ye);return fe>3&&Ye&&Object.defineProperty(ce,Ge,Ye),Ye},ve=this&&this.__metadata||function(De,ce){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(De,ce)};Object.defineProperty(Ee,"__esModule",{value:!0});var G=V(4650),q=V(4497),X=V(5673),je=function(){function De(ce,Ge){this._flashMessagesService=ce,this._cdRef=Ge,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return De.prototype.ngOnInit=function(){},De.prototype.show=function(ce,Ge){var me=this;void 0===Ge&&(Ge={});var fe={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ye in Ge)fe[Ye]=Ge[Ye];var st=new q.FlashMessage(ce,fe.cssClass,fe.closeOnClick,fe.showCloseBtn);st.timer=window.setTimeout(function(){me._remove(st),me._cdRef.detectChanges()},fe.timeout),this.messages.push(st),this._cdRef.detectChanges()},De.prototype.close=function(ce){clearTimeout(ce.timer),this._remove(ce),this._cdRef.detectChanges()},De.prototype.alertClicked=function(ce){ce.closeOnClick&&this.close(ce)},De.prototype.grayOut=function(ce){void 0===ce&&(ce=!1),this._grayOut=ce},De.prototype._remove=function(ce){this.messages=this.messages.filter(function(Ge){return Ge.id!==ce.id})},(De=ye([ve("design:paramtypes",[X.FlashMessagesService,G.ChangeDetectorRef])],De)).\u0275fac=function(Ge){return new(Ge||De)(C.\u0275\u0275directiveInject(u.FlashMessagesService),C.\u0275\u0275directiveInject(C.ChangeDetectorRef))},De.\u0275cmp=C.\u0275\u0275defineComponent({type:De,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(Ge,me){1&Ge&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275template(1,le,1,0,"div",1),C.\u0275\u0275template(2,be,3,10,"div",2),C.\u0275\u0275elementEnd()),2&Ge&&(C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",me._grayOut&&me.messages.length),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngForOf",me.messages))},dependencies:[B.NgClass,B.NgForOf,B.NgIf],encapsulation:2}),De}();Ee.FlashMessagesComponent=je},5673:function(yt,Ee,V){"use strict";var C=V(4650);Object.defineProperty(Ee,"__esModule",{value:!0}),V(4650);var le=function(){function se(){}return se.\u0275fac=function(be){return new(be||se)},se.\u0275prov=C.\u0275\u0275defineInjectable({token:se,factory:function(ge){return se.\u0275fac(ge)}}),se}();Ee.FlashMessagesService=le},3241:(yt,Ee,V)=>{var u=V(2570),B=V(8533);Ee.qz=B.FlashMessagesModule;var le=V(5673);Ee.GQ=le.FlashMessagesService,Ee.cS=u.FlashMessagesComponent},8533:function(yt,Ee,V){"use strict";var C=V(4650);V(2570),V(6895),Object.defineProperty(Ee,"__esModule",{value:!0}),V(4650);var ge=V(6895),ye=(V(2570),V(5673)),ve=function(){function G(){}var q;return q=G,G.forRoot=function(){return{ngModule:q,providers:[ye.FlashMessagesService]}},G.\u0275fac=function(je){return new(je||G)},G.\u0275mod=C.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=C.\u0275\u0275defineInjector({imports:[ge.CommonModule]}),G}();Ee.FlashMessagesModule=ve},9751:(yt,Ee,V)=>{"use strict";V.d(Ee,{y:()=>ye});var C=V(930),u=V(727),B=V(8822),le=V(9635),se=V(2416),ge=V(576),be=V(2806);let ye=(()=>{class X{constructor(De){De&&(this._subscribe=De)}lift(De){const ce=new X;return ce.source=this,ce.operator=De,ce}subscribe(De,ce,Ge){const me=function q(X){return X&&X instanceof C.Lv||function G(X){return X&&(0,ge.m)(X.next)&&(0,ge.m)(X.error)&&(0,ge.m)(X.complete)}(X)&&(0,u.Nn)(X)}(De)?De:new C.Hp(De,ce,Ge);return(0,be.x)(()=>{const{operator:fe,source:Ye}=this;me.add(fe?fe.call(me,Ye):Ye?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(De){try{return this._subscribe(De)}catch(ce){De.error(ce)}}forEach(De,ce){return new(ce=ve(ce))((Ge,me)=>{const fe=new C.Hp({next:Ye=>{try{De(Ye)}catch(st){me(st),fe.unsubscribe()}},error:me,complete:Ge});this.subscribe(fe)})}_subscribe(De){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(De)}[B.L](){return this}pipe(...De){return(0,le.U)(De)(this)}toPromise(De){return new(De=ve(De))((ce,Ge)=>{let me;this.subscribe(fe=>me=fe,fe=>Ge(fe),()=>ce(me))})}}return X.create=je=>new X(je),X})();function ve(X){var je;return null!==(je=X??se.v.Promise)&&void 0!==je?je:Promise}},7579:(yt,Ee,V)=>{"use strict";V.d(Ee,{x:()=>be});var C=V(9751),u=V(727);const le=(0,V(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=V(8737),ge=V(2806);let be=(()=>{class ve extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const X=new ye(this,this);return X.operator=q,X}_throwIfClosed(){if(this.closed)throw new le}next(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(q)}})}error(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:X}=this;for(;X.length;)X.shift().error(q)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:X,isStopped:je,observers:De}=this;return X||je?u.Lc:(this.currentObservers=null,De.push(q),new u.w0(()=>{this.currentObservers=null,(0,se.P)(De,q)}))}_checkFinalizedStatuses(q){const{hasError:X,thrownError:je,isStopped:De}=this;X?q.error(je):De&&q.complete()}asObservable(){const q=new C.y;return q.source=this,q}}return ve.create=(G,q)=>new ye(G,q),ve})();class ye extends be{constructor(G,q){super(),this.destination=G,this.source=q}next(G){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===X||X.call(q,G)}error(G){var q,X;null===(X=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===X||X.call(q,G)}complete(){var G,q;null===(q=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===q||q.call(G)}_subscribe(G){var q,X;return null!==(X=null===(q=this.source)||void 0===q?void 0:q.subscribe(G))&&void 0!==X?X:u.Lc}}},930:(yt,Ee,V)=>{"use strict";V.d(Ee,{Hp:()=>Ge,Lv:()=>X});var C=V(576),u=V(727),B=V(2416),le=V(7849),se=V(5032);const ge=ve("C",void 0,void 0);function ve(Pe,Me,ke){return{kind:Pe,value:Me,error:ke}}var G=V(3410),q=V(2806);class X extends u.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,u.Nn)(Me)&&Me.add(this)):this.destination=st}static create(Me,ke,Qe){return new Ge(Me,ke,Qe)}next(Me){this.isStopped?Ye(function ye(Pe){return ve("N",Pe,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ye(function be(Pe){return ve("E",void 0,Pe)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ye(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function De(Pe,Me){return je.call(Pe,Me)}class ce{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ke}=this;if(ke.next)try{ke.next(Me)}catch(Qe){me(Qe)}}error(Me){const{partialObserver:ke}=this;if(ke.error)try{ke.error(Me)}catch(Qe){me(Qe)}else me(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ke){me(ke)}}}class Ge extends X{constructor(Me,ke,Qe){let Xe;if(super(),(0,C.m)(Me)||!Me)Xe={next:Me??void 0,error:ke??void 0,complete:Qe??void 0};else{let K;this&&B.v.useDeprecatedNextContext?(K=Object.create(Me),K.unsubscribe=()=>this.unsubscribe(),Xe={next:Me.next&&De(Me.next,K),error:Me.error&&De(Me.error,K),complete:Me.complete&&De(Me.complete,K)}):Xe=Me}this.destination=new ce(Xe)}}function me(Pe){B.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Pe):(0,le.h)(Pe)}function Ye(Pe,Me){const{onStoppedNotification:ke}=B.v;ke&&G.z.setTimeout(()=>ke(Pe,Me))}const st={closed:!0,next:se.Z,error:function fe(Pe){throw Pe},complete:se.Z}},727:(yt,Ee,V)=>{"use strict";V.d(Ee,{Lc:()=>ge,w0:()=>se,Nn:()=>be});var C=V(576);const B=(0,V(3888).d)(ve=>function(q){ve(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var le=V(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const De of q)De.remove(this);else q.remove(this);const{initialTeardown:X}=this;if((0,C.m)(X))try{X()}catch(De){G=De instanceof B?De.errors:[De]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const De of je)try{ye(De)}catch(ce){G=G??[],ce instanceof B?G=[...G,...ce.errors]:G.push(ce)}}if(G)throw new B(G)}}add(G){var q;if(G&&G!==this)if(this.closed)ye(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(G)}}_hasParent(G){const{_parentage:q}=this;return q===G||Array.isArray(q)&&q.includes(G)}_addParent(G){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(G),q):q?[q,G]:G}_removeParent(G){const{_parentage:q}=this;q===G?this._parentage=null:Array.isArray(q)&&(0,le.P)(q,G)}remove(G){const{_finalizers:q}=this;q&&(0,le.P)(q,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const ve=new se;return ve.closed=!0,ve})();const ge=se.EMPTY;function be(ve){return ve instanceof se||ve&&"closed"in ve&&(0,C.m)(ve.remove)&&(0,C.m)(ve.add)&&(0,C.m)(ve.unsubscribe)}function ye(ve){(0,C.m)(ve)?ve():ve.unsubscribe()}},2416:(yt,Ee,V)=>{"use strict";V.d(Ee,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Ee,V)=>{"use strict";V.d(Ee,{E:()=>u});const u=new(V(9751).y)(se=>se.complete())},8996:(yt,Ee,V)=>{"use strict";V.d(Ee,{D:()=>Me});var C=V(8421),u=V(5363),B=V(9468),ge=V(9751),ye=V(2202),ve=V(576),G=V(9672);function X(ke,Qe){if(!ke)throw new Error("Iterable cannot be null");return new ge.y(Xe=>{(0,G.f)(Xe,Qe,()=>{const K=ke[Symbol.asyncIterator]();(0,G.f)(Xe,Qe,()=>{K.next().then(Te=>{Te.done?Xe.complete():Xe.next(Te.value)})},0,!0)})})}var je=V(3670),De=V(8239),ce=V(1144),Ge=V(6495),me=V(2206),fe=V(4532),Ye=V(3260);function Me(ke,Qe){return Qe?function Pe(ke,Qe){if(null!=ke){if((0,je.c)(ke))return function le(ke,Qe){return(0,C.Xf)(ke).pipe((0,B.R)(Qe),(0,u.Q)(Qe))}(ke,Qe);if((0,ce.z)(ke))return function be(ke,Qe){return new ge.y(Xe=>{let K=0;return Qe.schedule(function(){K===ke.length?Xe.complete():(Xe.next(ke[K++]),Xe.closed||this.schedule())})})}(ke,Qe);if((0,De.t)(ke))return function se(ke,Qe){return(0,C.Xf)(ke).pipe((0,B.R)(Qe),(0,u.Q)(Qe))}(ke,Qe);if((0,me.D)(ke))return X(ke,Qe);if((0,Ge.T)(ke))return function q(ke,Qe){return new ge.y(Xe=>{let K;return(0,G.f)(Xe,Qe,()=>{K=ke[ye.h](),(0,G.f)(Xe,Qe,()=>{let Te,ee;try{({value:Te,done:ee}=K.next())}catch(ie){return void Xe.error(ie)}ee?Xe.complete():Xe.next(Te)},0,!0)}),()=>(0,ve.m)(K?.return)&&K.return()})}(ke,Qe);if((0,Ye.L)(ke))return function st(ke,Qe){return X((0,Ye.Q)(ke),Qe)}(ke,Qe)}throw(0,fe.z)(ke)}(ke,Qe):(0,C.Xf)(ke)}},8421:(yt,Ee,V)=>{"use strict";V.d(Ee,{Xf:()=>je});var C=V(655),u=V(1144),B=V(8239),le=V(9751),se=V(3670),ge=V(2206),be=V(4532),ye=V(6495),ve=V(3260),G=V(576),q=V(7849),X=V(8822);function je(Pe){if(Pe instanceof le.y)return Pe;if(null!=Pe){if((0,se.c)(Pe))return function De(Pe){return new le.y(Me=>{const ke=Pe[X.L]();if((0,G.m)(ke.subscribe))return ke.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,u.z)(Pe))return function ce(Pe){return new le.y(Me=>{for(let ke=0;ke<Pe.length&&!Me.closed;ke++)Me.next(Pe[ke]);Me.complete()})}(Pe);if((0,B.t)(Pe))return function Ge(Pe){return new le.y(Me=>{Pe.then(ke=>{Me.closed||(Me.next(ke),Me.complete())},ke=>Me.error(ke)).then(null,q.h)})}(Pe);if((0,ge.D)(Pe))return fe(Pe);if((0,ye.T)(Pe))return function me(Pe){return new le.y(Me=>{for(const ke of Pe)if(Me.next(ke),Me.closed)return;Me.complete()})}(Pe);if((0,ve.L)(Pe))return function Ye(Pe){return fe((0,ve.Q)(Pe))}(Pe)}throw(0,be.z)(Pe)}function fe(Pe){return new le.y(Me=>{(function st(Pe,Me){var ke,Qe,Xe,K;return(0,C.mG)(this,void 0,void 0,function*(){try{for(ke=(0,C.KL)(Pe);!(Qe=yield ke.next()).done;)if(Me.next(Qe.value),Me.closed)return}catch(Te){Xe={error:Te}}finally{try{Qe&&!Qe.done&&(K=ke.return)&&(yield K.call(ke))}finally{if(Xe)throw Xe.error}}Me.complete()})})(Pe,Me).catch(ke=>Me.error(ke))})}},6451:(yt,Ee,V)=>{"use strict";V.d(Ee,{T:()=>ge});var C=V(8189),u=V(8421),B=V(515),le=V(3269),se=V(8996);function ge(...be){const ye=(0,le.yG)(be),ve=(0,le._6)(be,1/0),G=be;return G.length?1===G.length?(0,u.Xf)(G[0]):(0,C.J)(ve)((0,se.D)(G,ye)):B.E}},5403:(yt,Ee,V)=>{"use strict";V.d(Ee,{x:()=>u});var C=V(930);function u(le,se,ge,be,ye){return new B(le,se,ge,be,ye)}class B extends C.Lv{constructor(se,ge,be,ye,ve,G){super(se),this.onFinalize=ve,this.shouldUnsubscribe=G,this._next=ge?function(q){try{ge(q)}catch(X){se.error(X)}}:super._next,this._error=ye?function(q){try{ye(q)}catch(X){se.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(yt,Ee,V)=>{"use strict";V.d(Ee,{U:()=>B});var C=V(4482),u=V(5403);function B(le,se){return(0,C.e)((ge,be)=>{let ye=0;ge.subscribe((0,u.x)(be,ve=>{be.next(le.call(se,ve,ye++))}))})}},8189:(yt,Ee,V)=>{"use strict";V.d(Ee,{J:()=>B});var C=V(5577),u=V(4671);function B(le=1/0){return(0,C.z)(u.y,le)}},5577:(yt,Ee,V)=>{"use strict";V.d(Ee,{z:()=>ye});var C=V(4004),u=V(8421),B=V(4482),le=V(9672),se=V(5403),be=V(576);function ye(ve,G,q=1/0){return(0,be.m)(G)?ye((X,je)=>(0,C.U)((De,ce)=>G(X,De,je,ce))((0,u.Xf)(ve(X,je))),q):("number"==typeof G&&(q=G),(0,B.e)((X,je)=>function ge(ve,G,q,X,je,De,ce,Ge){const me=[];let fe=0,Ye=0,st=!1;const Pe=()=>{st&&!me.length&&!fe&&G.complete()},Me=Qe=>fe<X?ke(Qe):me.push(Qe),ke=Qe=>{De&&G.next(Qe),fe++;let Xe=!1;(0,u.Xf)(q(Qe,Ye++)).subscribe((0,se.x)(G,K=>{je?.(K),De?Me(K):G.next(K)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(fe--;me.length&&fe<X;){const K=me.shift();ce?(0,le.f)(G,ce,()=>ke(K)):ke(K)}Pe()}catch(K){G.error(K)}}))};return ve.subscribe((0,se.x)(G,Me,()=>{st=!0,Pe()})),()=>{Ge?.()}}(X,je,ve,q)))}},5363:(yt,Ee,V)=>{"use strict";V.d(Ee,{Q:()=>le});var C=V(9672),u=V(4482),B=V(5403);function le(se,ge=0){return(0,u.e)((be,ye)=>{be.subscribe((0,B.x)(ye,ve=>(0,C.f)(ye,se,()=>ye.next(ve),ge),()=>(0,C.f)(ye,se,()=>ye.complete(),ge),ve=>(0,C.f)(ye,se,()=>ye.error(ve),ge)))})}},3099:(yt,Ee,V)=>{"use strict";V.d(Ee,{B:()=>se});var C=V(8421),u=V(7579),B=V(930),le=V(4482);function se(be={}){const{connector:ye=(()=>new u.x),resetOnError:ve=!0,resetOnComplete:G=!0,resetOnRefCountZero:q=!0}=be;return X=>{let je,De,ce,Ge=0,me=!1,fe=!1;const Ye=()=>{De?.unsubscribe(),De=void 0},st=()=>{Ye(),je=ce=void 0,me=fe=!1},Pe=()=>{const Me=je;st(),Me?.unsubscribe()};return(0,le.e)((Me,ke)=>{Ge++,!fe&&!me&&Ye();const Qe=ce=ce??ye();ke.add(()=>{Ge--,0===Ge&&!fe&&!me&&(De=ge(Pe,q))}),Qe.subscribe(ke),!je&&Ge>0&&(je=new B.Hp({next:Xe=>Qe.next(Xe),error:Xe=>{fe=!0,Ye(),De=ge(st,ve,Xe),Qe.error(Xe)},complete:()=>{me=!0,Ye(),De=ge(st,G),Qe.complete()}}),(0,C.Xf)(Me).subscribe(je))})(X)}}function ge(be,ye,...ve){if(!0===ye)return void be();if(!1===ye)return;const G=new B.Hp({next:()=>{G.unsubscribe(),be()}});return ye(...ve).subscribe(G)}},9468:(yt,Ee,V)=>{"use strict";V.d(Ee,{R:()=>u});var C=V(4482);function u(B,le=0){return(0,C.e)((se,ge)=>{ge.add(B.schedule(()=>se.subscribe(ge),le))})}},8505:(yt,Ee,V)=>{"use strict";V.d(Ee,{b:()=>se});var C=V(576),u=V(4482),B=V(5403),le=V(4671);function se(ge,be,ye){const ve=(0,C.m)(ge)||be||ye?{next:ge,error:be,complete:ye}:ge;return ve?(0,u.e)((G,q)=>{var X;null===(X=ve.subscribe)||void 0===X||X.call(ve);let je=!0;G.subscribe((0,B.x)(q,De=>{var ce;null===(ce=ve.next)||void 0===ce||ce.call(ve,De),q.next(De)},()=>{var De;je=!1,null===(De=ve.complete)||void 0===De||De.call(ve),q.complete()},De=>{var ce;je=!1,null===(ce=ve.error)||void 0===ce||ce.call(ve,De),q.error(De)},()=>{var De,ce;je&&(null===(De=ve.unsubscribe)||void 0===De||De.call(ve)),null===(ce=ve.finalize)||void 0===ce||ce.call(ve)}))}):le.y}},4408:(yt,Ee,V)=>{"use strict";V.d(Ee,{o:()=>se});var C=V(727);class u extends C.w0{constructor(be,ye){super()}schedule(be,ye=0){return this}}const B={setInterval(ge,be,...ye){const{delegate:ve}=B;return ve?.setInterval?ve.setInterval(ge,be,...ye):setInterval(ge,be,...ye)},clearInterval(ge){const{delegate:be}=B;return(be?.clearInterval||clearInterval)(ge)},delegate:void 0};var le=V(8737);class se extends u{constructor(be,ye){super(be,ye),this.scheduler=be,this.work=ye,this.pending=!1}schedule(be,ye=0){var ve;if(this.closed)return this;this.state=be;const G=this.id,q=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(q,G,ye)),this.pending=!0,this.delay=ye,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(q,this.id,ye),this}requestAsyncId(be,ye,ve=0){return B.setInterval(be.flush.bind(be,this),ve)}recycleAsyncId(be,ye,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return ye;null!=ye&&B.clearInterval(ye)}execute(be,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(be,ye);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,ye){let G,ve=!1;try{this.work(be)}catch(q){ve=!0,G=q||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:be,scheduler:ye}=this,{actions:ve}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ve,this),null!=be&&(this.id=this.recycleAsyncId(ye,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Ee,V)=>{"use strict";V.d(Ee,{v:()=>B});var C=V(6063);class u{constructor(se,ge=u.now){this.schedulerActionCtor=se,this.now=ge}schedule(se,ge=0,be){return new this.schedulerActionCtor(this,se).schedule(be,ge)}}u.now=C.l.now;class B extends u{constructor(se,ge=u.now){super(se,ge),this.actions=[],this._active=!1}flush(se){const{actions:ge}=this;if(this._active)return void ge.push(se);let be;this._active=!0;do{if(be=se.execute(se.state,se.delay))break}while(se=ge.shift());if(this._active=!1,be){for(;se=ge.shift();)se.unsubscribe();throw be}}}},4986:(yt,Ee,V)=>{"use strict";V.d(Ee,{P:()=>le,z:()=>B});var C=V(4408);const B=new(V(7565).v)(C.o),le=B},6063:(yt,Ee,V)=>{"use strict";V.d(Ee,{l:()=>C});const C={now:()=>(C.delegate||Date).now(),delegate:void 0}},3410:(yt,Ee,V)=>{"use strict";V.d(Ee,{z:()=>C});const C={setTimeout(u,B,...le){const{delegate:se}=C;return se?.setTimeout?se.setTimeout(u,B,...le):setTimeout(u,B,...le)},clearTimeout(u){const{delegate:B}=C;return(B?.clearTimeout||clearTimeout)(u)},delegate:void 0}},2202:(yt,Ee,V)=>{"use strict";V.d(Ee,{h:()=>u});const u=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Ee,V)=>{"use strict";V.d(Ee,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,Ee,V)=>{"use strict";V.d(Ee,{_6:()=>ge,jO:()=>le,yG:()=>se});var C=V(576),u=V(3532);function B(be){return be[be.length-1]}function le(be){return(0,C.m)(B(be))?be.pop():void 0}function se(be){return(0,u.K)(B(be))?be.pop():void 0}function ge(be,ye){return"number"==typeof B(be)?be.pop():ye}},8737:(yt,Ee,V)=>{"use strict";function C(u,B){if(u){const le=u.indexOf(B);0<=le&&u.splice(le,1)}}V.d(Ee,{P:()=>C})},3888:(yt,Ee,V)=>{"use strict";function C(u){const le=u(se=>{Error.call(se),se.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}V.d(Ee,{d:()=>C})},2806:(yt,Ee,V)=>{"use strict";V.d(Ee,{O:()=>le,x:()=>B});var C=V(2416);let u=null;function B(se){if(C.v.useDeprecatedSynchronousErrorHandling){const ge=!u;if(ge&&(u={errorThrown:!1,error:null}),se(),ge){const{errorThrown:be,error:ye}=u;if(u=null,be)throw ye}}else se()}function le(se){C.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=se)}},9672:(yt,Ee,V)=>{"use strict";function C(u,B,le,se=0,ge=!1){const be=B.schedule(function(){le(),ge?u.add(this.schedule(null,se)):this.unsubscribe()},se);if(u.add(be),!ge)return be}V.d(Ee,{f:()=>C})},4671:(yt,Ee,V)=>{"use strict";function C(u){return u}V.d(Ee,{y:()=>C})},1144:(yt,Ee,V)=>{"use strict";V.d(Ee,{z:()=>C});const C=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(yt,Ee,V)=>{"use strict";V.d(Ee,{D:()=>u});var C=V(576);function u(B){return Symbol.asyncIterator&&(0,C.m)(B?.[Symbol.asyncIterator])}},576:(yt,Ee,V)=>{"use strict";function C(u){return"function"==typeof u}V.d(Ee,{m:()=>C})},3670:(yt,Ee,V)=>{"use strict";V.d(Ee,{c:()=>B});var C=V(8822),u=V(576);function B(le){return(0,u.m)(le[C.L])}},6495:(yt,Ee,V)=>{"use strict";V.d(Ee,{T:()=>B});var C=V(2202),u=V(576);function B(le){return(0,u.m)(le?.[C.h])}},8239:(yt,Ee,V)=>{"use strict";V.d(Ee,{t:()=>u});var C=V(576);function u(B){return(0,C.m)(B?.then)}},3260:(yt,Ee,V)=>{"use strict";V.d(Ee,{L:()=>le,Q:()=>B});var C=V(655),u=V(576);function B(se){return(0,C.FC)(this,arguments,function*(){const be=se.getReader();try{for(;;){const{value:ye,done:ve}=yield(0,C.qq)(be.read());if(ve)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(ye)}}finally{be.releaseLock()}})}function le(se){return(0,u.m)(se?.getReader)}},3532:(yt,Ee,V)=>{"use strict";V.d(Ee,{K:()=>u});var C=V(576);function u(B){return B&&(0,C.m)(B.schedule)}},4482:(yt,Ee,V)=>{"use strict";V.d(Ee,{A:()=>u,e:()=>B});var C=V(576);function u(le){return(0,C.m)(le?.lift)}function B(le){return se=>{if(u(se))return se.lift(function(ge){try{return le(ge,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(yt,Ee,V)=>{"use strict";function C(){}V.d(Ee,{Z:()=>C})},9635:(yt,Ee,V)=>{"use strict";V.d(Ee,{U:()=>B,z:()=>u});var C=V(4671);function u(...le){return B(le)}function B(le){return 0===le.length?C.y:1===le.length?le[0]:function(ge){return le.reduce((be,ye)=>ye(be),ge)}}},7849:(yt,Ee,V)=>{"use strict";V.d(Ee,{h:()=>B});var C=V(2416),u=V(3410);function B(le){u.z.setTimeout(()=>{const{onUnhandledError:se}=C.v;if(!se)throw le;se(le)})}},4532:(yt,Ee,V)=>{"use strict";function C(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Ee,{z:()=>C})},655:(yt,Ee,V)=>{"use strict";function le(ee,ie){var pe={};for(var ue in ee)Object.prototype.hasOwnProperty.call(ee,ue)&&ie.indexOf(ue)<0&&(pe[ue]=ee[ue]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ue=Object.getOwnPropertySymbols(ee);Le<ue.length;Le++)ie.indexOf(ue[Le])<0&&Object.prototype.propertyIsEnumerable.call(ee,ue[Le])&&(pe[ue[Le]]=ee[ue[Le]])}return pe}function ye(ee,ie,pe,ue){return new(pe||(pe=Promise))(function(We,bt){function tn(gn){try{it(ue.next(gn))}catch(Tn){bt(Tn)}}function zt(gn){try{it(ue.throw(gn))}catch(Tn){bt(Tn)}}function it(gn){gn.done?We(gn.value):function Le(We){return We instanceof pe?We:new pe(function(bt){bt(We)})}(gn.value).then(tn,zt)}it((ue=ue.apply(ee,ie||[])).next())})}function me(ee){return this instanceof me?(this.v=ee,this):new me(ee)}function fe(ee,ie,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ue=pe.apply(ee,ie||[]),We=[];return Le={},bt("next"),bt("throw"),bt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function bt(nn){ue[nn]&&(Le[nn]=function(rn){return new Promise(function(Er,Ut){We.push([nn,rn,Er,Ut])>1||tn(nn,rn)})})}function tn(nn,rn){try{!function zt(nn){nn.value instanceof me?Promise.resolve(nn.value.v).then(it,gn):Tn(We[0][2],nn)}(ue[nn](rn))}catch(Er){Tn(We[0][3],Er)}}function it(nn){tn("next",nn)}function gn(nn){tn("throw",nn)}function Tn(nn,rn){nn(rn),We.shift(),We.length&&tn(We[0][0],We[0][1])}}function st(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ie=ee[Symbol.asyncIterator];return ie?ie.call(ee):(ee=function X(ee){var ie="function"==typeof Symbol&&Symbol.iterator,pe=ie&&ee[ie],ue=0;if(pe)return pe.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ue>=ee.length&&(ee=void 0),{value:ee&&ee[ue++],done:!ee}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),pe={},ue("next"),ue("throw"),ue("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ue(We){pe[We]=ee[We]&&function(bt){return new Promise(function(tn,zt){!function Le(We,bt,tn,zt){Promise.resolve(zt).then(function(it){We({value:it,done:tn})},bt)}(tn,zt,(bt=ee[We](bt)).done,bt.value)})}}}V.d(Ee,{FC:()=>fe,KL:()=>st,_T:()=>le,mG:()=>ye,qq:()=>me})},6895:(yt,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{APP_BASE_HREF:()=>fe,AsyncPipe:()=>ua,CommonModule:()=>Qs,CurrencyPipe:()=>Ps,DATE_PIPE_DEFAULT_TIMEZONE:()=>Wc,DOCUMENT:()=>be,DatePipe:()=>Yl,DecimalPipe:()=>oi,FormStyle:()=>ee,FormatWidth:()=>pe,HashLocationStrategy:()=>st,I18nPluralPipe:()=>dr,I18nSelectPipe:()=>fa,IMAGE_LOADER:()=>eo,JsonPipe:()=>Jl,KeyValuePipe:()=>Ks,LOCATION_INITIALIZED:()=>G,Location:()=>Pe,LocationStrategy:()=>me,LowerCasePipe:()=>da,NgClass:()=>Cn,NgComponentOutlet:()=>tl,NgFor:()=>Fr,NgForOf:()=>Fr,NgForOfContext:()=>ys,NgIf:()=>xn,NgIfContext:()=>_t,NgLocaleLocalization:()=>Jn,NgLocalization:()=>ri,NgOptimizedImage:()=>Cs,NgPlural:()=>nl,NgPluralCase:()=>Ql,NgStyle:()=>Gc,NgSwitch:()=>Os,NgSwitchCase:()=>vs,NgSwitchDefault:()=>ks,NgTemplateOutlet:()=>rl,NumberFormatStyle:()=>K,NumberSymbol:()=>ue,PRECONNECT_CHECK_BLOCKLIST:()=>Xs,PathLocationStrategy:()=>Ye,PercentPipe:()=>Oi,PlatformLocation:()=>ye,Plural:()=>Te,SlicePipe:()=>Mo,TitleCasePipe:()=>Hu,TranslationWidth:()=>ie,UpperCasePipe:()=>Ao,VERSION:()=>Un,ViewportScroller:()=>sl,WeekDay:()=>Le,XhrFactory:()=>Ys,formatCurrency:()=>_s,formatDate:()=>mn,formatNumber:()=>vt,formatPercent:()=>Mi,getCurrencySymbol:()=>gs,getLocaleCurrencyCode:()=>qr,getLocaleCurrencyName:()=>Jr,getLocaleCurrencySymbol:()=>ps,getLocaleDateFormat:()=>nn,getLocaleDateTimeFormat:()=>Er,getLocaleDayNames:()=>tn,getLocaleDayPeriods:()=>bt,getLocaleDirection:()=>zs,getLocaleEraNames:()=>it,getLocaleExtraDayPeriodRules:()=>kr,getLocaleExtraDayPeriods:()=>ei,getLocaleFirstDayOfWeek:()=>gn,getLocaleId:()=>We,getLocaleMonthNames:()=>zt,getLocaleNumberFormat:()=>vn,getLocaleNumberSymbol:()=>Ut,getLocalePluralCase:()=>Rs,getLocaleTimeFormat:()=>rn,getLocaleWeekEndRange:()=>Tn,getNumberOfCurrencyDigits:()=>ti,isPlatformBrowser:()=>ec,isPlatformServer:()=>or,isPlatformWorkerApp:()=>zc,isPlatformWorkerUi:()=>xo,provideCloudflareLoader:()=>Ne,provideCloudinaryLoader:()=>to,provideImageKitLoader:()=>$n,provideImgixLoader:()=>no,registerLocaleData:()=>Xn,\u0275BrowserPlatformLocation:()=>q,\u0275DomAdapter:()=>ge,\u0275NullViewportScroller:()=>Ro,\u0275PLATFORM_BROWSER_ID:()=>Ds,\u0275PLATFORM_SERVER_ID:()=>ai,\u0275PLATFORM_WORKER_APP_ID:()=>Sr,\u0275PLATFORM_WORKER_UI_ID:()=>Fs,\u0275getDOM:()=>B,\u0275parseCookieValue:()=>zn,\u0275setRootDomAdapter:()=>se});var C=V(4650);let u=null;function B(){return u}function se(I){u||(u=I)}class ge{}const be=new C.InjectionToken("DocumentToken");let ye=(()=>{class I{historyGo(T){throw new Error("Not implemented")}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:function(){return function ve(){return(0,C.\u0275\u0275inject)(q)}()},providedIn:"platform"}),I})();const G=new C.InjectionToken("Location Initialized");let q=(()=>{class I extends ye{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",T,!1),()=>P.removeEventListener("popstate",T)}onHashChange(T){const P=B().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",T,!1),()=>P.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,P,H){X()?this._history.pushState(T,P,H):this.location.hash=H}replaceState(T,P,H){X()?this._history.replaceState(T,P,H):this.location.hash=H}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275inject(be))},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:function(){return function je(){return new q((0,C.\u0275\u0275inject)(be))}()},providedIn:"platform"}),I})();function X(){return!!window.history.pushState}function De(I,R){if(0==I.length)return R;if(0==R.length)return I;let T=0;return I.endsWith("/")&&T++,R.startsWith("/")&&T++,2==T?I+R.substring(1):1==T?I+R:I+"/"+R}function ce(I){const R=I.match(/#|\?|$/),T=R&&R.index||I.length;return I.slice(0,T-("/"===I[T-1]?1:0))+I.slice(T)}function Ge(I){return I&&"?"!==I[0]?"?"+I:I}let me=(()=>{class I{historyGo(T){throw new Error("Not implemented")}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:function(){return(0,C.inject)(Ye)},providedIn:"root"}),I})();const fe=new C.InjectionToken("appBaseHref");let Ye=(()=>{class I extends me{constructor(T,P){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,C.inject)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return De(this._baseHref,T)}path(T=!1){const P=this._platformLocation.pathname+Ge(this._platformLocation.search),H=this._platformLocation.hash;return H&&T?`${P}${H}`:P}pushState(T,P,H,de){const we=this.prepareExternalUrl(H+Ge(de));this._platformLocation.pushState(T,P,we)}replaceState(T,P,H,de){const we=this.prepareExternalUrl(H+Ge(de));this._platformLocation.replaceState(T,P,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275inject(ye),C.\u0275\u0275inject(fe,8))},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),st=(()=>{class I extends me{constructor(T,P){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(T){const P=De(this._baseHref,T);return P.length>0?"#"+P:P}pushState(T,P,H,de){let we=this.prepareExternalUrl(H+Ge(de));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(T,P,we)}replaceState(T,P,H,de){let we=this.prepareExternalUrl(H+Ge(de));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(T,P,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275inject(ye),C.\u0275\u0275inject(fe,8))},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac}),I})(),Pe=(()=>{class I{constructor(T){this._subject=new C.EventEmitter,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const P=this._locationStrategy.getBaseHref();this._baseHref=ce(Qe(P)),this._locationStrategy.onPopState(H=>{this._subject.emit({url:this.path(!0),pop:!0,state:H.state,type:H.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,P=""){return this.path()==this.normalize(T+Ge(P))}normalize(T){return I.stripTrailingSlash(function ke(I,R){return I&&R.startsWith(I)?R.substring(I.length):R}(this._baseHref,Qe(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,P="",H=null){this._locationStrategy.pushState(H,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Ge(P)),H)}replaceState(T,P="",H=null){this._locationStrategy.replaceState(H,"",T,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+Ge(P)),H)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",P){this._urlChangeListeners.forEach(H=>H(T,P))}subscribe(T,P,H){return this._subject.subscribe({next:T,error:P,complete:H})}}return I.normalizeQueryParams=Ge,I.joinWithSlash=De,I.stripTrailingSlash=ce,I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275inject(me))},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:function(){return function Me(){return new Pe((0,C.\u0275\u0275inject)(me))}()},providedIn:"root"}),I})();function Qe(I){return I.replace(/\/index.html$/,"")}const Xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Percent=1]="Percent",K[K.Currency=2]="Currency",K[K.Scientific=3]="Scientific",K))(),Te=(()=>((Te=Te||{})[Te.Zero=0]="Zero",Te[Te.One=1]="One",Te[Te.Two=2]="Two",Te[Te.Few=3]="Few",Te[Te.Many=4]="Many",Te[Te.Other=5]="Other",Te))(),ee=(()=>((ee=ee||{})[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee))(),ie=(()=>((ie=ie||{})[ie.Narrow=0]="Narrow",ie[ie.Abbreviated=1]="Abbreviated",ie[ie.Wide=2]="Wide",ie[ie.Short=3]="Short",ie))(),pe=(()=>((pe=pe||{})[pe.Short=0]="Short",pe[pe.Medium=1]="Medium",pe[pe.Long=2]="Long",pe[pe.Full=3]="Full",pe))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))(),Le=(()=>((Le=Le||{})[Le.Sunday=0]="Sunday",Le[Le.Monday=1]="Monday",Le[Le.Tuesday=2]="Tuesday",Le[Le.Wednesday=3]="Wednesday",Le[Le.Thursday=4]="Thursday",Le[Le.Friday=5]="Friday",Le[Le.Saturday=6]="Saturday",Le))();function We(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.LocaleId]}function bt(I,R,T){const P=(0,C.\u0275findLocaleData)(I),de=ot([P[C.\u0275LocaleDataIndex.DayPeriodsFormat],P[C.\u0275LocaleDataIndex.DayPeriodsStandalone]],R);return ot(de,T)}function tn(I,R,T){const P=(0,C.\u0275findLocaleData)(I),de=ot([P[C.\u0275LocaleDataIndex.DaysFormat],P[C.\u0275LocaleDataIndex.DaysStandalone]],R);return ot(de,T)}function zt(I,R,T){const P=(0,C.\u0275findLocaleData)(I),de=ot([P[C.\u0275LocaleDataIndex.MonthsFormat],P[C.\u0275LocaleDataIndex.MonthsStandalone]],R);return ot(de,T)}function it(I,R){return ot((0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.Eras],R)}function gn(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.FirstDayOfWeek]}function Tn(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.WeekendRange]}function nn(I,R){return ot((0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.DateFormat],R)}function rn(I,R){return ot((0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.TimeFormat],R)}function Er(I,R){return ot((0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.DateTimeFormat],R)}function Ut(I,R){const T=(0,C.\u0275findLocaleData)(I),P=T[C.\u0275LocaleDataIndex.NumberSymbols][R];if(typeof P>"u"){if(R===ue.CurrencyDecimal)return T[C.\u0275LocaleDataIndex.NumberSymbols][ue.Decimal];if(R===ue.CurrencyGroup)return T[C.\u0275LocaleDataIndex.NumberSymbols][ue.Group]}return P}function vn(I,R){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.NumberFormats][R]}function ps(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.CurrencySymbol]||null}function Jr(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.CurrencyName]||null}function qr(I){return(0,C.\u0275getLocaleCurrencyCode)(I)}const Rs=C.\u0275getLocalePluralCase;function pi(I){if(!I[C.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${I[C.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function kr(I){const R=(0,C.\u0275findLocaleData)(I);return pi(R),(R[C.\u0275LocaleDataIndex.ExtraData][2]||[]).map(P=>"string"==typeof P?Tr(P):[Tr(P[0]),Tr(P[1])])}function ei(I,R,T){const P=(0,C.\u0275findLocaleData)(I);pi(P);const de=ot([P[C.\u0275LocaleDataIndex.ExtraData][0],P[C.\u0275LocaleDataIndex.ExtraData][1]],R)||[];return ot(de,T)||[]}function zs(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.Directionality]}function ot(I,R){for(let T=R;T>-1;T--)if(typeof I[T]<"u")return I[T];throw new Error("Locale data API: locale data undefined")}function Tr(I){const[R,T]=I.split(":");return{hours:+R,minutes:+T}}function gs(I,R,T="en"){const P=function Xr(I){return(0,C.\u0275findLocaleData)(I)[C.\u0275LocaleDataIndex.Currencies]}(T)[I]||Xe[I]||[],H=P[1];return"narrow"===R&&"string"==typeof H?H:P[0]||I}function ti(I){let R;const T=Xe[I];return T&&(R=T[2]),"number"==typeof R?R:2}const ms=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wn={},Bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.ShortGMT=1]="ShortGMT",$t[$t.Long=2]="Long",$t[$t.Extended=3]="Extended",$t))(),St=(()=>((St=St||{})[St.FullYear=0]="FullYear",St[St.Month=1]="Month",St[St.Date=2]="Date",St[St.Hours=3]="Hours",St[St.Minutes=4]="Minutes",St[St.Seconds=5]="Seconds",St[St.FractionalSeconds=6]="FractionalSeconds",St[St.Day=7]="Day",St))(),It=(()=>((It=It||{})[It.DayPeriods=0]="DayPeriods",It[It.Days=1]="Days",It[It.Months=2]="Months",It[It.Eras=3]="Eras",It))();function mn(I,R,T,P){let H=function tt(I){if(ln(I))return I;if("number"==typeof I&&!isNaN(I))return new Date(I);if("string"==typeof I){if(I=I.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(I)){const[H,de=1,we=1]=I.split("-").map(lt=>+lt);return mr(H,de-1,we)}const T=parseFloat(I);if(!isNaN(I-T))return new Date(T);let P;if(P=I.match(ms))return function Tt(I){const R=new Date(0);let T=0,P=0;const H=I[8]?R.setUTCFullYear:R.setFullYear,de=I[8]?R.setUTCHours:R.setHours;I[9]&&(T=Number(I[9]+I[10]),P=Number(I[9]+I[11])),H.call(R,Number(I[1]),Number(I[2])-1,Number(I[3]));const we=Number(I[4]||0)-T,lt=Number(I[5]||0)-P,en=Number(I[6]||0),an=Math.floor(1e3*parseFloat("0."+(I[7]||0)));return de.call(R,we,lt,en,an),R}(P)}const R=new Date(I);if(!ln(R))throw new Error(`Unable to convert "${I}" into a date`);return R}(I);R=Sn(T,R)||R;let lt,we=[];for(;R;){if(lt=Bn.exec(R),!lt){we.push(R);break}{we=we.concat(lt.slice(1));const Xt=we.pop();if(!Xt)break;R=Xt}}let en=H.getTimezoneOffset();P&&(en=te(P,en),H=function re(I,R,T){const P=T?-1:1,H=I.getTimezoneOffset();return function Oe(I,R){return(I=new Date(I.getTime())).setMinutes(I.getMinutes()+R),I}(I,P*(te(R,H)-H))}(H,P,!0));let an="";return we.forEach(Xt=>{const Qt=function z(I){if(Z[I])return Z[I];let R;switch(I){case"G":case"GG":case"GGG":R=un(It.Eras,ie.Abbreviated);break;case"GGGG":R=un(It.Eras,ie.Wide);break;case"GGGGG":R=un(It.Eras,ie.Narrow);break;case"y":R=sn(St.FullYear,1,0,!1,!0);break;case"yy":R=sn(St.FullYear,2,0,!0,!0);break;case"yyy":R=sn(St.FullYear,3,0,!1,!0);break;case"yyyy":R=sn(St.FullYear,4,0,!1,!0);break;case"Y":R=Wt(1);break;case"YY":R=Wt(2,!0);break;case"YYY":R=Wt(3);break;case"YYYY":R=Wt(4);break;case"M":case"L":R=sn(St.Month,1,1);break;case"MM":case"LL":R=sn(St.Month,2,1);break;case"MMM":R=un(It.Months,ie.Abbreviated);break;case"MMMM":R=un(It.Months,ie.Wide);break;case"MMMMM":R=un(It.Months,ie.Narrow);break;case"LLL":R=un(It.Months,ie.Abbreviated,ee.Standalone);break;case"LLLL":R=un(It.Months,ie.Wide,ee.Standalone);break;case"LLLLL":R=un(It.Months,ie.Narrow,ee.Standalone);break;case"w":R=Ot(1);break;case"ww":R=Ot(2);break;case"W":R=Ot(1,!0);break;case"d":R=sn(St.Date,1);break;case"dd":R=sn(St.Date,2);break;case"c":case"cc":R=sn(St.Day,1);break;case"ccc":R=un(It.Days,ie.Abbreviated,ee.Standalone);break;case"cccc":R=un(It.Days,ie.Wide,ee.Standalone);break;case"ccccc":R=un(It.Days,ie.Narrow,ee.Standalone);break;case"cccccc":R=un(It.Days,ie.Short,ee.Standalone);break;case"E":case"EE":case"EEE":R=un(It.Days,ie.Abbreviated);break;case"EEEE":R=un(It.Days,ie.Wide);break;case"EEEEE":R=un(It.Days,ie.Narrow);break;case"EEEEEE":R=un(It.Days,ie.Short);break;case"a":case"aa":case"aaa":R=un(It.DayPeriods,ie.Abbreviated);break;case"aaaa":R=un(It.DayPeriods,ie.Wide);break;case"aaaaa":R=un(It.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":R=un(It.DayPeriods,ie.Abbreviated,ee.Standalone,!0);break;case"bbbb":R=un(It.DayPeriods,ie.Wide,ee.Standalone,!0);break;case"bbbbb":R=un(It.DayPeriods,ie.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":R=un(It.DayPeriods,ie.Abbreviated,ee.Format,!0);break;case"BBBB":R=un(It.DayPeriods,ie.Wide,ee.Format,!0);break;case"BBBBB":R=un(It.DayPeriods,ie.Narrow,ee.Format,!0);break;case"h":R=sn(St.Hours,1,-12);break;case"hh":R=sn(St.Hours,2,-12);break;case"H":R=sn(St.Hours,1);break;case"HH":R=sn(St.Hours,2);break;case"m":R=sn(St.Minutes,1);break;case"mm":R=sn(St.Minutes,2);break;case"s":R=sn(St.Seconds,1);break;case"ss":R=sn(St.Seconds,2);break;case"S":R=sn(St.FractionalSeconds,1);break;case"SS":R=sn(St.FractionalSeconds,2);break;case"SSS":R=sn(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":R=Pr($t.Short);break;case"ZZZZZ":R=Pr($t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":R=Pr($t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":R=Pr($t.Long);break;default:return null}return Z[I]=R,R}(Xt);an+=Qt?Qt(H,T,en):"''"===Xt?"'":Xt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),an}function mr(I,R,T){const P=new Date(0);return P.setFullYear(I,R,T),P.setHours(0,0,0),P}function Sn(I,R){const T=We(I);if(Wn[T]=Wn[T]||{},Wn[T][R])return Wn[T][R];let P="";switch(R){case"shortDate":P=nn(I,pe.Short);break;case"mediumDate":P=nn(I,pe.Medium);break;case"longDate":P=nn(I,pe.Long);break;case"fullDate":P=nn(I,pe.Full);break;case"shortTime":P=rn(I,pe.Short);break;case"mediumTime":P=rn(I,pe.Medium);break;case"longTime":P=rn(I,pe.Long);break;case"fullTime":P=rn(I,pe.Full);break;case"short":const H=Sn(I,"shortTime"),de=Sn(I,"shortDate");P=ni(Er(I,pe.Short),[H,de]);break;case"medium":const we=Sn(I,"mediumTime"),lt=Sn(I,"mediumDate");P=ni(Er(I,pe.Medium),[we,lt]);break;case"long":const en=Sn(I,"longTime"),an=Sn(I,"longDate");P=ni(Er(I,pe.Long),[en,an]);break;case"full":const Xt=Sn(I,"fullTime"),Qt=Sn(I,"fullDate");P=ni(Er(I,pe.Full),[Xt,Qt])}return P&&(Wn[T][R]=P),P}function ni(I,R){return R&&(I=I.replace(/\{([^}]+)}/g,function(T,P){return null!=R&&P in R?R[P]:T})),I}function Vt(I,R,T="-",P,H){let de="";(I<0||H&&I<=0)&&(H?I=1-I:(I=-I,de=T));let we=String(I);for(;we.length<R;)we="0"+we;return P&&(we=we.slice(we.length-R)),de+we}function sn(I,R,T=0,P=!1,H=!1){return function(de,we){let lt=function Qi(I,R){switch(I){case St.FullYear:return R.getFullYear();case St.Month:return R.getMonth();case St.Date:return R.getDate();case St.Hours:return R.getHours();case St.Minutes:return R.getMinutes();case St.Seconds:return R.getSeconds();case St.FractionalSeconds:return R.getMilliseconds();case St.Day:return R.getDay();default:throw new Error(`Unknown DateType value "${I}".`)}}(I,de);if((T>0||lt>-T)&&(lt+=T),I===St.Hours)0===lt&&-12===T&&(lt=12);else if(I===St.FractionalSeconds)return function Ni(I,R){return Vt(I,3).substring(0,R)}(lt,R);const en=Ut(we,ue.MinusSign);return Vt(lt,R,en,P,H)}}function un(I,R,T=ee.Format,P=!1){return function(H,de){return function _r(I,R,T,P,H,de){switch(T){case It.Months:return zt(R,H,P)[I.getMonth()];case It.Days:return tn(R,H,P)[I.getDay()];case It.DayPeriods:const we=I.getHours(),lt=I.getMinutes();if(de){const an=kr(R),Xt=ei(R,H,P),Qt=an.findIndex(ar=>{if(Array.isArray(ar)){const[dn,Rn]=ar,yi=we>=dn.hours&&lt>=dn.minutes,Fi=we<Rn.hours||we===Rn.hours&&lt<Rn.minutes;if(dn.hours<Rn.hours){if(yi&&Fi)return!0}else if(yi||Fi)return!0}else if(ar.hours===we&&ar.minutes===lt)return!0;return!1});if(-1!==Qt)return Xt[Qt]}return bt(R,H,P)[we<12?0:1];case It.Eras:return it(R,P)[I.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${T}`)}}(H,de,I,R,T,P)}}function Pr(I){return function(R,T,P){const H=-1*P,de=Ut(T,ue.MinusSign),we=H>0?Math.floor(H/60):Math.ceil(H/60);switch(I){case $t.Short:return(H>=0?"+":"")+Vt(we,2,de)+Vt(Math.abs(H%60),2,de);case $t.ShortGMT:return"GMT"+(H>=0?"+":"")+Vt(we,1,de);case $t.Long:return"GMT"+(H>=0?"+":"")+Vt(we,2,de)+":"+Vt(Math.abs(H%60),2,de);case $t.Extended:return 0===P?"Z":(H>=0?"+":"")+Vt(we,2,de)+":"+Vt(Math.abs(H%60),2,de);default:throw new Error(`Unknown zone width "${I}"`)}}}function Pt(I){return mr(I.getFullYear(),I.getMonth(),I.getDate()+(4-I.getDay()))}function Ot(I,R=!1){return function(T,P){let H;if(R){const de=new Date(T.getFullYear(),T.getMonth(),1).getDay()-1,we=T.getDate();H=1+Math.floor((we+de)/7)}else{const de=Pt(T),we=function pt(I){const R=mr(I,0,1).getDay();return mr(I,0,1+(R<=4?4:11)-R)}(de.getFullYear()),lt=de.getTime()-we.getTime();H=1+Math.round(lt/6048e5)}return Vt(H,I,Ut(P,ue.MinusSign))}}function Wt(I,R=!1){return function(T,P){return Vt(Pt(T).getFullYear(),I,Ut(P,ue.MinusSign),R)}}const Z={};function te(I,R){I=I.replace(/:/g,"");const T=Date.parse("Jan 01, 1970 00:00:00 "+I)/6e4;return isNaN(T)?R:T}function ln(I){return I instanceof Date&&!isNaN(I.valueOf())}const An=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function bn(I,R,T,P,H,de,we=!1){let lt="",en=!1;if(isFinite(I)){let an=function So(I){let P,H,de,we,lt,R=Math.abs(I)+"",T=0;for((H=R.indexOf("."))>-1&&(R=R.replace(".","")),(de=R.search(/e/i))>0?(H<0&&(H=de),H+=+R.slice(de+1),R=R.substring(0,de)):H<0&&(H=R.length),de=0;"0"===R.charAt(de);de++);if(de===(lt=R.length))P=[0],H=1;else{for(lt--;"0"===R.charAt(lt);)lt--;for(H-=de,P=[],we=0;de<=lt;de++,we++)P[we]=Number(R.charAt(de))}return H>22&&(P=P.splice(0,21),T=H-1,H=1),{digits:P,exponent:T,integerLen:H}}(I);we&&(an=function yn(I){if(0===I.digits[0])return I;const R=I.digits.length-I.integerLen;return I.exponent?I.exponent+=2:(0===R?I.digits.push(0,0):1===R&&I.digits.push(0),I.integerLen+=2),I}(an));let Xt=R.minInt,Qt=R.minFrac,ar=R.maxFrac;if(de){const Is=de.match(An);if(null===Is)throw new Error(`${de} is not a valid digit info`);const li=Is[1],Li=Is[3],Es=Is[5];null!=li&&(Xt=ir(li)),null!=Li&&(Qt=ir(Li)),null!=Es?ar=ir(Es):null!=Li&&Qt>ar&&(ar=Qt)}!function ut(I,R,T){if(R>T)throw new Error(`The minimum number of digits after fraction (${R}) is higher than the maximum (${T}).`);let P=I.digits,H=P.length-I.integerLen;const de=Math.min(Math.max(R,H),T);let we=de+I.integerLen,lt=P[we];if(we>0){P.splice(Math.max(I.integerLen,we));for(let Qt=we;Qt<P.length;Qt++)P[Qt]=0}else{H=Math.max(0,H),I.integerLen=1,P.length=Math.max(1,we=de+1),P[0]=0;for(let Qt=1;Qt<we;Qt++)P[Qt]=0}if(lt>=5)if(we-1<0){for(let Qt=0;Qt>we;Qt--)P.unshift(0),I.integerLen++;P.unshift(1),I.integerLen++}else P[we-1]++;for(;H<Math.max(0,de);H++)P.push(0);let en=0!==de;const an=R+I.integerLen,Xt=P.reduceRight(function(Qt,ar,dn,Rn){return Rn[dn]=(ar+=Qt)<10?ar:ar-10,en&&(0===Rn[dn]&&dn>=an?Rn.pop():en=!1),ar>=10?1:0},0);Xt&&(P.unshift(Xt),I.integerLen++)}(an,Qt,ar);let dn=an.digits,Rn=an.integerLen;const yi=an.exponent;let Fi=[];for(en=dn.every(Is=>!Is);Rn<Xt;Rn++)dn.unshift(0);for(;Rn<0;Rn++)dn.unshift(0);Rn>0?Fi=dn.splice(Rn,dn.length):(Fi=dn,dn=[0]);const es=[];for(dn.length>=R.lgSize&&es.unshift(dn.splice(-R.lgSize,dn.length).join(""));dn.length>R.gSize;)es.unshift(dn.splice(-R.gSize,dn.length).join(""));dn.length&&es.unshift(dn.join("")),lt=es.join(Ut(T,P)),Fi.length&&(lt+=Ut(T,H)+Fi.join("")),yi&&(lt+=Ut(T,ue.Exponential)+"+"+yi)}else lt=Ut(T,ue.Infinity);return lt=I<0&&!en?R.negPre+lt+R.negSuf:R.posPre+lt+R.posSuf,lt}function _s(I,R,T,P,H){const we=_n(vn(R,K.Currency),Ut(R,ue.MinusSign));return we.minFrac=ti(P),we.maxFrac=we.minFrac,bn(I,we,R,ue.CurrencyGroup,ue.CurrencyDecimal,H).replace("\xa4",T).replace("\xa4","").trim()}function Mi(I,R,T){return bn(I,_n(vn(R,K.Percent),Ut(R,ue.MinusSign)),R,ue.Group,ue.Decimal,T,!0).replace(new RegExp("%","g"),Ut(R,ue.PercentSign))}function vt(I,R,T){return bn(I,_n(vn(R,K.Decimal),Ut(R,ue.MinusSign)),R,ue.Group,ue.Decimal,T)}function _n(I,R="-"){const T={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},P=I.split(";"),H=P[0],de=P[1],we=-1!==H.indexOf(".")?H.split("."):[H.substring(0,H.lastIndexOf("0")+1),H.substring(H.lastIndexOf("0")+1)],lt=we[0],en=we[1]||"";T.posPre=lt.substring(0,lt.indexOf("#"));for(let Xt=0;Xt<en.length;Xt++){const Qt=en.charAt(Xt);"0"===Qt?T.minFrac=T.maxFrac=Xt+1:"#"===Qt?T.maxFrac=Xt+1:T.posSuf+=Qt}const an=lt.split(",");if(T.gSize=an[1]?an[1].length:0,T.lgSize=an[2]||an[1]?(an[2]||an[1]).length:0,de){const Xt=H.length-T.posPre.length-T.posSuf.length,Qt=de.indexOf("#");T.negPre=de.substring(0,Qt).replace(/'/g,""),T.negSuf=de.slice(Qt+Xt).replace(/'/g,"")}else T.negPre=R+T.posPre,T.negSuf=T.posSuf;return T}function ir(I){const R=parseInt(I);if(isNaN(R))throw new Error("Invalid integer literal when parsing "+I);return R}let ri=(()=>{class I{}return I.\u0275fac=function(T){return new(T||I)},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:function(T){let P=null;return T?P=new T:(H=C.\u0275\u0275inject(C.LOCALE_ID),P=new Jn(H)),P;var H},providedIn:"root"}),I})();function ii(I,R,T,P){let H=`=${I}`;if(R.indexOf(H)>-1||(H=T.getPluralCategory(I,P),R.indexOf(H)>-1))return H;if(R.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${I}"`)}let Jn=(()=>{class I extends ri{constructor(T){super(),this.locale=T}getPluralCategory(T,P){switch(Rs(P||this.locale)(T)){case Te.Zero:return"zero";case Te.One:return"one";case Te.Two:return"two";case Te.Few:return"few";case Te.Many:return"many";default:return"other"}}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275inject(C.LOCALE_ID))},I.\u0275prov=C.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac}),I})();function Xn(I,R,T){return(0,C.\u0275registerLocaleData)(I,R,T)}function zn(I,R){R=encodeURIComponent(R);for(const T of I.split(";")){const P=T.indexOf("="),[H,de]=-1==P?[T,""]:[T.slice(0,P),T.slice(P+1)];if(H.trim()===R)return decodeURIComponent(de)}return null}let Cn=(()=>{class I{constructor(T,P,H,de){this._iterableDiffers=T,this._keyValueDiffers=P,this._ngEl=H,this._renderer=de,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(T){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof T?T.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(T){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof T?T.split(/\s+/):T,this._rawClass&&((0,C.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const T=this._iterableDiffer.diff(this._rawClass);T&&this._applyIterableChanges(T)}else if(this._keyValueDiffer){const T=this._keyValueDiffer.diff(this._rawClass);T&&this._applyKeyValueChanges(T)}}_applyKeyValueChanges(T){T.forEachAddedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachChangedItem(P=>this._toggleClass(P.key,P.currentValue)),T.forEachRemovedItem(P=>{P.previousValue&&this._toggleClass(P.key,!1)})}_applyIterableChanges(T){T.forEachAddedItem(P=>{if("string"!=typeof P.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,C.\u0275stringify)(P.item)}`);this._toggleClass(P.item,!0)}),T.forEachRemovedItem(P=>this._toggleClass(P.item,!1))}_applyClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!0)):Object.keys(T).forEach(P=>this._toggleClass(P,!!T[P])))}_removeClasses(T){T&&(Array.isArray(T)||T instanceof Set?T.forEach(P=>this._toggleClass(P,!1)):Object.keys(T).forEach(P=>this._toggleClass(P,!1)))}_toggleClass(T,P){(T=T.trim())&&T.split(/\s+/g).forEach(H=>{P?this._renderer.addClass(this._ngEl.nativeElement,H):this._renderer.removeClass(this._ngEl.nativeElement,H)})}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.IterableDiffers),C.\u0275\u0275directiveInject(C.KeyValueDiffers),C.\u0275\u0275directiveInject(C.ElementRef),C.\u0275\u0275directiveInject(C.Renderer2))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),I})(),tl=(()=>{class I{constructor(T){this._viewContainerRef=T,this.ngComponentOutlet=null}ngOnChanges(T){const{_viewContainerRef:P,ngComponentOutletNgModule:H,ngComponentOutletNgModuleFactory:de}=this;if(P.clear(),this._componentRef=void 0,this.ngComponentOutlet){const we=this.ngComponentOutletInjector||P.parentInjector;(T.ngComponentOutletNgModule||T.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=H?(0,C.createNgModule)(H,Ae(we)):de?de.create(Ae(we)):void 0),this._componentRef=P.createComponent(this.ngComponentOutlet,{index:P.length,injector:we,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ViewContainerRef))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[C.\u0275\u0275NgOnChangesFeature]}),I})();function Ae(I){return I.get(C.NgModuleRef).injector}class ys{constructor(R,T,P,H){this.$implicit=R,this.ngForOf=T,this.index=P,this.count=H}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fr=(()=>{class I{constructor(T,P,H){this._viewContainer=T,this._template=P,this._differs=H,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const P=this._viewContainer;T.forEachOperation((H,de,we)=>{if(null==H.previousIndex)P.createEmbeddedView(this._template,new ys(H.item,this._ngForOf,-1,-1),null===we?void 0:we);else if(null==we)P.remove(null===de?void 0:de);else if(null!==de){const lt=P.get(de);P.move(lt,we),qt(lt,H)}});for(let H=0,de=P.length;H<de;H++){const lt=P.get(H).context;lt.index=H,lt.count=de,lt.ngForOf=this._ngForOf}T.forEachIdentityChange(H=>{qt(P.get(H.currentIndex),H)})}static ngTemplateContextGuard(T,P){return!0}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(C.IterableDiffers))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),I})();function qt(I,R){I.context.$implicit=R.item}let xn=(()=>{class I{constructor(T,P){this._viewContainer=T,this._context=new _t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){sr("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){sr("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,P){return!0}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),I})();class _t{constructor(){this.$implicit=null,this.ngIf=null}}function sr(I,R){if(R&&!R.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,C.\u0275stringify)(R)}'.`)}class Dt{constructor(R,T){this._viewContainerRef=R,this._templateRef=T,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(R){R&&!this._created?this.create():!R&&this._created&&this.destroy()}}let Os=(()=>{class I{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(T){this._ngSwitch=T,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(T){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(T)}_matchCase(T){const P=T==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||P,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),P}_updateDefaultCases(T){if(this._defaultViews&&T!==this._defaultUsed){this._defaultUsed=T;for(let P=0;P<this._defaultViews.length;P++)this._defaultViews[P].enforceState(T)}}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),I})(),vs=(()=>{class I{constructor(T,P,H){this.ngSwitch=H,H._addCase(),this._view=new Dt(T,P)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(Os,9))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),I})(),ks=(()=>{class I{constructor(T,P,H){H._addDefault(new Dt(T,P))}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(Os,9))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngSwitchDefault",""]],standalone:!0}),I})(),nl=(()=>{class I{constructor(T){this._localization=T,this._caseViews={}}set ngPlural(T){this._switchValue=T,this._updateView()}addCase(T,P){this._caseViews[T]=P}_updateView(){this._clearViews();const T=Object.keys(this._caseViews),P=ii(this._switchValue,T,this._localization);this._activateView(this._caseViews[P])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(T){T&&(this._activeView=T,this._activeView.create())}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(ri))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0}),I})(),Ql=(()=>{class I{constructor(T,P,H,de){this.value=T;const we=!isNaN(Number(T));de.addCase(we?`=${T}`:T,new Dt(H,P))}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275injectAttribute("ngPluralCase"),C.\u0275\u0275directiveInject(C.TemplateRef),C.\u0275\u0275directiveInject(C.ViewContainerRef),C.\u0275\u0275directiveInject(nl,1))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngPluralCase",""]],standalone:!0}),I})(),Gc=(()=>{class I{constructor(T,P,H){this._ngEl=T,this._differs=P,this._renderer=H,this._ngStyle=null,this._differ=null}set ngStyle(T){this._ngStyle=T,!this._differ&&T&&(this._differ=this._differs.find(T).create())}ngDoCheck(){if(this._differ){const T=this._differ.diff(this._ngStyle);T&&this._applyChanges(T)}}_setStyle(T,P){const[H,de]=T.split("."),we=-1===H.indexOf("-")?void 0:C.RendererStyleFlags2.DashCase;null!=P?this._renderer.setStyle(this._ngEl.nativeElement,H,de?`${P}${de}`:P,we):this._renderer.removeStyle(this._ngEl.nativeElement,H,we)}_applyChanges(T){T.forEachRemovedItem(P=>this._setStyle(P.key,null)),T.forEachAddedItem(P=>this._setStyle(P.key,P.currentValue)),T.forEachChangedItem(P=>this._setStyle(P.key,P.currentValue))}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ElementRef),C.\u0275\u0275directiveInject(C.KeyValueDiffers),C.\u0275\u0275directiveInject(C.Renderer2))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),I})(),rl=(()=>{class I{constructor(T){this._viewContainerRef=T,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(T){if(T.ngTemplateOutlet||T.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:H,ngTemplateOutletContext:de,ngTemplateOutletInjector:we}=this;this._viewRef=P.createEmbeddedView(H,de,we?{injector:we}:void 0)}else this._viewRef=null}else this._viewRef&&T.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ViewContainerRef))},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[C.\u0275\u0275NgOnChangesFeature]}),I})();function qn(I,R){return new C.\u0275RuntimeError(2100,!1)}class ur{createSubscription(R,T){return R.subscribe({next:T,error:P=>{throw P}})}dispose(R){R.unsubscribe()}}class qs{createSubscription(R,T){return R.then(T,P=>{throw P})}dispose(R){}}const bs=new qs,$u=new ur;let ua=(()=>{class I{constructor(T){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=T}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(T){return this._obj?T!==this._obj?(this._dispose(),this.transform(T)):this._latestValue:(T&&this._subscribe(T),this._latestValue)}_subscribe(T){this._obj=T,this._strategy=this._selectStrategy(T),this._subscription=this._strategy.createSubscription(T,P=>this._updateLatestValue(T,P))}_selectStrategy(T){if((0,C.\u0275isPromise)(T))return bs;if((0,C.\u0275isSubscribable)(T))return $u;throw qn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(T,P){T===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.ChangeDetectorRef,16))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"async",type:I,pure:!1,standalone:!0}),I})(),da=(()=>{class I{transform(T){if(null==T)return null;if("string"!=typeof T)throw qn();return T.toLowerCase()}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275pipe=C.\u0275\u0275definePipe({name:"lowercase",type:I,pure:!0,standalone:!0}),I})();const Ln=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Hu=(()=>{class I{transform(T){if(null==T)return null;if("string"!=typeof T)throw qn();return T.replace(Ln,P=>P[0].toUpperCase()+P.slice(1).toLowerCase())}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275pipe=C.\u0275\u0275definePipe({name:"titlecase",type:I,pure:!0,standalone:!0}),I})(),Ao=(()=>{class I{transform(T){if(null==T)return null;if("string"!=typeof T)throw qn();return T.toUpperCase()}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275pipe=C.\u0275\u0275definePipe({name:"uppercase",type:I,pure:!0,standalone:!0}),I})();const Wc=new C.InjectionToken("DATE_PIPE_DEFAULT_TIMEZONE");let Yl=(()=>{class I{constructor(T,P){this.locale=T,this.defaultTimezone=P}transform(T,P="mediumDate",H,de){if(null==T||""===T||T!=T)return null;try{return mn(T,P,de||this.locale,H??this.defaultTimezone??void 0)}catch(we){throw qn()}}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16),C.\u0275\u0275directiveInject(Wc,24))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"date",type:I,pure:!0,standalone:!0}),I})();const ha=/#/g;let dr=(()=>{class I{constructor(T){this._localization=T}transform(T,P,H){if(null==T)return"";if("object"!=typeof P||null===P)throw qn();return P[ii(T,Object.keys(P),this._localization,H)].replace(ha,T.toString())}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(ri,16))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"i18nPlural",type:I,pure:!0,standalone:!0}),I})(),fa=(()=>{class I{transform(T,P){if(null==T)return"";if("object"!=typeof P||"string"!=typeof T)throw qn();return P.hasOwnProperty(T)?P[T]:P.hasOwnProperty("other")?P.other:""}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275pipe=C.\u0275\u0275definePipe({name:"i18nSelect",type:I,pure:!0,standalone:!0}),I})(),Jl=(()=>{class I{transform(T){return JSON.stringify(T,null,2)}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275pipe=C.\u0275\u0275definePipe({name:"json",type:I,pure:!1,standalone:!0}),I})(),Ks=(()=>{class I{constructor(T){this.differs=T,this.keyValues=[],this.compareFn=Ri}transform(T,P=Ri){if(!T||!(T instanceof Map)&&"object"!=typeof T)return null;this.differ||(this.differ=this.differs.find(T).create());const H=this.differ.diff(T),de=P!==this.compareFn;return H&&(this.keyValues=[],H.forEachItem(we=>{this.keyValues.push(function il(I,R){return{key:I,value:R}}(we.key,we.currentValue))})),(H||de)&&(this.keyValues.sort(P),this.compareFn=P),this.keyValues}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.KeyValueDiffers,16))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"keyvalue",type:I,pure:!1,standalone:!0}),I})();function Ri(I,R){const T=I.key,P=R.key;if(T===P)return 0;if(void 0===T)return 1;if(void 0===P)return-1;if(null===T)return 1;if(null===P)return-1;if("string"==typeof T&&"string"==typeof P)return T<P?-1:1;if("number"==typeof T&&"number"==typeof P)return T-P;if("boolean"==typeof T&&"boolean"==typeof P)return T<P?-1:1;const H=String(T),de=String(P);return H==de?0:H<de?-1:1}let oi=(()=>{class I{constructor(T){this._locale=T}transform(T,P,H){if(!No(T))return null;H=H||this._locale;try{return vt(Zs(T),H,P)}catch(de){throw qn()}}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"number",type:I,pure:!0,standalone:!0}),I})(),Oi=(()=>{class I{constructor(T){this._locale=T}transform(T,P,H){if(!No(T))return null;H=H||this._locale;try{return Mi(Zs(T),H,P)}catch(de){throw qn()}}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"percent",type:I,pure:!0,standalone:!0}),I})(),Ps=(()=>{class I{constructor(T,P="USD"){this._locale=T,this._defaultCurrencyCode=P}transform(T,P=this._defaultCurrencyCode,H="symbol",de,we){if(!No(T))return null;we=we||this._locale,"boolean"==typeof H&&(H=H?"symbol":"code");let lt=P||this._defaultCurrencyCode;"code"!==H&&(lt="symbol"===H||"symbol-narrow"===H?gs(lt,"symbol"===H?"wide":"narrow",we):H);try{return _s(Zs(T),we,lt,P,de)}catch(en){throw qn()}}}return I.\u0275fac=function(T){return new(T||I)(C.\u0275\u0275directiveInject(C.LOCALE_ID,16),C.\u0275\u0275directiveInject(C.DEFAULT_CURRENCY_CODE,16))},I.\u0275pipe=C.\u0275\u0275definePipe({name:"currency",type:I,pure:!0,standalone:!0}),I})();function No(I){return!(null==I||""===I||I!=I)}function Zs(I){if("string"==typeof I&&!isNaN(Number(I)-parseFloat(I)))return Number(I);if("number"!=typeof I)throw new Error(`${I} is not a number`);return I}let Mo=(()=>{class I{transform(T,P,H){if(null==T)return null;if(!this.supports(T))throw qn();return T.slice(P,H)}supports(T){return"string"==typeof T||Array.isArray(T)}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275pipe=C.\u0275\u0275definePipe({name:"slice",type:I,pure:!1,standalone:!0}),I})(),Qs=(()=>{class I{}return I.\u0275fac=function(T){return new(T||I)},I.\u0275mod=C.\u0275\u0275defineNgModule({type:I}),I.\u0275inj=C.\u0275\u0275defineInjector({}),I})();const Ds="browser",ai="server",Sr="browserWorkerApp",Fs="browserWorkerUi";function ec(I){return I===Ds}function or(I){return I===ai}function zc(I){return I===Sr}function xo(I){return I===Fs}const Un=new C.Version("14.2.8");let sl=(()=>{class I{}return I.\u0275prov=(0,C.\u0275\u0275defineInjectable)({token:I,providedIn:"root",factory:()=>new ol((0,C.\u0275\u0275inject)(be),window)}),I})();class ol{constructor(R,T){this.document=R,this.window=T,this.offset=()=>[0,0]}setOffset(R){this.offset=Array.isArray(R)?()=>R:R}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(R){this.supportsScrolling()&&this.window.scrollTo(R[0],R[1])}scrollToAnchor(R){if(!this.supportsScrolling())return;const T=function Vr(I,R){const T=I.getElementById(R)||I.getElementsByName(R)[0];if(T)return T;if("function"==typeof I.createTreeWalker&&I.body&&(I.body.createShadowRoot||I.body.attachShadow)){const P=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let H=P.currentNode;for(;H;){const de=H.shadowRoot;if(de){const we=de.getElementById(R)||de.querySelector(`[name="${R}"]`);if(we)return we}H=P.nextNode()}}return null}(this.document,R);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(R){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=R)}}scrollToElement(R){const T=R.getBoundingClientRect(),P=T.left+this.window.pageXOffset,H=T.top+this.window.pageYOffset,de=this.offset();this.window.scrollTo(P-de[0],H-de[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const R=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!R||!R.writable&&!R.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(I){return Object.getOwnPropertyDescriptor(I,"scrollRestoration")}class Ro{setOffset(R){}getScrollPosition(){return[0,0]}scrollToPosition(R){}scrollToAnchor(R){}setHistoryScrollRestoration(R){}}class Ys{}function jn(I){return I.startsWith("/")?I.slice(1):I}const Xs=new C.InjectionToken("PRECONNECT_CHECK_BLOCKLIST"),al=I=>I.src,eo=new C.InjectionToken("ImageLoader",{providedIn:"root",factory:()=>al});function ki(I,R){return function(P,H={ensurePreconnect:!0}){return function gi(I){if("string"!=typeof I||""===I.trim())return!1;try{return new URL(I),!0}catch{return!1}}(P)||function ko(I,R){throw new C.\u0275RuntimeError(2959,!1)}(),P=function pa(I){return I.endsWith("/")?I.slice(0,-1):I}(P),[{provide:eo,useValue:lt=>(function ws(I){return/^https?:\/\//.test(I)}(lt.src)&&function Vn(I,R){throw new C.\u0275RuntimeError(2959,!1)}(),I(P,{...lt,src:jn(lt.src)}))}]}}const Ne=ki(Kt);function Kt(I,R){let T="format=auto";return R.width&&(T+=`,width=${R.width}`),`${I}/cdn-cgi/image/${T}/${R.src}`}const to=ki(ll);function ll(I,R){let T="f_auto,q_auto";return R.width&&(T+=`,w_${R.width}`),`${I}/image/upload/${T}/${R.src}`}const $n=ki(ga);function ga(I,R){let T="tr:q-auto";return R.width&&(T+=`,w-${R.width}`),`${I}/${T}/${R.src}`}const no=ki(mi);function mi(I,R){const T=new URL(`${I}/${R.src}`);return T.searchParams.set("auto","format"),R.width&&T.searchParams.set("w",R.width.toString()),T.href}const Fo=/^((\s*\d+w\s*(,|$)){1,})$/;let Cs=(()=>{class I{constructor(){this.imageLoader=(0,C.inject)(eo),this.renderer=(0,C.inject)(C.Renderer2),this.imgElement=(0,C.inject)(C.ElementRef).nativeElement,this.injector=(0,C.inject)(C.Injector),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1}set rawSrc(T){}set width(T){this._width=Pi(T)}get width(){return this._width}set height(T){this._height=Pi(T)}get height(){return this._height}set priority(T){this._priority=function ya(I){return null!=I&&"false"!=`${I}`}(T)}get priority(){return this._priority}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString()),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("src",this.getRewrittenSrc()),this.ngSrcset&&this.setHostAttribute("srcset",this.getRewrittenSrcset())}ngOnChanges(T){}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.imageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const T=Fo.test(this.ngSrcset);return this.ngSrcset.split(",").filter(H=>""!==H).map(H=>{H=H.trim();const de=T?parseFloat(H):parseFloat(H)*this.width;return`${this.imageLoader({src:this.ngSrc,width:de})} ${H}`}).join(", ")}ngOnDestroy(){}setHostAttribute(T,P){this.renderer.setAttribute(this.imgElement,T,P)}}return I.\u0275fac=function(T){return new(T||I)},I.\u0275dir=C.\u0275\u0275defineDirective({type:I,selectors:[["img","ngSrc",""],["img","rawSrc",""]],inputs:{rawSrc:"rawSrc",ngSrc:"ngSrc",ngSrcset:"ngSrcset",width:"width",height:"height",loading:"loading",priority:"priority",src:"src",srcset:"srcset"},standalone:!0,features:[C.\u0275\u0275NgOnChangesFeature]}),I})();function Pi(I){return"string"==typeof I?parseInt(I,10):I}},4650:(yt,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>ef,ANIMATION_MODULE_TYPE:()=>HE,APP_BOOTSTRAP_LISTENER:()=>v0,APP_ID:()=>n_,APP_INITIALIZER:()=>IC,ApplicationInitStatus:()=>jp,ApplicationModule:()=>aT,ApplicationRef:()=>u_,Attribute:()=>Ts,COMPILER_OPTIONS:()=>NC,CUSTOM_ELEMENTS_SCHEMA:()=>Nt,ChangeDetectionStrategy:()=>Bn,ChangeDetectorRef:()=>O0,Compiler:()=>D0,CompilerFactory:()=>zE,Component:()=>_0,ComponentFactory:()=>As,ComponentFactoryResolver:()=>Cc,ComponentRef:()=>nh,ContentChild:()=>nf,ContentChildren:()=>tf,DEFAULT_CURRENCY_CODE:()=>WE,DebugElement:()=>Vd,DebugEventListener:()=>h_,DebugNode:()=>Ld,DefaultIterableDiffer:()=>m_,Directive:()=>vC,ENVIRONMENT_INITIALIZER:()=>du,ElementRef:()=>f,EmbeddedViewRef:()=>k0,EnvironmentInjector:()=>os,ErrorHandler:()=>ah,EventEmitter:()=>Qa,Host:()=>ze,HostBinding:()=>wC,HostListener:()=>BE,INJECTOR:()=>wc,Inject:()=>Se,InjectFlags:()=>ot,Injectable:()=>a1,InjectionToken:()=>Dn,Injector:()=>ta,Input:()=>bC,IterableDiffers:()=>$0,KeyValueDiffers:()=>qp,LOCALE_ID:()=>$p,MissingTranslationStrategy:()=>hi,ModuleWithComponentFactories:()=>AC,NO_ERRORS_SCHEMA:()=>Cr,NgModule:()=>CC,NgModuleFactory:()=>zm,NgModuleRef:()=>xd,NgProbeToken:()=>PC,NgZone:()=>Ya,Optional:()=>Ze,Output:()=>DC,PACKAGE_ROOT_URL:()=>$E,PLATFORM_ID:()=>jE,PLATFORM_INITIALIZER:()=>TC,Pipe:()=>VE,PlatformRef:()=>VC,Query:()=>Ia,QueryList:()=>Op,ReflectiveInjector:()=>ph,ReflectiveKey:()=>bo,Renderer2:()=>L,RendererFactory2:()=>x,RendererStyleFlags2:()=>Hs,ResolvedReflectiveFactory:()=>Vf,Sanitizer:()=>Ce,SecurityContext:()=>tr,Self:()=>Et,SimpleChange:()=>oi,SkipSelf:()=>Fe,TRANSLATIONS:()=>SC,TRANSLATIONS_FORMAT:()=>Pd,TemplateRef:()=>Od,Testability:()=>kC,TestabilityRegistry:()=>T0,Type:()=>ts,VERSION:()=>gt,Version:()=>Ke,ViewChild:()=>rf,ViewChildren:()=>Qu,ViewContainerRef:()=>Vh,ViewEncapsulation:()=>It,ViewRef:()=>$C,asNativeElements:()=>Wh,assertPlatform:()=>ds,createComponent:()=>nA,createEnvironmentInjector:()=>Ap,createNgModule:()=>Bv,createNgModuleRef:()=>qm,createPlatform:()=>a_,createPlatformFactory:()=>x0,defineInjectable:()=>Er,destroyPlatform:()=>LC,enableProdMode:()=>qS,forwardRef:()=>q,getDebugNode:()=>zh,getModuleFactory:()=>KS,getNgModuleById:()=>ZS,getPlatform:()=>R0,importProvidersFrom:()=>yf,inject:()=>S,isDevMode:()=>zS,platformCore:()=>YS,reflectComponentType:()=>cT,resolveForwardRef:()=>X,setTestabilityGetter:()=>S0,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>s_,\u0275APP_ID_RANDOM_PROVIDER:()=>UE,\u0275ChangeDetectorStatus:()=>$t,\u0275ComponentFactory:()=>As,\u0275Console:()=>GE,\u0275DEFAULT_LOCALE_ID:()=>ku,\u0275INJECTOR_SCOPE:()=>Al,\u0275LContext:()=>W_,\u0275LifecycleHooksFeature:()=>pm,\u0275LocaleDataIndex:()=>Ft,\u0275NG_COMP_DEF:()=>Ni,\u0275NG_DIR_DEF:()=>sn,\u0275NG_ELEMENT_ID:()=>Pr,\u0275NG_INJ_DEF:()=>kr,\u0275NG_MOD_DEF:()=>un,\u0275NG_PIPE_DEF:()=>Qi,\u0275NG_PROV_DEF:()=>pi,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>xt,\u0275NO_CHANGE:()=>Gt,\u0275NgModuleFactory:()=>jv,\u0275NoopNgZone:()=>I0,\u0275ReflectionCapabilities:()=>Kd,\u0275Render3ComponentFactory:()=>wu,\u0275Render3ComponentRef:()=>fm,\u0275Render3NgModuleRef:()=>Uv,\u0275RuntimeError:()=>ce,\u0275TESTABILITY:()=>Hp,\u0275TESTABILITY_GETTER:()=>E0,\u0275ViewRef:()=>ja,\u0275_sanitizeHtml:()=>Il,\u0275_sanitizeUrl:()=>ed,\u0275allowSanitizationBypassAndThrow:()=>lu,\u0275bypassSanitizationTrustHtml:()=>Pa,\u0275bypassSanitizationTrustResourceUrl:()=>ff,\u0275bypassSanitizationTrustScript:()=>mc,\u0275bypassSanitizationTrustStyle:()=>L_,\u0275bypassSanitizationTrustUrl:()=>bg,\u0275clearResolutionOfComponentResourcesQueue:()=>ou,\u0275coerceToBoolean:()=>Kp,\u0275compileComponent:()=>uC,\u0275compileDirective:()=>dC,\u0275compileNgModule:()=>RE,\u0275compileNgModuleDefs:()=>sC,\u0275compileNgModuleFactory:()=>o_,\u0275compilePipe:()=>Bp,\u0275createInjector:()=>dy,\u0275defaultIterableDiffers:()=>H0,\u0275defaultKeyValueDiffers:()=>oT,\u0275detectChanges:()=>BD,\u0275devModeEqual:()=>ym,\u0275findLocaleData:()=>Id,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>xE,\u0275formatRuntimeError:()=>Ge,\u0275getDebugNode:()=>zh,\u0275getDebugNodeR2:()=>QS,\u0275getDirectives:()=>_E,\u0275getHostElement:()=>Rw,\u0275getInjectableDef:()=>vn,\u0275getLContext:()=>ji,\u0275getLocaleCurrencyCode:()=>Ou,\u0275getLocalePluralCase:()=>lw,\u0275getSanitizationBypassType:()=>gc,\u0275getUnknownElementStrictMode:()=>Ag,\u0275getUnknownPropertyStrictMode:()=>Ml,\u0275global:()=>mn,\u0275injectChangeDetectorRef:()=>jC,\u0275internalCreateApplication:()=>FC,\u0275isBoundToModule:()=>N0,\u0275isDefaultChangeDetectionStrategy:()=>St,\u0275isInjectable:()=>ps,\u0275isListLikeIterable:()=>vd,\u0275isObservable:()=>tv,\u0275isPromise:()=>Xy,\u0275isStandalone:()=>ln,\u0275isSubscribable:()=>ev,\u0275ivyEnabled:()=>Bd,\u0275makeDecorator:()=>Di,\u0275noSideEffects:()=>Wn,\u0275patchComponentDefWithScope:()=>lC,\u0275publishDefaultGlobalUtils:()=>Fu,\u0275publishGlobalUtil:()=>Io,\u0275registerLocaleData:()=>aw,\u0275resetCompiledComponents:()=>c0,\u0275resetJitOptions:()=>rC,\u0275resolveComponentResources:()=>_o,\u0275setAllowDuplicateNgModuleIdsForTest:()=>hn,\u0275setClassMetadata:()=>kw,\u0275setCurrentInjector:()=>mo,\u0275setDocument:()=>fr,\u0275setLocaleId:()=>Bm,\u0275setUnknownElementStrictMode:()=>rh,\u0275setUnknownPropertyStrictMode:()=>Ic,\u0275store:()=>vm,\u0275stringify:()=>ye,\u0275transitiveScopesFor:()=>kd,\u0275unregisterLocaleData:()=>G1,\u0275unwrapSafeValue:()=>br,\u0275\u0275CopyDefinitionFeature:()=>LD,\u0275\u0275FactoryTarget:()=>yr,\u0275\u0275InheritDefinitionFeature:()=>gm,\u0275\u0275NgOnChangesFeature:()=>Oi,\u0275\u0275ProvidersFeature:()=>Ka,\u0275\u0275StandaloneFeature:()=>fE,\u0275\u0275advance:()=>cy,\u0275\u0275attribute:()=>Xf,\u0275\u0275attributeInterpolate1:()=>Wy,\u0275\u0275attributeInterpolate2:()=>ep,\u0275\u0275attributeInterpolate3:()=>Ga,\u0275\u0275attributeInterpolate4:()=>tp,\u0275\u0275attributeInterpolate5:()=>zy,\u0275\u0275attributeInterpolate6:()=>np,\u0275\u0275attributeInterpolate7:()=>qy,\u0275\u0275attributeInterpolate8:()=>Ky,\u0275\u0275attributeInterpolateV:()=>rp,\u0275\u0275classMap:()=>Mm,\u0275\u0275classMapInterpolate1:()=>$l,\u0275\u0275classMapInterpolate2:()=>$1,\u0275\u0275classMapInterpolate3:()=>Mu,\u0275\u0275classMapInterpolate4:()=>hp,\u0275\u0275classMapInterpolate5:()=>tw,\u0275\u0275classMapInterpolate6:()=>nw,\u0275\u0275classMapInterpolate7:()=>Cv,\u0275\u0275classMapInterpolate8:()=>Iv,\u0275\u0275classMapInterpolateV:()=>fp,\u0275\u0275classProp:()=>dp,\u0275\u0275contentQuery:()=>Jw,\u0275\u0275defineComponent:()=>Be,\u0275\u0275defineDirective:()=>te,\u0275\u0275defineInjectable:()=>rn,\u0275\u0275defineInjector:()=>Ut,\u0275\u0275defineNgModule:()=>Wt,\u0275\u0275definePipe:()=>Oe,\u0275\u0275directiveInject:()=>gh,\u0275\u0275disableBindings:()=>Vn,\u0275\u0275element:()=>Yy,\u0275\u0275elementContainer:()=>op,\u0275\u0275elementContainerEnd:()=>Th,\u0275\u0275elementContainerStart:()=>wm,\u0275\u0275elementEnd:()=>Dm,\u0275\u0275elementStart:()=>sp,\u0275\u0275enableBindings:()=>ko,\u0275\u0275getCurrentView:()=>Cm,\u0275\u0275getInheritedFactory:()=>tu,\u0275\u0275hostProperty:()=>Mh,\u0275\u0275i18n:()=>ca,\u0275\u0275i18nApply:()=>Sw,\u0275\u0275i18nAttributes:()=>zr,\u0275\u0275i18nEnd:()=>kh,\u0275\u0275i18nExp:()=>Lv,\u0275\u0275i18nPostprocess:()=>Aw,\u0275\u0275i18nStart:()=>Fv,\u0275\u0275inject:()=>hr,\u0275\u0275injectAttribute:()=>Zu,\u0275\u0275invalidFactory:()=>Bf,\u0275\u0275invalidFactoryDep:()=>Ju,\u0275\u0275listener:()=>nv,\u0275\u0275loadQuery:()=>Xw,\u0275\u0275namespaceHTML:()=>an,\u0275\u0275namespaceMathML:()=>en,\u0275\u0275namespaceSVG:()=>lt,\u0275\u0275nextContext:()=>lp,\u0275\u0275ngDeclareClassMetadata:()=>YC,\u0275\u0275ngDeclareComponent:()=>JC,\u0275\u0275ngDeclareDirective:()=>QC,\u0275\u0275ngDeclareFactory:()=>JS,\u0275\u0275ngDeclareInjectable:()=>XC,\u0275\u0275ngDeclareInjector:()=>XS,\u0275\u0275ngDeclareNgModule:()=>eA,\u0275\u0275ngDeclarePipe:()=>tA,\u0275\u0275pipe:()=>Hw,\u0275\u0275pipeBind1:()=>Fh,\u0275\u0275pipeBind2:()=>qv,\u0275\u0275pipeBind3:()=>xp,\u0275\u0275pipeBind4:()=>Kv,\u0275\u0275pipeBindV:()=>Gw,\u0275\u0275projection:()=>lv,\u0275\u0275projectionDef:()=>av,\u0275\u0275property:()=>ip,\u0275\u0275propertyInterpolate:()=>Im,\u0275\u0275propertyInterpolate1:()=>Au,\u0275\u0275propertyInterpolate2:()=>Em,\u0275\u0275propertyInterpolate3:()=>Qn,\u0275\u0275propertyInterpolate4:()=>Si,\u0275\u0275propertyInterpolate5:()=>ia,\u0275\u0275propertyInterpolate6:()=>Tm,\u0275\u0275propertyInterpolate7:()=>cv,\u0275\u0275propertyInterpolate8:()=>Sh,\u0275\u0275propertyInterpolateV:()=>Sm,\u0275\u0275pureFunction0:()=>Pw,\u0275\u0275pureFunction1:()=>Fw,\u0275\u0275pureFunction2:()=>Wv,\u0275\u0275pureFunction3:()=>Lw,\u0275\u0275pureFunction4:()=>Vw,\u0275\u0275pureFunction5:()=>Bw,\u0275\u0275pureFunction6:()=>Uw,\u0275\u0275pureFunction7:()=>cs,\u0275\u0275pureFunction8:()=>Np,\u0275\u0275pureFunctionV:()=>zv,\u0275\u0275queryRefresh:()=>Qw,\u0275\u0275reference:()=>jD,\u0275\u0275registerNgModuleType:()=>Gn,\u0275\u0275resetView:()=>ll,\u0275\u0275resolveBody:()=>q_,\u0275\u0275resolveDocument:()=>Nf,\u0275\u0275resolveWindow:()=>dh,\u0275\u0275restoreView:()=>to,\u0275\u0275sanitizeHtml:()=>yo,\u0275\u0275sanitizeResourceUrl:()=>Xo,\u0275\u0275sanitizeScript:()=>Xd,\u0275\u0275sanitizeStyle:()=>vo,\u0275\u0275sanitizeUrl:()=>yc,\u0275\u0275sanitizeUrlOrResourceUrl:()=>th,\u0275\u0275setComponentScope:()=>pt,\u0275\u0275setNgModuleScope:()=>Z,\u0275\u0275styleMap:()=>sa,\u0275\u0275styleMapInterpolate1:()=>rw,\u0275\u0275styleMapInterpolate2:()=>xu,\u0275\u0275styleMapInterpolate3:()=>pp,\u0275\u0275styleMapInterpolate4:()=>Nh,\u0275\u0275styleMapInterpolate5:()=>Ev,\u0275\u0275styleMapInterpolate6:()=>km,\u0275\u0275styleMapInterpolate7:()=>iw,\u0275\u0275styleMapInterpolate8:()=>sw,\u0275\u0275styleMapInterpolateV:()=>ow,\u0275\u0275styleProp:()=>up,\u0275\u0275stylePropInterpolate1:()=>gp,\u0275\u0275stylePropInterpolate2:()=>mp,\u0275\u0275stylePropInterpolate3:()=>Pm,\u0275\u0275stylePropInterpolate4:()=>Rc,\u0275\u0275stylePropInterpolate5:()=>Fm,\u0275\u0275stylePropInterpolate6:()=>Lm,\u0275\u0275stylePropInterpolate7:()=>_p,\u0275\u0275stylePropInterpolate8:()=>yp,\u0275\u0275stylePropInterpolateV:()=>Tv,\u0275\u0275syntheticHostListener:()=>ap,\u0275\u0275syntheticHostProperty:()=>xh,\u0275\u0275template:()=>UD,\u0275\u0275templateRefExtractor:()=>Jm,\u0275\u0275text:()=>XD,\u0275\u0275textInterpolate:()=>xm,\u0275\u0275textInterpolate1:()=>Rm,\u0275\u0275textInterpolate2:()=>yv,\u0275\u0275textInterpolate3:()=>vv,\u0275\u0275textInterpolate4:()=>bv,\u0275\u0275textInterpolate5:()=>ew,\u0275\u0275textInterpolate6:()=>Dv,\u0275\u0275textInterpolate7:()=>wv,\u0275\u0275textInterpolate8:()=>Om,\u0275\u0275textInterpolateV:()=>oa,\u0275\u0275trustConstantHtml:()=>vc,\u0275\u0275trustConstantResourceUrl:()=>eh,\u0275\u0275viewQuery:()=>Yw});var C=V(7579),u=V(727),B=V(9751),le=V(6451),se=V(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function be(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ve(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=ge({__forward_ref__:ge});function q(s){return s.__forward_ref__=q,s.toString=function(){return ye(this())},s}function X(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===q}class ce extends Error{constructor(o,a){super(Ge(o,a)),this.code=o}}function Ge(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}function Me(s,o){throw new ce(-201,!1)}function it(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}const Er=rn;function Ut(s){return{providers:s.providers||[],imports:s.imports||[]}}function vn(s){return Jr(s,pi)||Jr(s,ei)}function ps(s){return null!==vn(s)}function Jr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Rs(s){return s&&(s.hasOwnProperty(kr)||s.hasOwnProperty(zs))?s[kr]:null}const pi=ge({\u0275prov:ge}),kr=ge({\u0275inj:ge}),ei=ge({ngInjectableDef:ge}),zs=ge({ngInjectorDef:ge});var ot=(()=>((ot=ot||{})[ot.Default=0]="Default",ot[ot.Host=1]="Host",ot[ot.Self=2]="Self",ot[ot.SkipSelf=4]="SkipSelf",ot[ot.Optional=8]="Optional",ot))();let Tr;function gr(s){const o=Tr;return Tr=s,o}function ti(s,o,a){const c=vn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ot.Optional?null:void 0!==o?o:void Me(ye(s))}function Wn(s){return{toString:s}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),$t=(()=>(($t=$t||{})[$t.CheckOnce=0]="CheckOnce",$t[$t.Checked=1]="Checked",$t[$t.CheckAlways=2]="CheckAlways",$t[$t.Detached=3]="Detached",$t[$t.Errored=4]="Errored",$t[$t.Destroyed=5]="Destroyed",$t))();function St(s){return null==s||s===Bn.Default}var It=(()=>{return(s=It||(It={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",It;var s})();const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},Vt=[],Ni=ge({\u0275cmp:ge}),sn=ge({\u0275dir:ge}),Qi=ge({\u0275pipe:ge}),un=ge({\u0275mod:ge}),_r=ge({\u0275fac:ge}),Pr=ge({__NG_ELEMENT_ID__:ge});let mt=0;function Be(s){return Wn(()=>{const a=!0===s.standalone,c={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||It.Emulated,id:"c"+mt++,styles:s.styles||Vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,v=s.features;return h.inputs=z(s.inputs,c),h.outputs=z(s.outputs),v&&v.forEach(D=>D(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Pt).filter(Ot):null,h.pipeDefs=p?()=>("function"==typeof p?p():p).map(Tt).filter(Ot):null,h})}function pt(s,o,a){const c=s.\u0275cmp;c.directiveDefs=()=>("function"==typeof o?o():o).map(Pt),c.pipeDefs=()=>("function"==typeof a?a():a).map(Tt)}function Pt(s){return re(s)||tt(s)}function Ot(s){return null!==s}function Wt(s){return Wn(()=>({type:s.type,bootstrap:s.bootstrap||Vt,declarations:s.declarations||Vt,imports:s.imports||Vt,exports:s.exports||Vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Z(s,o){return Wn(()=>{const a=An(s,!0);a.declarations=o.declarations||Vt,a.imports=o.imports||Vt,a.exports=o.exports||Vt})}function z(s,o){if(null==s)return ni;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=c,o&&(o[h]=p)}return a}const te=Be;function Oe(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function re(s){return s[Ni]||null}function tt(s){return s[sn]||null}function Tt(s){return s[Qi]||null}function ln(s){const o=re(s)||tt(s)||Tt(s);return null!==o&&o.standalone}function An(s,o){const a=s[un]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function sr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Dt(s){return Array.isArray(s)&&!0===s[1]}function Os(s){return 0!=(8&s.flags)}function vs(s){return 2==(2&s.flags)}function ks(s){return 1==(1&s.flags)}function Lr(s){return null!==s.template}function nl(s){return 0!=(256&s[2])}function Ri(s,o){return s.hasOwnProperty(_r)?s[_r]:null}class oi{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Oi(){return Ps}function Ps(s){return s.type.prototype.ngOnChanges&&(s.setInput=Zs),No}function No(){const s=Xl(this),o=s?.current;if(o){const a=s.previous;if(a===ni)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Zs(s,o,a,c){const h=Xl(s)||function Qs(s,o){return s[Mo]=o}(s,{previous:ni,current:null}),p=h.current||(h.current={}),v=h.previous,D=this.declaredInputs[a],E=v[D];p[D]=new oi(E&&E.currentValue,o,v===ni),s[c]=o}Oi.ngInherit=!0;const Mo="__ngSimpleChanges__";function Xl(s){return s[Mo]||null}let Ds=null;const ai=s=>{Ds=s},Sr=function(s,o,a){Ds?.(s,o,a)};function Un(s){for(;Array.isArray(s);)s=s[0];return s}function Kr(s,o){return Un(o[s])}function Vr(s,o){return Un(o[s.index])}function Ys(s,o){return s.data[o]}function Zr(s,o){return s[o]}function Yt(s,o){const a=o[s];return sr(a)?a:a[0]}function ws(s){return 64==(64&s[2])}function gi(s,o){return null==o?null:s[o]}function pa(s){s[18]=0}function jn(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const kt={lFrame:Vo(null),bindingsEnabled:!0};function ki(){return kt.bindingsEnabled}function ko(){kt.bindingsEnabled=!0}function Vn(){kt.bindingsEnabled=!1}function Ne(){return kt.lFrame.lView}function Kt(){return kt.lFrame.tView}function to(s){return kt.lFrame.contextLView=s,s[8]}function ll(s){return kt.lFrame.contextLView=null,s}function $n(){let s=ga();for(;null!==s&&64===s.type;)s=s.parent;return s}function ga(){return kt.lFrame.currentTNode}function no(){const s=kt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function mi(s,o){const a=kt.lFrame;a.currentTNode=s,a.isParent=o}function Po(){return kt.lFrame.isParent}function Ls(){kt.lFrame.isParent=!1}function Pn(){const s=kt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function _i(){return kt.lFrame.bindingIndex}function _a(s){return kt.lFrame.bindingIndex=s}function Cs(){return kt.lFrame.bindingIndex++}function Pi(s){const o=kt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Lo(s){kt.lFrame.inI18n=s}function Gu(s,o){const a=kt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ro(o)}function ro(s){kt.lFrame.currentDirectiveIndex=s}function va(s){const o=kt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function ic(){return kt.lFrame.currentQueryIndex}function Ji(s){kt.lFrame.currentQueryIndex=s}function sc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ul(s,o,a){if(a&ot.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&ot.Host||(h=sc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const c=kt.lFrame=dl();return c.currentTNode=o,c.lView=s,!0}function Xi(s){const o=dl(),a=s[1];kt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function dl(){const s=kt.lFrame,o=null===s?null:s.child;return null===o?Vo(s):o}function Vo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function hl(){const s=kt.lFrame;return kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const I=hl;function R(){const s=hl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function H(){return kt.lFrame.selectedIndex}function de(s){kt.lFrame.selectedIndex=s}function we(){const s=kt.lFrame;return Ys(s.tView,s.selectedIndex)}function lt(){kt.lFrame.currentNamespace="svg"}function en(){kt.lFrame.currentNamespace="math"}function an(){!function Xt(){kt.lFrame.currentNamespace=null}()}function dn(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:M,ngOnDestroy:F}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),D&&((s.contentHooks||(s.contentHooks=[])).push(a,D),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,D)),E&&(s.viewHooks||(s.viewHooks=[])).push(-a,E),M&&((s.viewHooks||(s.viewHooks=[])).push(a,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,M)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(a,F)}}function Rn(s,o,a){es(s,o,3,a)}function yi(s,o,a,c){(3&s[2])===a&&es(s,o,a,c)}function Fi(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function es(s,o,a,c){const p=c??-1,v=o.length-1;let D=0;for(let E=void 0!==c?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(D=o[E],null!=c&&D>=c)break}else o[E]<0&&(s[18]+=65536),(D<p||-1==p)&&(Is(s,a,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Is(s,o,a,c){const h=a[c]<0,p=a[c+1],D=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048,Sr(4,D,p);try{p.call(D)}finally{Sr(5,D,p)}}}else{Sr(4,D,p);try{p.call(D)}finally{Sr(5,D,p)}}}class Li{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Vs(s,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const p=a[c++],v=a[c++],D=a[c++];s.setAttribute(o,v,D,p)}else{const p=h,v=a[++c];Wu(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),c++}}return c}function io(s){return 3===s||4===s||6===s}function Wu(s){return 64===s.charCodeAt(0)}function Kc(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||zu(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function zu(s,o,a,c,h){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const D=s[p++];if("number"==typeof D){if(D===o){v=-1;break}if(D>o){v=p-1;break}}}for(;p<s.length;){const D=s[p];if("number"==typeof D)break;if(D===a){if(null===c)return void(null!==h&&(s[p+1]=h));if(c===s[p+1])return void(s[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==h&&s.splice(p++,0,h)}function qu(s){return-1!==s}function Br(s){return 32767&s}function Vi(s,o){let a=function Bs(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Bi=!0;function Uo(s){const o=Bi;return Bi=s,o}let Kn=0;const Qr={};function jo(s,o){const a=Ku(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,cc(c.data,s),cc(o,null),cc(c.blueprint,null));const h=Qc(s,o),p=s.injectorIndex;if(qu(h)){const v=Br(h),D=Vi(h,o),E=D[1].data;for(let M=0;M<8;M++)o[p+M]=D[v+M]|E[v+M]}return o[p+8]=h,p}function cc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ku(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Qc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=gl(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Da(s,o,a){!function Zc(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Pr)&&(c=a[Pr]),null==c&&(c=a[Pr]=Kn++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function vi(s,o,a){if(a&ot.Optional||void 0!==s)return s;Me()}function Yc(s,o,a,c){if(a&ot.Optional&&void 0===c&&(c=null),0==(a&(ot.Self|ot.Host))){const h=s[9],p=gr(void 0);try{return h?h.get(o,c,a&ot.Optional):ti(o,c,a&ot.Optional)}finally{gr(p)}}return vi(c,0,a)}function so(s,o,a,c=ot.Default,h){if(null!==s){if(1024&o[2]){const v=function Ca(s,o,a,c,h){let p=s,v=o;for(;null!==p&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=fl(p,v,a,c|ot.Self,Qr);if(D!==Qr)return D;let E=p.parent;if(!E){const M=v[21];if(M){const F=M.get(a,Qr,c);if(F!==Qr)return F}E=gl(v),v=v[15]}p=E}return h}(s,o,a,c,Qr);if(v!==Qr)return v}const p=fl(s,o,a,c,Qr);if(p!==Qr)return p}return Yc(o,a,c,h)}function fl(s,o,a,c,h){const p=function Jc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Pr)?s[Pr]:void 0;return"number"==typeof o?o>=0?255&o:eu:o}(a);if("function"==typeof p){if(!ul(o,s,c))return c&ot.Host?vi(h,0,c):Yc(o,a,c,h);try{const v=p(c);if(null!=v||c&ot.Optional)return v;Me()}finally{I()}}else if("number"==typeof p){let v=null,D=Ku(s,o),E=-1,M=c&ot.Host?o[16][6]:null;for((-1===D||c&ot.SkipSelf)&&(E=-1===D?Qc(s,o):o[D+8],-1!==E&&wa(c,!1)?(v=o[1],D=Br(E),o=Vi(E,o)):D=-1);-1!==D;){const F=o[1];if(Xc(p,D,F.data)){const U=$o(D,o,a,v,c,M);if(U!==Qr)return U}E=o[D+8],-1!==E&&wa(c,o[1].data[D+8]===M)&&Xc(p,D,o)?(v=F,D=Br(E),o=Vi(E,o)):D=-1}}return h}function $o(s,o,a,c,h,p){const v=o[1],D=v.data[s+8],F=pl(D,v,a,null==c?vs(D)&&Bi:c!=v&&0!=(3&D.type),h&ot.Host&&p===D);return null!==F?Ho(o,v,F,D):Qr}function pl(s,o,a,c,h){const p=s.providerIndexes,v=o.data,D=1048575&p,E=s.directiveStart,F=p>>20,Y=h?D+F:s.directiveEnd;for(let oe=c?D:D+F;oe<Y;oe++){const Re=v[oe];if(oe<E&&a===Re||oe>=E&&Re.type===a)return oe}if(h){const oe=v[E];if(oe&&Lr(oe)&&oe.type===a)return E}return null}function Ho(s,o,a,c){let h=s[a];const p=o.data;if(function Es(s){return s instanceof Li}(h)){const v=h;v.resolving&&function Ye(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ce(-200,`Circular dependency in DI detected for ${s}${a}`)}(fe(p[a]));const D=Uo(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?gr(v.injectImpl):null;ul(s,c,ot.Default);try{h=s[a]=v.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function ar(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(c){const v=Ps(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==E&&gr(E),Uo(D),v.resolving=!1,I()}}return h}function Xc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function wa(s,o){return!(s&ot.Self||s&ot.Host&&o)}class oo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return so(this._tNode,this._lView,o,c,a)}}function eu(){return new oo($n(),Ne())}function tu(s){return Wn(()=>{const o=s.prototype.constructor,a=o[_r]||dc(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const p=h[_r]||dc(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function dc(s){return je(s)?()=>{const o=dc(X(s));return o&&o()}:Ri(s)}function gl(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Zu(s){return function uc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const p=a[h];if(io(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}($n(),s)}const bi="__annotations__",ao="__parameters__",Us="__prop__metadata__";function Di(s,o,a,c,h){return Wn(()=>{const p=Go(o);function v(...D){if(this instanceof v)return p.call(this,...D),this;const E=new v(...D);return function(F){return h&&h(F,...D),(F.hasOwnProperty(bi)?F[bi]:Object.defineProperty(F,bi,{value:[]})[bi]).push(E),c&&c(F),F}}return a&&(v.prototype=Object.create(a.prototype)),v.prototype.ngMetadataName=s,v.annotationCls=v,v})}function Go(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}function lo(s,o,a){return Wn(()=>{const c=Go(o);function h(...p){if(this instanceof h)return c.apply(this,p),this;const v=new h(...p);return D.annotation=v,D;function D(E,M,F){const U=E.hasOwnProperty(ao)?E[ao]:Object.defineProperty(E,ao,{value:[]})[ao];for(;U.length<=F;)U.push(null);return(U[F]=U[F]||[]).push(v),E}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function Ur(s,o,a,c){return Wn(()=>{const h=Go(o);function p(...v){if(this instanceof p)return h.apply(this,v),this;const D=new p(...v);return function E(M,F){const U=M.constructor,Y=U.hasOwnProperty(Us)?U[Us]:Object.defineProperty(U,Us,{value:{}})[Us];Y[F]=Y.hasOwnProperty(F)&&Y[F]||[],Y[F].unshift(D),c&&c(M,F,...v)}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}const Ts=lo("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>Zu(s)}));class Dn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=rn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ef=new Dn("AnalyzeForEntryComponents");class Ia{}const tf=Ur("ContentChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0,...o}),Ia),nf=Ur("ContentChild",(s,o={})=>({selector:s,first:!0,isViewQuery:!1,descendants:!0,...o}),Ia),Qu=Ur("ViewChildren",(s,o={})=>({selector:s,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0,...o}),Ia),rf=Ur("ViewChild",(s,o)=>({selector:s,first:!0,isViewQuery:!0,descendants:!0,...o}),Ia);var yr=(()=>((yr=yr||{})[yr.Directive=0]="Directive",yr[yr.Component=1]="Component",yr[yr.Injectable=2]="Injectable",yr[yr.Pipe=3]="Pipe",yr[yr.NgModule=4]="NgModule",yr))();function vr(s){const o=mn.ng;if(o&&o.\u0275compilerFacade)return o.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ts=Function;function Ea(s){return"function"==typeof s}function jr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),jr(c,o)):o!==s&&o.push(c)}return o}function ns(s,o){s.forEach(a=>Array.isArray(a)?ns(a,o):o(a))}function nu(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function co(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function uo(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function ci(s,o,a){let c=ho(s,o);return c>=0?s[1|c]=a:(c=~c,function ru(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Aa(s,o){const a=ho(s,o);if(a>=0)return s[1|a]}function ho(s,o){return function _l(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const p=c+(h-c>>1),v=s[p<<a];if(o===v)return p<<a;v>o?h=p:c=p+1}return~(h<<a)}(s,o,1)}const iu=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,fo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,yl=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,af=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Kd{constructor(o){this._reflect=o||mn.Reflect}factory(o){return(...a)=>new o(...a)}_zipTypesAndAnnotations(o,a){let c;c=uo(typeof o>"u"?a.length:o.length);for(let h=0;h<c.length;h++)c[h]=typeof o>"u"?[]:o[h]&&o[h]!=Object?[o[h]]:[],a&&null!=a[h]&&(c[h]=c[h].concat(a[h]));return c}_ownParameters(o,a){if(function Yu(s){return iu.test(s)||af.test(s)||fo.test(s)&&!yl.test(s)}(o.toString()))return null;if(o.parameters&&o.parameters!==a.parameters)return o.parameters;const h=o.ctorParameters;if(h&&h!==a.ctorParameters){const D="function"==typeof h?h():h,E=D.map(F=>F&&F.type),M=D.map(F=>F&&zo(F.decorators));return this._zipTypesAndAnnotations(E,M)}const p=o.hasOwnProperty(ao)&&o[ao],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",o);return v||p?this._zipTypesAndAnnotations(v,p):uo(o.length)}parameters(o){if(!Ea(o))return[];const a=Ar(o);let c=this._ownParameters(o,a);return!c&&a!==Object&&(c=this.parameters(a)),c||[]}_ownAnnotations(o,a){if(o.annotations&&o.annotations!==a.annotations){let c=o.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return o.decorators&&o.decorators!==a.decorators?zo(o.decorators):o.hasOwnProperty(bi)?o[bi]:null}annotations(o){if(!Ea(o))return[];const a=Ar(o),c=this._ownAnnotations(o,a)||[];return(a!==Object?this.annotations(a):[]).concat(c)}_ownPropMetadata(o,a){if(o.propMetadata&&o.propMetadata!==a.propMetadata){let c=o.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(o.propDecorators&&o.propDecorators!==a.propDecorators){const c=o.propDecorators,h={};return Object.keys(c).forEach(p=>{h[p]=zo(c[p])}),h}return o.hasOwnProperty(Us)?o[Us]:null}propMetadata(o){if(!Ea(o))return{};const a=Ar(o),c={};if(a!==Object){const p=this.propMetadata(a);Object.keys(p).forEach(v=>{c[v]=p[v]})}const h=this._ownPropMetadata(o,a);return h&&Object.keys(h).forEach(p=>{const v=[];c.hasOwnProperty(p)&&v.push(...c[p]),v.push(...h[p]),c[p]=v}),c}ownPropMetadata(o){return Ea(o)&&this._ownPropMetadata(o,Ar(o))||{}}hasLifecycleHook(o,a){return o instanceof ts&&a in o.prototype}}function zo(s){return s?s.map(o=>new(0,o.type.annotationCls)(...o.args?o.args:[])):[]}function Ar(s){const o=s.prototype?Object.getPrototypeOf(s.prototype):null;return(o?o.constructor:null)||Object}const wi={},qo="__NG_DI_FLAG__",su="ngTempTokenPath",fc=/\n/gm,lf="__source";let Ma;function mo(s){const o=Ma;return Ma=s,o}function pc(s,o=ot.Default){if(void 0===Ma)throw new ce(-203,!1);return null===Ma?ti(s,void 0,o):Ma.get(s,o&ot.Optional?null:void 0,o)}function hr(s,o=ot.Default){return(function gs(){return Tr}()||pc)(X(s),o)}function Ju(s){throw new ce(202,!1)}function S(s,o=ot.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),hr(s,o)}function A(s){const o=[];for(let a=0;a<s.length;a++){const c=X(s[a]);if(Array.isArray(c)){if(0===c.length)throw new ce(900,!1);let h,p=ot.Default;for(let v=0;v<c.length;v++){const D=c[v],E=$(D);"number"==typeof E?-1===E?h=D.token:p|=E:h=D}o.push(hr(h,p))}else o.push(hr(c))}return o}function O(s,o){return s[qo]=o,s.prototype[qo]=o,s}function $(s){return s[qo]}const Se=O(lo("Inject",s=>({token:s})),-1),Ze=O(lo("Optional"),8),Et=O(lo("Self"),2),Fe=O(lo("SkipSelf"),4),ze=O(lo("Host"),1);let Mt=null;function He(){return Mt=Mt||new Kd}function he(s){return Ve(He().parameters(s))}function Ve(s){return s.map(o=>function Hn(s){const o={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let a=0;a<s.length;a++){const c=s[a];if(void 0===c)continue;const h=Object.getPrototypeOf(c);if(c instanceof Ze||"Optional"===h.ngMetadataName)o.optional=!0;else if(c instanceof Fe||"SkipSelf"===h.ngMetadataName)o.skipSelf=!0;else if(c instanceof Et||"Self"===h.ngMetadataName)o.self=!0;else if(c instanceof ze||"Host"===h.ngMetadataName)o.host=!0;else if(c instanceof Se)o.token=c.token;else if(c instanceof Ts){if(void 0===c.attributeName)throw new ce(204,!1);o.attribute=c.attributeName}else o.token=c}else o.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return o}(o))}function _o(s){const o=[],a=new Map;function c(h){let p=a.get(h);if(!p){const v=s(h);a.set(h,p=v.then(P_))}return p}return bl.forEach((h,p)=>{const v=[];h.templateUrl&&v.push(c(h.templateUrl).then(U=>{h.template=U}));const D=h.styleUrls,E=h.styles||(h.styles=[]),M=h.styles.length;D&&D.forEach((U,Y)=>{E.push(""),v.push(c(U).then(oe=>{E[M+Y]=oe,D.splice(D.indexOf(U),1),0==D.length&&(h.styleUrls=void 0)}))});const F=Promise.all(v).then(()=>function cf(s){Ko.delete(s)}(p));o.push(F)}),ou(),Promise.all(o).then(()=>{})}let bl=new Map;const Ko=new Set;function Ra(s){return!!(s.templateUrl&&!s.hasOwnProperty("template")||s.styleUrls&&s.styleUrls.length)}function ou(){const s=bl;return bl=new Map,s}function P_(s){return"string"==typeof s?s:s.text()}const jt=new Map;let uf,Oa,ka,Zo=!0;function Gn(s,o){(function yg(s,o,a){if(o&&o!==a&&Zo)throw new Error(`Duplicate module registered for ${s} - ${ye(o)} vs ${ye(o.name)}`)})(o,jt.get(o)||null,s),jt.set(o,s)}function au(s){return jt.get(s)}function hn(s){Zo=!s}function fr(s){uf=s}function nt(){return void 0!==uf?uf:typeof document<"u"?document:void 0}function Xu(){if(void 0===Oa&&(Oa=null,mn.trustedTypes))try{Oa=mn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Oa}function js(s){return Xu()?.createHTML(s)||s}function Qd(){if(void 0===ka&&(ka=null,mn.trustedTypes))try{ka=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ka}function df(s){return Qd()?.createHTML(s)||s}function rs(s){return Qd()?.createScript(s)||s}function Yd(s){return Qd()?.createScriptURL(s)||s}class Qo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class vg extends Qo{getTypeName(){return"HTML"}}class Yo extends Qo{getTypeName(){return"Style"}}class hf extends Qo{getTypeName(){return"Script"}}class _e extends Qo{getTypeName(){return"URL"}}class Jd extends Qo{getTypeName(){return"ResourceURL"}}function br(s){return s instanceof Qo?s.changingThisBreaksApplicationSecurity:s}function lu(s,o){const a=gc(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function gc(s){return s instanceof Qo&&s.getTypeName()||null}function Pa(s){return new vg(s)}function L_(s){return new Yo(s)}function mc(s){return new hf(s)}function bg(s){return new _e(s)}function ff(s){return new Jd(s)}function Dg(s){const o=new is(s);return function V_(){try{return!!(new window.DOMParser).parseFromString(js(""),"text/html")}catch{return!1}}()?new wg(o):o}class wg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(js(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class is{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=js(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=js(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const v=a.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Ss=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ed(s){return(s=String(s)).match(Ss)?s:"unsafe:"+s}function Nn(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Jo(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Yr=Nn("area,br,col,hr,img,wbr"),En=Nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pf=Nn("rp,rt"),Dr=Jo(Yr,Jo(En,Nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jo(pf,Nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jo(pf,En)),nd=Nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wl=Jo(nd,Nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gf=Nn("script,style,template");class Cg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Dr.hasOwnProperty(a))return this.sanitizedSomething=!0,!gf.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const p=c.item(h),v=p.name,D=v.toLowerCase();if(!wl.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let E=p.value;nd[D]&&(E=ed(E)),this.buf.push(" ",v,'="',Fa(E),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Dr.hasOwnProperty(a)&&!Yr.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Fa(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const cu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mf=/([^\#-~ |!])/g;function Fa(s){return s.replace(/&/g,"&amp;").replace(cu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(mf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cl;function Il(s,o){let a=null;try{Cl=Cl||Dg(s);let c=o?String(o):"";a=Cl.getInertBodyElement(c);let h=5,p=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=p,p=a.innerHTML,a=Cl.getInertBodyElement(c)}while(c!==p);return js((new Cg).sanitizeChildren(uu(a)||a))}finally{if(a){const c=uu(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function uu(s){return"content"in s&&function El(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var tr=(()=>((tr=tr||{})[tr.NONE=0]="NONE",tr[tr.HTML=1]="HTML",tr[tr.STYLE=2]="STYLE",tr[tr.SCRIPT=3]="SCRIPT",tr[tr.URL=4]="URL",tr[tr.RESOURCE_URL=5]="RESOURCE_URL",tr))();function yo(s){const o=Dc();return o?df(o.sanitize(tr.HTML,s)||""):lu(s,"HTML")?df(br(s)):Il(nt(),me(s))}function vo(s){const o=Dc();return o?o.sanitize(tr.STYLE,s)||"":lu(s,"Style")?br(s):me(s)}function yc(s){const o=Dc();return o?o.sanitize(tr.URL,s)||"":lu(s,"URL")?br(s):ed(me(s))}function Xo(s){const o=Dc();if(o)return Yd(o.sanitize(tr.RESOURCE_URL,s)||"");if(lu(s,"ResourceURL"))return Yd(br(s));throw new ce(904,!1)}function Xd(s){const o=Dc();if(o)return rs(o.sanitize(tr.SCRIPT,s)||"");if(lu(s,"Script"))return rs(br(s));throw new ce(905,!1)}function vc(s){return js(s[0])}function eh(s){return function Zd(s){return Xu()?.createScriptURL(s)||s}(s[0])}function th(s,o,a){return function bc(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Xo:yc}(o,a)(s)}function Dc(){const s=Ne();return s&&s[12]}const du=new Dn("ENVIRONMENT_INITIALIZER"),wc=new Dn("INJECTOR",-1),_f=new Dn("INJECTOR_DEF_TYPES");class Ig{get(o,a=wi){if(a===wi){const c=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw c.name="NullInjectorError",c}return a}}function yf(...s){return{\u0275providers:rd(0,s)}}function rd(s,...o){const a=[],c=new Set;let h;return ns(o,p=>{const v=p;Nr(v,a,[],c)&&(h||(h=[]),h.push(v))}),void 0!==h&&id(h,a),a}function id(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];ns(h,p=>{o.push(p)})}}function Nr(s,o,a,c){if(!(s=X(s)))return!1;let h=null,p=Rs(s);const v=!p&&re(s);if(p||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(p=Rs(E),!p)return!1;h=E}const D=c.has(h);if(v){if(D)return!1;if(c.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const M of E)Nr(M,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!D){let M;c.add(h);try{ns(p.imports,F=>{Nr(F,o,a,c)&&(M||(M=[]),M.push(F))})}finally{}void 0!==M&&id(M,o)}if(!D){const M=Ri(h)||(()=>new h);o.push({provide:h,useFactory:M,deps:Vt},{provide:_f,useValue:h,multi:!0},{provide:du,useValue:()=>hr(h),multi:!0})}const E=p.providers;null==E||D||ns(E,F=>{o.push(F)})}}return h!==s&&void 0!==s.providers}const Fn=ge({provide:String,useValue:ge});function vf(s){return null!==s&&"object"==typeof s&&Fn in s}function Sl(s){return"function"==typeof s}const Al=new Dn("Set Injector scope."),La={},Eg={};let od;function Mr(){return void 0===od&&(od=new Ig),od}class os{}class bf extends os{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nl(o,v=>this.processProvider(v)),this.records.set(wc,$r(void 0,this)),h.has("environment")&&this.records.set(os,$r(void 0,this));const p=this.records.get(Al);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(_f.multi,Vt,ot.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=mo(this),c=gr(void 0);try{return o()}finally{mo(a),gr(c)}}get(o,a=wi,c=ot.Default){this.assertNotDestroyed();const h=mo(this),p=gr(void 0);try{if(!(c&ot.SkipSelf)){let D=this.records.get(o);if(void 0===D){const E=function hu(s){return"function"==typeof s||"object"==typeof s&&s instanceof Dn}(o)&&vn(o);D=E&&this.injectableDefInScope(E)?$r(Df(o),La):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(c&ot.Self?Mr():this.parent).get(o,a=c&ot.Optional&&a===wi?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[su]=v[su]||[]).unshift(ye(o)),h)throw v;return function ne(s,o,a,c){const h=s[su];throw o[lf]&&h.unshift(o[lf]),s.message=function W(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ye(o);if(Array.isArray(o))h=o.map(ye).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let D=o[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}h=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(fc,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[su]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{gr(p),mo(h)}}resolveInjectorInitializers(){const o=mo(this),a=gr(void 0);try{const c=this.get(du.multi,Vt,ot.Self);for(const h of c)h()}finally{mo(o),gr(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ye(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(o){let a=Sl(o=X(o))?o:X(o&&o.provide);const c=function j_(s){return vf(s)?$r(void 0,s.useValue):$r(wf(s),La)}(o);if(Sl(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=$r(void 0,La,!0),h.factory=()=>A(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===La&&(a.value=Eg,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ea(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=X(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Df(s){const o=vn(s),a=null!==o?o.factory:Ri(s);if(null!==a)return a;if(s instanceof Dn)throw new ce(204,!1);if(s instanceof Function)return function Tg(s){const o=s.length;if(o>0)throw uo(o,"?"),new ce(204,!1);const a=function qr(s){const o=s&&(s[pi]||s[ei]);if(o){const a=function Xr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ce(204,!1)}function wf(s,o,a){let c;if(Sl(s)){const h=X(s);return Ri(h)||Df(h)}if(vf(s))c=()=>X(s.useValue);else if(function $s(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...A(s.deps||[]));else if(function Ui(s){return!(!s||!s.useExisting)}(s))c=()=>hr(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function Cf(s){return!!s.deps}(s))return Ri(h)||Df(h);c=()=>new h(...A(s.deps))}return c}function $r(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Va(s){return!!s.\u0275providers}function Nl(s,o){for(const a of s)Array.isArray(a)?Nl(a,o):Va(a)?Nl(a.\u0275providers,o):o(a)}class nh{}class As{}class If{resolveComponentFactory(o){throw function Sg(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Cc=(()=>{class s{}return s.NULL=new If,s})();function Ef(){return y($n(),Ne())}function y(s,o){return new f(Vr(s,o))}let f=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Ef,s})();function m(s){return s instanceof f?s.nativeElement:s}class x{}let L=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function J(){const s=Ne(),a=Yt($n().index,s);return(sr(a)?a:s)[11]}(),s})(),Ce=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class Ke{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const gt=new Ke("14.2.8"),xt={},Nt={name:"custom-elements"},Cr={name:"no-errors-schema"};let Ci=!1;function rh(s){Ci=s}function Ag(){return Ci}let fu=!1;function Ic(s){fu=s}function Ml(){return fu}const nr="ngOriginalError";function oh(s){return s[nr]}class ah{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&oh(o);for(;a&&oh(a);)a=oh(a);return a||null}}const zI=/^>|^->|<!--|-->|--!>|<!-$/g,Sf=/(<|>)/;const Rg=new Map;let ch=0;function Hr(s){return Rg.get(s)||null}class W_{constructor(o,a,c){this.lViewId=o,this.nodeIndex=a,this.native=c}get lView(){return Hr(this.lViewId)}}function ji(s){let o=Sc(s);if(o){if(sr(o)){const a=o;let c,h,p;if(function kl(s){return s&&s.constructor&&s.constructor.\u0275cmp}(s)){if(c=xb(a,s),-1==c)throw new Error("The provided component was not found in the application");h=s}else if(function Mb(s){return s&&s.constructor&&s.constructor.\u0275dir}(s)){if(c=function Jt(s,o){let a=s[1].firstChild;for(;a;){const h=a.directiveEnd;for(let p=a.directiveStart;p<h;p++)if(s[p]===o)return a.index;a=ZI(a)}return-1}(a,s),-1==c)throw new Error("The provided directive was not found in the application");p=Rb(c,a,!1)}else if(c=uh(a,s),-1==c)return null;const v=Un(a[c]),D=Sc(v),E=D&&!Array.isArray(D)?D:Ol(a,c,v);if(h&&void 0===E.component&&(E.component=h,$i(E.component,E)),p&&void 0===E.directives){E.directives=p;for(let M=0;M<p.length;M++)$i(p[M],E)}$i(E.native,E),o=E}}else{const a=s;let c=a;for(;c=c.parentNode;){const h=Sc(c);if(h){const p=Array.isArray(h)?h:h.lView;if(!p)return null;const v=uh(p,a);if(v>=0){const D=Un(p[v]),E=Ol(p,v,D);$i(D,E),o=E;break}}}}return o||null}function Ol(s,o,a){return new W_(s[20],o,a)}function Nb(s){let a,o=Sc(s);if(sr(o)){const c=o,h=xb(c,s);a=Yt(h,c);const p=Ol(c,h,a[0]);p.component=s,$i(s,p),$i(p.native,p)}else a=Yt(o.nodeIndex,o.lView);return a}const as="__ngContext__";function $i(s,o){sr(o)?(s[as]=o[20],function KI(s){Rg.set(s[20],s)}(o)):s[as]=o}function Sc(s){const o=s[as];return"number"==typeof o?Hr(o):o||null}function z_(s){const o=Sc(s);return o?sr(o)?o:o.lView:null}function uh(s,o){const a=s[1];for(let c=22;c<a.bindingStartIndex;c++)if(Un(s[c])===o)return c;return-1}function ZI(s){if(s.child)return s.child;if(s.next)return s.next;for(;s.parent&&!s.parent.next;)s=s.parent;return s.parent&&s.parent.next}function xb(s,o){const a=s[1].components;if(a)for(let c=0;c<a.length;c++){const h=a[c];if(Yt(h,s)[8]===o)return h}else if(Yt(22,s)[8]===o)return 22;return-1}function Rb(s,o,a){const c=o[1].data[s];let h=c.directiveStart;return 0==h?Vt:(!a&&2&c.flags&&h++,o.slice(h,c.directiveEnd))}function dh(s){return s.ownerDocument.defaultView}function Nf(s){return s.ownerDocument}function q_(s){return s.ownerDocument.body}function Pl(s){return s instanceof Function?s():s}var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();let kg;function K_(s,o){return kg(s,o)}function Ac(s){const o=s[3];return Dt(o)?o[3]:o}function Z_(s){return function Fl(s){let o=sr(s)?s:z_(s);for(;o&&!(256&o[2]);)o=Ac(o);return o}(s)[8]}function Fg(s){return Q_(s[13])}function ld(s){return Q_(s[4])}function Q_(s){for(;null!==s&&!Dt(s);)s=s[4];return s}function cd(s,o,a,c,h){if(null!=c){let p,v=!1;Dt(c)?p=c:sr(c)&&(v=!0,c=c[0]);const D=Un(c);0===s&&null!==a?null==h?$b(o,a,D):Gr(o,a,D,h||null,!0):1===s&&null!==a?Gr(o,a,D,h||null,!0):2===s?Zb(o,D,v):3===s&&o.destroyNode(D),null!=p&&function s1(s,o,a,c,h){const p=a[7];p!==Un(a)&&cd(o,s,c,p,h);for(let D=10;D<a.length;D++){const E=a[D];Rf(E[1],E,s,o,c,p)}}(o,s,p,a,h)}}function Y_(s,o){return s.createText(o)}function Fb(s,o,a){s.setValue(o,a)}function Mf(s,o){return s.createComment(function H_(s){return s.replace(zI,o=>o.replace(Sf,"\u200b$1\u200b"))}(o))}function xf(s,o,a){return s.createElement(o,a)}function Ub(s,o){const a=s[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,jn(h,-1)),a.splice(c,1)}function X_(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&Ub(h,c),o>0&&(s[a-1][4]=c[4]);const p=co(s,10+o);!function XI(s,o){Rf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function ud(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Rf(s,o,a,3,null,null),function Vb(s){let o=s[13];if(!o)return pu(s[1],s);for(;o;){let a=null;if(sr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)sr(o)&&pu(o[1],o),o=o[3];null===o&&(o=s),sr(o)&&pu(o[1],o),a=o&&o[4]}o=a}}(o)}}function pu(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function n1(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Li)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=h[p[v]],E=p[v+1];Sr(4,D,E);try{E.call(D)}finally{Sr(5,D,E)}}else{Sr(4,h,p);try{p.call(h)}finally{Sr(5,h,p)}}}}}(s,o),function t1(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],D="function"==typeof v?v(o):Un(o[v]),E=c[h=a[p+2]],M=a[p+3];"boolean"==typeof M?D.removeEventListener(a[p],E,M):M>=0?c[h=M]():c[h=-M].unsubscribe(),p+=2}else{const v=c[h=a[p+1]];a[p].call(v)}if(null!==c){for(let p=h+1;p<c.length;p++)(0,c[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Dt(o[3])){a!==o[3]&&Ub(a,o);const c=o[19];null!==c&&c.detachView(s)}!function wn(s){Rg.delete(s[20])}(o)}}function jb(s,o,a){return ey(s,o.parent,a)}function ey(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===It.None||h===It.Emulated)return null}return Vr(c,a)}function Gr(s,o,a,c,h){s.insertBefore(o,a,c,h)}function $b(s,o,a){s.appendChild(o,a)}function ty(s,o,a,c,h){null!==c?Gr(s,o,a,c,h):$b(s,o,a)}function dd(s,o){return s.parentNode(o)}function Gb(s,o,a){return zb(s,o,a)}function Wb(s,o,a){return 40&s.type?Vr(s,a):null}let ny,zb=Wb;function qb(s,o){zb=s,ny=o}function Lg(s,o,a,c){const h=jb(s,c,o),p=o[11],D=Gb(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let E=0;E<a.length;E++)ty(p,h,a[E],D,!1);else ty(p,h,a,D,!1);void 0!==ny&&ny(p,c,o,a,h)}function Vg(s,o){if(null!==o){const a=o.type;if(3&a)return Vr(o,s);if(4&a)return ry(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Vg(s,c);{const h=s[o.index];return Dt(h)?ry(-1,h):Un(h)}}if(32&a)return K_(o,s)()||Un(s[o.index]);{const c=Kb(s,o);return null!==c?Array.isArray(c)?c[0]:Vg(Ac(s[16]),c):Vg(s,o.next)}}return null}function Kb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function ry(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return Vg(c,h)}return o[7]}function Zb(s,o,a){const c=dd(s,o);c&&function Ll(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}function iy(s,o,a,c,h,p,v){for(;null!=a;){const D=c[a.index],E=a.type;if(v&&0===o&&(D&&$i(Un(D),c),a.flags|=4),64!=(64&a.flags))if(8&E)iy(s,o,a.child,c,h,p,!1),cd(o,s,h,D,p);else if(32&E){const M=K_(a,c);let F;for(;F=M();)cd(o,s,h,F,p);cd(o,s,h,D,p)}else 16&E?Qb(s,o,c,a,h,p):cd(o,s,h,D,p);a=v?a.projectionNext:a.next}}function Rf(s,o,a,c,h,p){iy(a,c,s.firstChild,o,h,p,!1)}function Qb(s,o,a,c,h,p){const v=a[16],E=v[6].projection[c.projection];if(Array.isArray(E))for(let M=0;M<E.length;M++)cd(o,s,h,E[M],p);else iy(s,o,E,v[3],h,p,!0)}function Jb(s,o,a){s.setAttribute(o,"style",a)}function Bg(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function sy(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===c||s.charCodeAt(h+p)<=32)return h}a=h+1}}const Ug="ng-template";function Ei(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==sy(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function jg(s){return 4===s.type&&s.value!==Ug}function oy(s,o,a){return o===(4!==s.type||a?s.value:Ug)}function ay(s,o,a){let c=4;const h=s.attrs||[],p=function $g(s){for(let o=0;o<s.length;o++)if(io(s[o]))return o;return s.length}(h);let v=!1;for(let D=0;D<o.length;D++){const E=o[D];if("number"!=typeof E){if(!v)if(4&c){if(c=2|1&c,""!==E&&!oy(s,E,a)||""===E&&1===o.length){if(Ti(c))return!1;v=!0}}else{const M=8&c?E:o[++D];if(8&c&&null!==s.attrs){if(!Ei(s.attrs,M,a)){if(Ti(c))return!1;v=!0}continue}const U=Xb(8&c?"class":E,h,jg(s),a);if(-1===U){if(Ti(c))return!1;v=!0;continue}if(""!==M){let Y;Y=U>p?"":h[U+1].toLowerCase();const oe=8&c?Y:null;if(oe&&-1!==sy(oe,M,0)||2&c&&M!==Y){if(Ti(c))return!1;v=!0}}}}else{if(!v&&!Ti(c)&&!Ti(E))return!1;if(v&&Ti(E))continue;v=!1,c=E|1&c}}return Ti(c)||v}function Ti(s){return 0==(1&s)}function Xb(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let p=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=o[++h];for(;"string"==typeof D;)D=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function hd(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function eD(s,o,a=!1){for(let c=0;c<o.length;c++)if(ay(s,o[c],a))return!0;return!1}function fd(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function gu(s,o){return s?":not("+o.trim()+")":o}function Of(s){let o=s[0],a=1,c=2,h="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&c){const D=s[++a];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Ti(v)&&(o+=gu(p,h),h=""),c=v,p=p||!Ti(c);a++}return""!==h&&(o+=gu(p,h)),o}const Gt={};function cy(s){uy(Kt(),Ne(),H()+s,!1)}function uy(s,o,a,c){if(!c)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Rn(o,p,a)}else{const p=s.preOrderHooks;null!==p&&yi(o,p,0,a)}de(a)}const rD={\u0275\u0275defineInjectable:rn,\u0275\u0275defineInjector:Ut,\u0275\u0275inject:hr,\u0275\u0275invalidFactoryDep:Ju,resolveForwardRef:X};const sD=ge({provide:String,useValue:ge});function kf(s){return void 0!==s.useClass}function mu(s){return void 0!==s.useFactory}const a1=Di("Injectable",void 0,void 0,void 0,(s,o)=>function iD(s,o){let a=null,c=null;s.hasOwnProperty(pi)||Object.defineProperty(s,pi,{get:()=>(null===a&&(a=vr().compileInjectable(rD,`ng:///${s.name}/\u0275prov.js`,function oD(s,o){const a=o||{providedIn:null},c={name:s.name,type:s,typeArgumentCount:0,providedIn:a.providedIn};return(kf(a)||mu(a))&&void 0!==a.deps&&(c.deps=Ve(a.deps)),kf(a)?c.useClass=a.useClass:function Pf(s){return sD in s}(a)?c.useValue=a.useValue:mu(a)?c.useFactory=a.useFactory:function o1(s){return void 0!==s.useExisting}(a)&&(c.useExisting=a.useExisting),c}(s,o))),a)}),s.hasOwnProperty(_r)||Object.defineProperty(s,_r,{get:()=>{if(null===c){const h=vr();c=h.compileFactory(rD,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:he(s),target:h.FactoryTarget.Injectable})}return c},configurable:!0})}(s,o));function dy(s,o=null,a=null,c){const h=aD(s,o,a,c);return h.resolveInjectorInitializers(),h}function aD(s,o=null,a=null,c,h=new Set){const p=[a||Vt,yf(s)];return c=c||("object"==typeof s?void 0:ye(s)),new bf(p,o||Mr(),c||null,h)}let ta=(()=>{class s{static create(a,c){if(Array.isArray(a))return dy({name:""},c,a,"");{const h=a.name??"";return dy({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=wi,s.NULL=new Ig,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>hr(wc)}),s.__NG_ELEMENT_ID__=-1,s})();function Nc(s){return s.length>1?" ("+function pd(s){const o=[];for(let a=0;a<s.length;++a){if(o.indexOf(s[a])>-1)return o.push(s[a]),o;o.push(s[a])}return o}(s.slice().reverse()).map(c=>ye(c.token)).join(" -> ")+")":""}function Hg(s,o,a,c){const h=[o],p=a(h),v=c?function xg(s,o){const a=`${s} caused by: ${o instanceof Error?o.message:o}`,c=Error(a);return c[nr]=o,c}(p,c):Error(p);return v.addKey=l1,v.keys=h,v.injectors=[s],v.constructResolvingMessage=a,v[nr]=c,v}function l1(s,o){this.injectors.push(s),this.keys.push(o),this.message=this.constructResolvingMessage(this.keys)}function fy(s,o){const a=[];for(let c=0,h=o.length;c<h;c++){const p=o[c];a.push(p&&0!=p.length?p.map(ye).join(" "):"?")}return Error("Cannot resolve all parameters for '"+ye(s)+"'("+a.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+ye(s)+"' is decorated with Injectable.")}function Wg(s,o){return Error(`Cannot mix multi providers and regular providers, got: ${s} ${o}`)}class bo{constructor(o,a){if(this.token=o,this.id=a,!o)throw new ce(208,!1);this.displayName=ye(this.token)}static get(o){return py.get(X(o))}static get numberOfKeys(){return py.numberOfKeys}}class lD{constructor(){this._allKeys=new Map}get(o){if(o instanceof bo)return o;if(this._allKeys.has(o))return this._allKeys.get(o);const a=new bo(o,bo.numberOfKeys);return this._allKeys.set(o,a),a}get numberOfKeys(){return this._allKeys.size}}const py=new lD;class Hi{constructor(o,a,c){this.key=o,this.optional=a,this.visibility=c}static fromKey(o){return new Hi(o,!1,null)}}const cD=[];class Lf{constructor(o,a,c){this.key=o,this.resolvedFactories=a,this.multiProvider=c,this.resolvedFactory=this.resolvedFactories[0]}}class Vf{constructor(o,a){this.factory=o,this.dependencies=a}}function uD(s){let o,a;if(s.useClass){const c=X(s.useClass);o=He().factory(c),a=gd(c)}else s.useExisting?(o=c=>c,a=[Hi.fromKey(bo.get(s.useExisting))]):s.useFactory?(o=s.useFactory,a=function d1(s,o){if(o){const a=o.map(c=>[c]);return o.map(c=>gy(s,c,a))}return gd(s)}(s.useFactory,s.deps)):(o=()=>s.useValue,a=cD);return new Vf(o,a)}function _u(s){return new Lf(bo.get(s.provide),[uD(s)],s.multi||!1)}function hh(s){const c=function dD(s,o){for(let a=0;a<s.length;a++){const c=s[a],h=o.get(c.key.id);if(h){if(c.multiProvider!==h.multiProvider)throw Wg(h,c);if(c.multiProvider)for(let p=0;p<c.resolvedFactories.length;p++)h.resolvedFactories.push(c.resolvedFactories[p]);else o.set(c.key.id,c)}else{let p;p=c.multiProvider?new Lf(c.key,c.resolvedFactories.slice(),c.multiProvider):c,o.set(c.key.id,p)}}return o}(yu(s,[]).map(_u),new Map);return Array.from(c.values())}function yu(s,o){return s.forEach(a=>{if(a instanceof ts)o.push({provide:a,useClass:a});else if(a&&"object"==typeof a&&void 0!==a.provide)o.push(a);else{if(!Array.isArray(a))throw function u1(s){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${s}`)}(a);yu(a,o)}}),o}function gd(s){const o=He().parameters(s);if(!o)return[];if(o.some(a=>null==a))throw fy(s,o);return o.map(a=>gy(s,a,o))}function gy(s,o,a){let c=null,h=!1;if(!Array.isArray(o))return Vl(o instanceof Se?o.token:o,h,null);let p=null;for(let v=0;v<o.length;++v){const D=o[v];D instanceof ts?c=D:D instanceof Se?c=D.token:D instanceof Ze?h=!0:D instanceof Et||D instanceof Fe?p=D:D instanceof Dn&&(c=D)}if(c=X(c),null!=c)return Vl(c,h,p);throw fy(s,a)}function Vl(s,o,a){return new Hi(bo.get(s),o,a)}const fh={};class ph{static resolve(o){return hh(o)}static resolveAndCreate(o,a){const c=ph.resolve(o);return ph.fromResolvedProviders(c,a)}static fromResolvedProviders(o,a){return new h1(o,a)}}let h1=(()=>{class s{constructor(a,c){this._constructionCounter=0,this._providers=a,this.parent=c||null;const h=a.length;this.keyIds=[],this.objs=[];for(let p=0;p<h;p++)this.keyIds[p]=a[p].key.id,this.objs[p]=fh}get(a,c=wi){return this._getByKey(bo.get(a),null,c)}resolveAndCreateChild(a){const c=ph.resolve(a);return this.createChildFromResolved(c)}createChildFromResolved(a){const c=new s(a);return c.parent=this,c}resolveAndInstantiate(a){return this.instantiateResolved(ph.resolve([a])[0])}instantiateResolved(a){return this._instantiateProvider(a)}getProviderAtIndex(a){if(a<0||a>=this._providers.length)throw function Ff(s){return Error(`Index ${s} is out-of-bounds.`)}(a);return this._providers[a]}_new(a){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function hy(s,o){return Hg(s,o,function(a){return`Cannot instantiate cyclic dependency!${Nc(a)}`})}(this,a.key);return this._instantiateProvider(a)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(a){if(a.multiProvider){const c=[];for(let h=0;h<a.resolvedFactories.length;++h)c[h]=this._instantiate(a,a.resolvedFactories[h]);return c}return this._instantiate(a,a.resolvedFactories[0])}_instantiate(a,c){const h=c.factory;let p,v;try{p=c.dependencies.map(D=>this._getByReflectiveDependency(D))}catch(D){throw D.addKey&&D.addKey(this,a.key),D}try{v=h(...p)}catch(D){throw function Gg(s,o,a,c){return Hg(s,c,function(h){const p=ye(h[0].token);return`${o.message}: Error during instantiation of ${p}!${Nc(h)}.`},o)}(this,D,0,a.key)}return v}_getByReflectiveDependency(a){return this._getByKey(a.key,a.visibility,a.optional?null:wi)}_getByKey(a,c,h){return a===s.INJECTOR_KEY?this:c instanceof Et?this._getByKeySelf(a,h):this._getByKeyDefault(a,h,c)}_getObjByKeyId(a){for(let c=0;c<this.keyIds.length;c++)if(this.keyIds[c]===a)return this.objs[c]===fh&&(this.objs[c]=this._new(this._providers[c])),this.objs[c];return fh}_throwOrNull(a,c){if(c!==wi)return c;throw function c1(s,o){return Hg(s,o,function(a){return`No provider for ${ye(a[0].token)}!${Nc(a)}`})}(this,a)}_getByKeySelf(a,c){const h=this._getObjByKeyId(a.id);return h!==fh?h:this._throwOrNull(a,c)}_getByKeyDefault(a,c,h){let p;for(p=h instanceof Fe?this.parent:this;p instanceof s;){const v=p,D=v._getObjByKeyId(a.id);if(D!==fh)return D;p=v.parent}return null!==p?p.get(a.token,c):this._throwOrNull(a,c)}get displayName(){return`ReflectiveInjector(providers: [${function f1(s,o){const a=[];for(let c=0;c<s._providers.length;++c)a[c]=o(s.getProviderAtIndex(c));return a}(this,c=>' "'+c.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return s.INJECTOR_KEY=bo.get(ta),s})();function gh(s,o=ot.Default){const a=Ne();return null===a?hr(s,o):so($n(),a,X(s),o)}function Bf(){throw new Error("invalid")}function zg(s,o){return s<<17|o<<2}function na(s){return s>>17&32767}function Mc(s){return 2|s}function Do(s){return(131068&s)>>2}function qg(s,o){return-131069&s|o<<2}function yy(s){return 1|s}function tm(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],p=a[c+1];if(-1!==p){const v=s.data[p];Ji(h),v.contentQueries(2,o[p],p)}}}function md(s,o,a,c,h,p,v,D,E,M,F){const U=o.blueprint.slice();return U[0]=h,U[2]=76|c,(null!==F||s&&1024&s[2])&&(U[2]|=1024),pa(U),U[3]=U[15]=s,U[8]=a,U[10]=v||s&&s[10],U[11]=D||s&&s[11],U[12]=E||s&&s[12]||null,U[9]=M||s&&s[9]||null,U[6]=p,U[20]=function G_(){return ch++}(),U[21]=F,U[16]=2==o.type?s[16]:U,U}function bu(s,o,a,c,h){let p=s.data[o];if(null===p)p=Gf(s,o,a,c,h),function ya(){return kt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=h;const v=no();p.injectorIndex=null===v?-1:v.injectorIndex}return mi(p,!0),p}function Gf(s,o,a,c,h){const p=ga(),v=Po(),E=s.data[o]=function D1(s,o,a,c,h,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(v?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function Du(s,o,a,c){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function rm(s,o,a){Xi(o);try{const c=s.viewQuery;null!==c&&Yf(1,c,a);const h=s.template;null!==h&&Ny(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&tm(s,o),s.staticViewQueries&&Yf(2,s.viewQuery,a);const p=s.components;null!==p&&function Hf(s,o){for(let a=0;a<o.length;a++)xD(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,R()}}function im(s,o,a,c){const h=o[2];if(128!=(128&h)){Xi(o);try{pa(o),_a(s.bindingStartIndex),null!==a&&Ny(s,o,a,2,c);const v=3==(3&h);if(v){const M=s.preOrderCheckHooks;null!==M&&Rn(o,M,null)}else{const M=s.preOrderHooks;null!==M&&yi(o,M,0,null),Fi(o,0)}if(function I1(s){for(let o=Fg(s);null!==o;o=ld(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],p=h[3];0==(512&h[2])&&jn(p,1),h[2]|=512}}}(o),function Vy(s){for(let o=Fg(s);null!==o;o=ld(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];ws(c)&&im(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&tm(s,o),v){const M=s.contentCheckHooks;null!==M&&Rn(o,M)}else{const M=s.contentHooks;null!==M&&yi(o,M,1),Fi(o,1)}!function vD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)de(~h);else{const p=h,v=a[++c],D=a[++c];Gu(v,p),D(2,o[p])}}}finally{de(-1)}}(s,o);const D=s.components;null!==D&&function nm(s,o){for(let a=0;a<o.length;a++)E1(s,o[a])}(o,D);const E=s.viewQuery;if(null!==E&&Yf(2,E,c),v){const M=s.viewCheckHooks;null!==M&&Rn(o,M)}else{const M=s.viewHooks;null!==M&&yi(o,M,2),Fi(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,jn(o[3],-1))}finally{R()}}}function Ny(s,o,a,c,h){const p=H(),v=2&c;try{de(-1),v&&o.length>22&&uy(s,o,22,!1),Sr(v?2:0,h),a(c,h)}finally{de(p),Sr(v?3:1,h)}}function bD(s,o,a){if(Os(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function My(s,o,a){!ki()||(function ky(s,o,a,c){const h=a.directiveStart,p=a.directiveEnd;s.firstCreatePass||jo(a,o),$i(c,o);const v=a.initialInputs;for(let D=h;D<p;D++){const E=s.data[D],M=Lr(E);M&&Fy(o,a,E);const F=Ho(o,s,D,a);$i(F,o),null!==v&&am(0,D-h,F,E,0,v),M&&(Yt(a.index,o)[8]=F)}}(s,o,a,Vr(a,o)),128==(128&a.flags)&&function AD(s,o,a){const c=a.directiveStart,h=a.directiveEnd,p=a.index,v=function cl(){return kt.lFrame.currentDirectiveIndex}();try{de(p);for(let D=c;D<h;D++){const E=s.data[D],M=o[D];ro(D),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&sm(E,M)}}finally{de(-1),ro(v)}}(s,o,a))}function xy(s,o,a=Vr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],D=-1===v?a(o,s):s[v];s[h++]=D}}}function Ry(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=_h(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function _h(s,o,a,c,h,p,v,D,E,M){const F=22+c,U=F+h,Y=function Wf(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Gt);return a}(F,U),oe="function"==typeof M?M():M;return Y[1]={type:s,blueprint:Y,template:a,queries:null,viewQuery:D,declTNode:o,data:Y.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:oe,incompleteFirstPass:!1}}function CD(s,o,a,c){const h=cm(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&Uy(s).push(c,h.length-1))}function ID(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function ED(s,o){const c=o.directiveEnd,h=s.data,p=o.attrs,v=[];let D=null,E=null;for(let M=o.directiveStart;M<c;M++){const F=h[M],U=F.inputs,Y=null===p||jg(o)?null:Ly(U,p);v.push(Y),D=ID(U,M,D),E=ID(F.outputs,M,E)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=16),D.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=D,o.outputs=E}function Co(s,o,a,c,h,p,v,D){const E=Vr(o,a);let F,M=o.inputs;!D&&null!=M&&(F=M[c])?(Jf(s,a,F,c,h),vs(o)&&TD(a,o.index)):3&o.type&&(c=function Oy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,p.setProperty(E,c,h))}function TD(s,o){const a=Yt(o,s);16&a[2]||(a[2]|=32)}function qf(s,o,a,c){let h=!1;if(ki()){const p=function Py(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];eD(a,v.selectors,!1)&&(h||(h=[]),Da(jo(a,o),s,v.type),Lr(v)?(Bl(s,a),h.unshift(v)):h.push(v))}return h}(s,o,a),v=null===c?null:{"":-1};if(null!==p){h=!0,om(a,s.data.length,p.length);for(let F=0;F<p.length;F++){const U=p[F];U.providersResolver&&U.providersResolver(U)}let D=!1,E=!1,M=Du(s,o,p.length,null);for(let F=0;F<p.length;F++){const U=p[F];a.mergedAttrs=Kc(a.mergedAttrs,U.hostAttrs),MD(s,a,o,M,U),w1(M,U,v),null!==U.contentQueries&&(a.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(a.flags|=128);const Y=U.type.prototype;!D&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),D=!0),!E&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),M++}ED(s,a)}v&&function ND(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new ce(-301,!1);c.push(o[h],p)}}}(a,c,v)}return a.mergedAttrs=Kc(a.mergedAttrs,a.attrs),h}function Kf(s,o,a,c,h,p){const v=p.hostBindings;if(v){let D=s.hostBindingOpCodes;null===D&&(D=s.hostBindingOpCodes=[]);const E=~o.index;(function Zf(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(D)!=E&&D.push(E),D.push(c,h,v)}}function sm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Bl(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function w1(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Lr(o)&&(a[""]=s)}}function om(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function MD(s,o,a,c,h){s.data[c]=h;const p=h.factory||(h.factory=Ri(h.type)),v=new Li(p,Lr(h),gh);s.blueprint[c]=v,a[c]=v,Kf(s,o,0,c,Du(s,a,h.hostVars,Gt),h)}function Fy(s,o,a){const c=Vr(o,s),h=Ry(a),p=s[10],v=vh(s,md(s,h,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=v}function Ul(s,o,a,c,h,p){const v=Vr(s,o);Qf(o[11],v,p,s.value,a,c,h)}function Qf(s,o,a,c,h,p,v){if(null==p)s.removeAttribute(o,h,a);else{const D=null==v?me(p):v(p,c||"",h);s.setAttribute(o,h,D,a)}}function am(s,o,a,c,h,p){const v=p[o];if(null!==v){const D=c.setInput;for(let E=0;E<v.length;){const M=v[E++],F=v[E++],U=v[E++];null!==D?c.setInput(a,U,M,F):a[F]=U}}}function Ly(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function _d(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function E1(s,o){const a=Yt(o,s);if(ws(a)){const c=a[1];48&a[2]?im(c,a,c.template,a[8]):a[5]>0&&lm(a)}}function lm(s){for(let c=Fg(s);null!==c;c=ld(c))for(let h=10;h<c.length;h++){const p=c[h];if(ws(p))if(512&p[2]){const v=p[1];im(v,p,v.template,p[8])}else p[5]>0&&lm(p)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=Yt(a[c],s);ws(h)&&h[5]>0&&lm(h)}}function xD(s,o){const a=Yt(o,s),c=a[1];(function T1(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),rm(c,a,a[8])}function vh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function By(s){for(;s;){s[2]|=32;const o=Ac(s);if(nl(s)&&!o)return s;s=o}return null}function bh(s,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{im(s,o,s.template,a)}catch(v){throw c&&dm(o,v),v}finally{h.end&&h.end()}}function Yf(s,o,a){Ji(0),o(s,a)}function cm(s){return s[7]||(s[7]=[])}function Uy(s){return s.cleanup||(s.cleanup=[])}function um(s,o,a){return(null===s||Lr(s))&&(a=function sl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}function dm(s,o){const a=s[9],c=a?a.get(ah,null):null;c&&c.handleError(o)}function Jf(s,o,a,c,h){for(let p=0;p<a.length;){const v=a[p++],D=a[p++],E=o[v],M=s.data[v];null!==M.setInput?M.setInput(E,h,c,D):E[D]=h}}function Gs(s,o,a){const c=Kr(o,s);Fb(s[11],c,a)}function Ua(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const D=o[v];"number"==typeof D?p=D:1==p?h=ve(h,D):2==p&&(c=ve(c,D+": "+o[++v]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}function Dh(s,o,a,c,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Un(p)),Dt(p))for(let D=10;D<p.length;D++){const E=p[D],M=E[1].firstChild;null!==M&&Dh(E[1],E,M,c)}const v=a.type;if(8&v)Dh(s,o,a.child,c);else if(32&v){const D=K_(a,o);let E;for(;E=D();)c.push(E)}else if(16&v){const D=Kb(o,a);if(Array.isArray(D))c.push(...D);else{const E=Ac(o[16]);Dh(E[1],E,D,c,!0)}}a=h?a.projectionNext:a.next}return c}class ja{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Dh(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Dt(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(X_(o,c),co(a,c))}this._attachedToViewContainer=!1}ud(this._lView[1],this._lView)}onDestroy(o){CD(this._lView[1],this._lView,null,o)}markForCheck(){By(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){bh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J_(s,o){Rf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=o}}class wh extends ja{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;bh(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class hm extends Cc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=re(o);return new wu(a,this.ngModule)}}function yd(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class A1{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,xt,c);return h!==xt||a===xt?h:this.parentInjector.get(o,a,c)}}class wu extends As{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function nD(s){return s.map(Of).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return yd(this.componentDef.inputs)}get outputs(){return yd(this.componentDef.outputs)}create(o,a,c,h){let p=(h=h||this.ngModule)instanceof os?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new A1(o,p):o,D=v.get(x,null);if(null===D)throw new ce(407,!1);const E=v.get(Ce,null),M=D.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",U=c?function wD(s,o,a){return s.selectRootElement(o,a===It.ShadowDom)}(M,c,this.componentDef.encapsulation):xf(D.createRenderer(null,this.componentDef),F,function S1(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),Y=this.componentDef.onPush?288:272,oe=_h(0,null,null,1,0,null,null,null,null,null),Re=md(null,oe,null,Y,null,null,D,M,E,v,null);let qe,rt;Xi(Re);try{const wt=function N1(s,o,a,c,h,p){const v=a[1];a[22]=s;const E=bu(v,22,2,"#host",null),M=E.mergedAttrs=o.hostAttrs;null!==M&&(Ua(E,M,!0),null!==s&&(Vs(h,s,M),null!==E.classes&&Bg(h,s,E.classes),null!==E.styles&&Jb(h,s,E.styles)));const F=c.createRenderer(s,o),U=md(a,Ry(o),null,o.onPush?32:16,a[22],E,c,F,p||null,null,null);return v.firstCreatePass&&(Da(jo(E,a),v,o.type),Bl(v,E),om(E,a.length,1)),vh(a,U),a[22]=U}(U,this.componentDef,Re,D,M);if(U)if(c)Vs(M,U,["ng-version",gt.full]);else{const{attrs:Rt,classes:Ue}=function ly(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++c]):8===h&&a.push(p);else{if(!Ti(h))break;h=p}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Rt&&Vs(M,U,Rt),Ue&&Ue.length>0&&Bg(M,U,Ue.join(" "))}if(rt=Ys(oe,22),void 0!==a){const Rt=rt.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Lt=a[Ue];Rt.push(null!=Lt?Array.from(Lt):null)}}qe=function $y(s,o,a,c){const h=a[1],p=function yh(s,o,a){const c=$n();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),MD(s,c,o,Du(s,o,1,null),a),ED(s,c));const h=Ho(o,s,c.directiveStart,c);$i(h,o);const p=Vr(c,o);return p&&$i(p,o),h}(h,a,o);if(s[8]=a[8]=p,null!==c)for(const D of c)D(p,o);if(o.contentQueries){const D=$n();o.contentQueries(1,p,D.directiveStart)}const v=$n();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(de(v.index),Kf(a[1],v,0,v.directiveStart,v.directiveEnd,o),sm(o,p)),p}(wt,this.componentDef,Re,[pm]),rm(oe,Re,null)}finally{R()}return new fm(this.componentType,qe,y(rt,Re),Re,rt)}}class fm extends nh{constructor(o,a,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new wh(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const p=this._rootLView;Jf(p[1],p,h,o,a),TD(p,this._tNode.index)}}get injector(){return new oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function pm(){const s=$n();dn(Ne()[1],s)}function OD(s){return Object.getPrototypeOf(s.prototype).constructor}function gm(s){let o=OD(s.type),a=!0;const c=[s];for(;o;){let h;if(Lr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ce(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const v=s;v.inputs=mm(s.inputs),v.declaredInputs=mm(s.declaredInputs),v.outputs=mm(s.outputs);const D=h.hostBindings;D&&FD(s,D);const E=h.viewQuery,M=h.contentQueries;if(E&&kD(s,E),M&&PD(s,M),be(s.inputs,h.inputs),be(s.declaredInputs,h.declaredInputs),be(s.outputs,h.outputs),Lr(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(s),D===gm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function M1(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Kc(h.hostAttrs,a=Kc(a,h.hostAttrs))}}(c)}function mm(s){return s===ni?{}:s===Vt?[]:s}function kD(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function PD(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,p)=>{o(c,h,p),a(c,h,p)}:o}function FD(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}const x1=["providersResolver"],R1=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function LD(s){let a,o=OD(s.type);a=Lr(s)?o.\u0275cmp:o.\u0275dir;const c=s;for(const h of x1)c[h]=a[h];if(Lr(a))for(const h of R1)c[h]=a[h]}let _m=null;function xc(){if(!_m){const s=mn.Symbol;if(s&&s.iterator)_m=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(_m=c)}}}return _m}function vd(s){return!!Gy(s)&&(Array.isArray(s)||!(s instanceof Map)&&xc()in s)}function Gy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ym(s,o){const a=vd(s),c=vd(o);return a&&c?function O1(s,o,a){const c=s[xc()](),h=o[xc()]();for(;;){const p=c.next(),v=h.next();if(p.done&&v.done)return!0;if(p.done||v.done||!a(p.value,v.value))return!1}}(s,o,ym):!(a||!s||"object"!=typeof s&&"function"!=typeof s||c||!o||"object"!=typeof o&&"function"!=typeof o)||Object.is(s,o)}function $a(s,o,a){return s[o]=a}function bd(s,o){return s[o]}function Gi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Dd(s,o,a,c){const h=Gi(s,o,a);return Gi(s,o+1,c)||h}function Ch(s,o,a,c,h){const p=Dd(s,o,a,c);return Gi(s,o+2,h)||p}function ra(s,o,a,c,h,p){const v=Dd(s,o,a,c);return Dd(s,o+2,h,p)||v}function Xf(s,o,a,c){const h=Ne();return Gi(h,Cs(),o)&&(Kt(),Ul(we(),h,s,o,a,c)),Xf}function Ih(s,o){let a=!1,c=_i();for(let p=1;p<o.length;p+=2)a=Gi(s,c++,o[p])||a;if(_a(c),!a)return Gt;let h=o[0];for(let p=1;p<o.length;p+=2)h+=me(o[p])+o[p+1];return h}function Cu(s,o,a,c){return Gi(s,Cs(),a)?o+me(a)+c:Gt}function Eh(s,o,a,c,h,p){const D=Dd(s,_i(),a,h);return Pi(2),D?o+me(a)+c+me(h)+p:Gt}function Iu(s,o,a,c,h,p,v,D){const M=Ch(s,_i(),a,h,v);return Pi(3),M?o+me(a)+c+me(h)+p+me(v)+D:Gt}function Eu(s,o,a,c,h,p,v,D,E,M){const U=ra(s,_i(),a,h,v,E);return Pi(4),U?o+me(a)+c+me(h)+p+me(v)+D+me(E)+M:Gt}function Tu(s,o,a,c,h,p,v,D,E,M,F,U){const Y=_i();let oe=ra(s,Y,a,h,v,E);return oe=Gi(s,Y+4,F)||oe,Pi(5),oe?o+me(a)+c+me(h)+p+me(v)+D+me(E)+M+me(F)+U:Gt}function Ha(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe){const Re=_i();let qe=ra(s,Re,a,h,v,E);return qe=Dd(s,Re+4,F,Y)||qe,Pi(6),qe?o+me(a)+c+me(h)+p+me(v)+D+me(E)+M+me(F)+U+me(Y)+oe:Gt}function wd(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe){const rt=_i();let wt=ra(s,rt,a,h,v,E);return wt=Ch(s,rt+4,F,Y,Re)||wt,Pi(7),wt?o+me(a)+c+me(h)+p+me(v)+D+me(E)+M+me(F)+U+me(Y)+oe+me(Re)+qe:Gt}function Su(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt){const Rt=_i();let Ue=ra(s,Rt,a,h,v,E);return Ue=ra(s,Rt+4,F,Y,Re,rt)||Ue,Pi(8),Ue?o+me(a)+c+me(h)+p+me(v)+D+me(E)+M+me(F)+U+me(Y)+oe+me(Re)+qe+me(rt)+wt:Gt}function Wy(s,o,a,c,h,p){const v=Ne(),D=Cu(v,o,a,c);return D!==Gt&&Ul(we(),v,s,D,h,p),Wy}function ep(s,o,a,c,h,p,v,D){const E=Ne(),M=Eh(E,o,a,c,h,p);return M!==Gt&&Ul(we(),E,s,M,v,D),ep}function Ga(s,o,a,c,h,p,v,D,E,M){const F=Ne(),U=Iu(F,o,a,c,h,p,v,D);return U!==Gt&&Ul(we(),F,s,U,E,M),Ga}function tp(s,o,a,c,h,p,v,D,E,M,F,U){const Y=Ne(),oe=Eu(Y,o,a,c,h,p,v,D,E,M);return oe!==Gt&&Ul(we(),Y,s,oe,F,U),tp}function zy(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe){const Re=Ne(),qe=Tu(Re,o,a,c,h,p,v,D,E,M,F,U);return qe!==Gt&&Ul(we(),Re,s,qe,Y,oe),zy}function np(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe){const rt=Ne(),wt=Ha(rt,o,a,c,h,p,v,D,E,M,F,U,Y,oe);return wt!==Gt&&Ul(we(),rt,s,wt,Re,qe),np}function qy(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt){const Rt=Ne(),Ue=wd(Rt,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe);return Ue!==Gt&&Ul(we(),Rt,s,Ue,rt,wt),qy}function Ky(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt,Rt,Ue){const Lt=Ne(),On=Su(Lt,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt);return On!==Gt&&Ul(we(),Lt,s,On,Rt,Ue),Ky}function rp(s,o,a,c){const h=Ne(),p=Ih(h,o);return p!==Gt&&Ul(we(),h,s,p,a,c),rp}function BD(s){const o=Nb(s);bh(o[1],o,s)}function UD(s,o,a,c,h,p,v,D){const E=Ne(),M=Kt(),F=s+22,U=M.firstCreatePass?function Zy(s,o,a,c,h,p,v,D,E){const M=o.consts,F=bu(o,s,4,v||null,gi(M,D));qf(o,a,F,gi(M,E)),dn(o,F);const U=F.tViews=_h(2,F,c,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,F),U.queries=o.queries.embeddedTView(F)),F}(F,M,E,o,a,c,h,p,v):M.data[F];mi(U,!1);const Y=E[11].createComment("");Lg(M,E,Y,U),$i(Y,E),vh(E,E[F]=_d(Y,E,Y,U)),ks(U)&&My(M,E,U),null!=v&&xy(E,U,D)}function vm(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}function jD(s){return Zr(function Fo(){return kt.lFrame.contextLView}(),22+s)}function ip(s,o,a){const c=Ne();return Gi(c,Cs(),o)&&Co(Kt(),we(),c,s,o,c[11],a,!1),ip}function bm(s,o,a,c,h){const v=h?"class":"style";Jf(s,a,o.inputs[v],v,c)}function sp(s,o,a,c){const h=Ne(),p=Kt(),v=22+s,D=h[11],E=h[v]=xf(D,o,function Qt(){return kt.lFrame.currentNamespace}()),M=p.firstCreatePass?function Qy(s,o,a,c,h,p,v){const D=o.consts,M=bu(o,s,2,h,gi(D,p));return qf(o,a,M,gi(D,v)),null!==M.attrs&&Ua(M,M.attrs,!1),null!==M.mergedAttrs&&Ua(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,p,h,0,o,a,c):p.data[v];mi(M,!0);const F=M.mergedAttrs;null!==F&&Vs(D,E,F);const U=M.classes;null!==U&&Bg(D,E,U);const Y=M.styles;return null!==Y&&Jb(D,E,Y),64!=(64&M.flags)&&Lg(p,h,E,M),0===function Oo(){return kt.lFrame.elementDepthCount}()&&$i(E,h),function al(){kt.lFrame.elementDepthCount++}(),ks(M)&&(My(p,h,M),bD(p,M,h)),null!==c&&xy(h,M),sp}function Dm(){let s=$n();Po()?Ls():(s=s.parent,mi(s,!1));const o=s;!function eo(){kt.lFrame.elementDepthCount--}();const a=Kt();return a.firstCreatePass&&(dn(a,s),Os(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ac(s){return 0!=(16&s.flags)}(o)&&bm(a,o,Ne(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Wd(s){return 0!=(32&s.flags)}(o)&&bm(a,o,Ne(),o.stylesWithoutHost,!1),Dm}function Yy(s,o,a,c){return sp(s,o,a,c),Dm(),Yy}function wm(s,o,a){const c=Ne(),h=Kt(),p=s+22,v=h.firstCreatePass?function Jy(s,o,a,c,h){const p=o.consts,v=gi(p,c),D=bu(o,s,8,"ng-container",v);return null!==v&&Ua(D,v,!0),qf(o,a,D,gi(p,h)),null!==o.queries&&o.queries.elementStart(o,D),D}(p,h,c,o,a):h.data[p];mi(v,!0);const D=c[p]=c[11].createComment("");return Lg(h,c,D,v),$i(D,c),ks(v)&&(My(h,c,v),bD(h,v,c)),null!=a&&xy(c,v),wm}function Th(){let s=$n();const o=Kt();return Po()?Ls():(s=s.parent,mi(s,!1)),o.firstCreatePass&&(dn(o,s),Os(s)&&o.queries.elementEnd(s)),Th}function op(s,o,a){return wm(s,o,a),Th(),op}function Cm(){return Ne()}function Xy(s){return!!s&&"function"==typeof s.then}function ev(s){return!!s&&"function"==typeof s.subscribe}const tv=ev;function nv(s,o,a,c){const h=Ne(),p=Kt(),v=$n();return iv(p,h,h[11],v,s,o,0,c),nv}function ap(s,o){const a=$n(),c=Ne(),h=Kt();return iv(h,c,um(va(h.data),a,c),a,s,o),ap}function iv(s,o,a,c,h,p,v,D){const E=ks(c),F=s.firstCreatePass&&Uy(s),U=o[8],Y=cm(o);let oe=!0;if(3&c.type||D){const rt=Vr(c,o),wt=D?D(rt):rt,Rt=Y.length,Ue=D?On=>D(Un(On[c.index])):c.index;let Lt=null;if(!D&&E&&(Lt=function rv(s,o,a,c){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===a&&h[p+1]===c){const D=o[7],E=h[p+2];return D.length>E?D[E]:null}"string"==typeof v&&(p+=2)}return null}(s,o,h,c.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=p,Lt.__ngLastListenerFn__=p,oe=!1;else{p=ov(c,o,U,p,!1);const On=a.listen(wt,h,p);Y.push(p,On),F&&F.push(h,Ue,Rt,Rt+1)}}else p=ov(c,o,U,p,!1);const Re=c.outputs;let qe;if(oe&&null!==Re&&(qe=Re[h])){const rt=qe.length;if(rt)for(let wt=0;wt<rt;wt+=2){const rr=o[qe[wt]][qe[wt+1]].subscribe(p),Lu=Y.length;Y.push(p,rr),F&&F.push(h,c.index,Lu,-(Lu+1))}}}function sv(s,o,a,c){try{return Sr(6,o,a),!1!==a(c)}catch(h){return dm(s,h),!1}finally{Sr(7,o,a)}}function ov(s,o,a,c,h){return function p(v){if(v===Function)return c;By(2&s.flags?Yt(s.index,o):o);let E=sv(o,a,c,v),M=p.__ngNextListenerFn__;for(;M;)E=sv(o,a,M,v)&&E,M=M.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function lp(s=1){return function T(s){return(kt.lFrame.contextLView=function P(s,o){for(;s>0;)o=o[15],s--;return o}(s,kt.lFrame.contextLView))[8]}(s)}function fn(s,o){let a=null;const c=function tD(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===c?eD(s,p,!0):fd(c,p))return h}else a=h}return a}function av(s){const o=Ne()[16][6];if(!o.projection){const c=o.projection=uo(s?s.length:1,null),h=c.slice();let p=o.child;for(;null!==p;){const v=s?fn(p,s):0;null!==v&&(h[v]?h[v].projectionNext=p:c[v]=p,h[v]=p),p=p.next}}}function lv(s,o=0,a){const c=Ne(),h=Kt(),p=bu(h,22+s,16,null,a||null);null===p.projection&&(p.projection=o),Ls(),64!=(64&p.flags)&&function i1(s,o,a){Qb(o[11],0,o,a,jb(s,a,o),Gb(a.parent||o[6],a,o))}(h,c,p)}function Im(s,o,a){return Au(s,"",o,"",a),Im}function Au(s,o,a,c,h){const p=Ne(),v=Cu(p,o,a,c);return v!==Gt&&Co(Kt(),we(),p,s,v,p[11],h,!1),Au}function Em(s,o,a,c,h,p,v){const D=Ne(),E=Eh(D,o,a,c,h,p);return E!==Gt&&Co(Kt(),we(),D,s,E,D[11],v,!1),Em}function Qn(s,o,a,c,h,p,v,D,E){const M=Ne(),F=Iu(M,o,a,c,h,p,v,D);return F!==Gt&&Co(Kt(),we(),M,s,F,M[11],E,!1),Qn}function Si(s,o,a,c,h,p,v,D,E,M,F){const U=Ne(),Y=Eu(U,o,a,c,h,p,v,D,E,M);return Y!==Gt&&Co(Kt(),we(),U,s,Y,U[11],F,!1),Si}function ia(s,o,a,c,h,p,v,D,E,M,F,U,Y){const oe=Ne(),Re=Tu(oe,o,a,c,h,p,v,D,E,M,F,U);return Re!==Gt&&Co(Kt(),we(),oe,s,Re,oe[11],Y,!1),ia}function Tm(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re){const qe=Ne(),rt=Ha(qe,o,a,c,h,p,v,D,E,M,F,U,Y,oe);return rt!==Gt&&Co(Kt(),we(),qe,s,rt,qe[11],Re,!1),Tm}function cv(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt){const wt=Ne(),Rt=wd(wt,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe);return Rt!==Gt&&Co(Kt(),we(),wt,s,Rt,wt[11],rt,!1),cv}function Sh(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt,Rt){const Ue=Ne(),Lt=Su(Ue,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt);return Lt!==Gt&&Co(Kt(),we(),Ue,s,Lt,Ue[11],Rt,!1),Sh}function Sm(s,o,a){const c=Ne(),h=Ih(c,o);return h!==Gt&&Co(Kt(),we(),c,s,h,c[11],a,!1),Sm}function GD(s,o,a,c,h){const p=s[a+1],v=null===o;let D=c?na(p):Do(p),E=!1;for(;0!==D&&(!1===E||v);){const F=s[D+1];MS(s[D],o)&&(E=!0,s[D+1]=c?yy(F):Mc(F)),D=c?na(F):Do(F)}E&&(s[a+1]=c?Mc(p):yy(p))}function MS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ho(s,o)>=0}const ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WD(s){return s.substring(ui.key,ui.keyEnd)}function k1(s){return s.substring(ui.value,ui.valueEnd)}function zD(s,o){const a=ui.textEnd;return a===o?-1:(o=ui.keyEnd=function dv(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,ui.key=o,a),Nu(s,o,a))}function Nm(s,o){const a=ui.textEnd;let c=ui.key=Nu(s,o,a);return a===c?-1:(c=ui.keyEnd=function hv(s,o,a){let c;for(;o<a&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,a),c=cp(s,c,a),c=ui.value=Nu(s,c,a),c=ui.valueEnd=function fv(s,o,a){let c=-1,h=-1,p=-1,v=o,D=v;for(;v<a;){const E=s.charCodeAt(v++);if(59===E)return D;34===E||39===E?D=v=pv(s,E,v,a):o===v-4&&85===p&&82===h&&76===c&&40===E?D=v=pv(s,41,v,a):E>32&&(D=v),p=h,h=c,c=-33&E}return D}(s,c,a),cp(s,c,a))}function uv(s){ui.key=0,ui.keyEnd=0,ui.value=0,ui.valueEnd=0,ui.textEnd=s.length}function Nu(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function cp(s,o,a,c){return(o=Nu(s,o,a))<a&&o++,o}function pv(s,o,a,c){let h=-1,p=a;for(;p<c;){const v=s.charCodeAt(p++);if(v==o&&92!==h)return p;h=92==v&&92===h?0:v}throw new Error}function up(s,o,a){return Wa(s,o,a,!1),up}function dp(s,o){return Wa(s,o,null,!0),dp}function sa(s){za(QD,Ah,s,!1)}function Ah(s,o){for(let a=function qD(s){return uv(s),Nm(s,Nu(s,0,ui.textEnd))}(o);a>=0;a=Nm(o,a))QD(s,WD(o),k1(o))}function Mm(s){za(ci,jl,s,!0)}function jl(s,o){for(let a=function P1(s){return uv(s),zD(s,Nu(s,0,ui.textEnd))}(o);a>=0;a=zD(o,a))ci(s,WD(o),!0)}function Wa(s,o,a,c){const h=Ne(),p=Kt(),v=Pi(2);p.firstUpdatePass&&KD(p,s,v,c),o!==Gt&&Gi(h,v,o)&&U1(p,p.data[H()],h,h[11],s,h[v+1]=function YD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(br(s)))),s}(o,a),c,v)}function za(s,o,a,c){const h=Kt(),p=Pi(2);h.firstUpdatePass&&KD(h,null,p,c);const v=Ne();if(a!==Gt&&Gi(v,p,a)){const D=h.data[H()];if(JD(D,c)&&!mv(h,p)){let E=c?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(a=ve(E,a||"")),bm(h,D,v,a,c)}else!function lr(s,o,a,c,h,p,v,D){h===Gt&&(h=Vt);let E=0,M=0,F=0<h.length?h[0]:null,U=0<p.length?p[0]:null;for(;null!==F||null!==U;){const Y=E<h.length?h[E+1]:void 0,oe=M<p.length?p[M+1]:void 0;let qe,Re=null;F===U?(E+=2,M+=2,Y!==oe&&(Re=U,qe=oe)):null===U||null!==F&&F<U?(E+=2,Re=F):(M+=2,Re=U,qe=oe),null!==Re&&U1(s,o,a,c,Re,qe,v,D),F=E<h.length?h[E]:null,U=M<p.length?p[M]:null}}(h,D,v,v[11],v[p+1],v[p+1]=function B1(s,o,a){if(null==a||""===a)return Vt;const c=[],h=br(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(c,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(c,p,h[p]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,p)}}function mv(s,o){return o>=s.expandoStartIndex}function KD(s,o,a,c){const h=s.data;if(null===h[a+1]){const p=h[H()],v=mv(s,a);JD(p,c)&&null===o&&!v&&(o=!1),o=function ZD(s,o,a,c){const h=va(s);let p=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=Cd(a=_v(null,s,o,a,c),o.attrs,c),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(a=_v(h,s,o,a,c),null===p){let E=function F1(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Do(c))return s[na(c)]}(s,o,c);void 0!==E&&Array.isArray(E)&&(E=_v(null,s,o,E[1],c),E=Cd(E,o.attrs,c),function L1(s,o,a,c){s[na(a?o.classBindings:o.styleBindings)]=c}(s,o,c,E))}else p=function V1(s,o,a){let c;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)c=Cd(c,s[p].hostAttrs,a);return Cd(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,c),function HD(s,o,a,c,h,p){let v=p?o.classBindings:o.styleBindings,D=na(v),E=Do(v);s[c]=a;let F,M=!1;if(Array.isArray(a)){const U=a;F=U[1],(null===F||ho(U,F)>0)&&(M=!0)}else F=a;if(h)if(0!==E){const Y=na(s[D+1]);s[c+1]=zg(Y,D),0!==Y&&(s[Y+1]=qg(s[Y+1],c)),s[D+1]=function fD(s,o){return 131071&s|o<<17}(s[D+1],c)}else s[c+1]=zg(D,0),0!==D&&(s[D+1]=qg(s[D+1],c)),D=c;else s[c+1]=zg(E,0),0===D?D=c:s[E+1]=qg(s[E+1],c),E=c;M&&(s[c+1]=Mc(s[c+1])),GD(s,F,c,!0),GD(s,F,c,!1),function Am(s,o,a,c,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ho(p,o)>=0&&(a[c+1]=yy(a[c+1]))}(o,F,s,c,p),v=zg(D,E),p?o.classBindings=v:o.styleBindings=v}(h,p,o,a,v,c)}}function _v(s,o,a,c,h){let p=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(p=o[D],c=Cd(c,p.hostAttrs,h),p!==s);)D++;return null!==s&&(a.directiveStylingLast=D),c}function Cd(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ci(s,v,!!a||o[++p]))}return void 0===s?null:s}function QD(s,o,a){ci(s,o,br(a))}function U1(s,o,a,c,h,p,v,D){if(!(3&o.type))return;const E=s.data,M=E[D+1];pr(function _y(s){return 1==(1&s)}(M)?j1(E,o,a,h,Do(M),v):void 0)||(pr(p)||function hD(s){return 2==(2&s)}(M)&&(p=j1(E,null,a,h,D,v)),function Yb(s,o,a,c,h){if(o)h?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Hs.DashCase;null==h?s.removeStyle(a,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Hs.Important),s.setStyle(a,c,h,p))}}(c,v,Kr(H(),a),h,p))}function j1(s,o,a,c,h,p){const v=null===o;let D;for(;h>0;){const E=s[h],M=Array.isArray(E),F=M?E[1]:E,U=null===F;let Y=a[h+1];Y===Gt&&(Y=U?Vt:void 0);let oe=U?Aa(Y,c):F===c?Y:void 0;if(M&&!pr(oe)&&(oe=Aa(E,c)),pr(oe)&&(D=oe,v))return D;const Re=s[h+1];h=v?na(Re):Do(Re)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(D=Aa(E,c))}return D}function pr(s){return void 0!==s}function JD(s,o){return 0!=(s.flags&(o?16:32))}function XD(s,o=""){const a=Ne(),c=Kt(),h=s+22,p=c.firstCreatePass?bu(c,h,1,o,null):c.data[h],v=a[h]=Y_(a[11],o);Lg(c,a,v,p),mi(p,!1)}function xm(s){return Rm("",s,""),xm}function Rm(s,o,a){const c=Ne(),h=Cu(c,s,o,a);return h!==Gt&&Gs(c,H(),h),Rm}function yv(s,o,a,c,h){const p=Ne(),v=Eh(p,s,o,a,c,h);return v!==Gt&&Gs(p,H(),v),yv}function vv(s,o,a,c,h,p,v){const D=Ne(),E=Iu(D,s,o,a,c,h,p,v);return E!==Gt&&Gs(D,H(),E),vv}function bv(s,o,a,c,h,p,v,D,E){const M=Ne(),F=Eu(M,s,o,a,c,h,p,v,D,E);return F!==Gt&&Gs(M,H(),F),bv}function ew(s,o,a,c,h,p,v,D,E,M,F){const U=Ne(),Y=Tu(U,s,o,a,c,h,p,v,D,E,M,F);return Y!==Gt&&Gs(U,H(),Y),ew}function Dv(s,o,a,c,h,p,v,D,E,M,F,U,Y){const oe=Ne(),Re=Ha(oe,s,o,a,c,h,p,v,D,E,M,F,U,Y);return Re!==Gt&&Gs(oe,H(),Re),Dv}function wv(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re){const qe=Ne(),rt=wd(qe,s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re);return rt!==Gt&&Gs(qe,H(),rt),wv}function Om(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt){const wt=Ne(),Rt=Su(wt,s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt);return Rt!==Gt&&Gs(wt,H(),Rt),Om}function oa(s){const o=Ne(),a=Ih(o,s);return a!==Gt&&Gs(o,H(),a),oa}function $l(s,o,a){za(ci,jl,Cu(Ne(),s,o,a),!0)}function $1(s,o,a,c,h){za(ci,jl,Eh(Ne(),s,o,a,c,h),!0)}function Mu(s,o,a,c,h,p,v){za(ci,jl,Iu(Ne(),s,o,a,c,h,p,v),!0)}function hp(s,o,a,c,h,p,v,D,E){za(ci,jl,Eu(Ne(),s,o,a,c,h,p,v,D,E),!0)}function tw(s,o,a,c,h,p,v,D,E,M,F){za(ci,jl,Tu(Ne(),s,o,a,c,h,p,v,D,E,M,F),!0)}function nw(s,o,a,c,h,p,v,D,E,M,F,U,Y){za(ci,jl,Ha(Ne(),s,o,a,c,h,p,v,D,E,M,F,U,Y),!0)}function Cv(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re){za(ci,jl,wd(Ne(),s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re),!0)}function Iv(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt){za(ci,jl,Su(Ne(),s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt),!0)}function fp(s){za(ci,jl,Ih(Ne(),s),!0)}function rw(s,o,a){sa(Cu(Ne(),s,o,a))}function xu(s,o,a,c,h){sa(Eh(Ne(),s,o,a,c,h))}function pp(s,o,a,c,h,p,v){sa(Iu(Ne(),s,o,a,c,h,p,v))}function Nh(s,o,a,c,h,p,v,D,E){sa(Eu(Ne(),s,o,a,c,h,p,v,D,E))}function Ev(s,o,a,c,h,p,v,D,E,M,F){sa(Tu(Ne(),s,o,a,c,h,p,v,D,E,M,F))}function km(s,o,a,c,h,p,v,D,E,M,F,U,Y){sa(Ha(Ne(),s,o,a,c,h,p,v,D,E,M,F,U,Y))}function iw(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re){sa(wd(Ne(),s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re))}function sw(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt){sa(Su(Ne(),s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt))}function ow(s){sa(Ih(Ne(),s))}function gp(s,o,a,c,h){return Wa(s,Cu(Ne(),o,a,c),h,!1),gp}function mp(s,o,a,c,h,p,v){return Wa(s,Eh(Ne(),o,a,c,h,p),v,!1),mp}function Pm(s,o,a,c,h,p,v,D,E){return Wa(s,Iu(Ne(),o,a,c,h,p,v,D),E,!1),Pm}function Rc(s,o,a,c,h,p,v,D,E,M,F){return Wa(s,Eu(Ne(),o,a,c,h,p,v,D,E,M),F,!1),Rc}function Fm(s,o,a,c,h,p,v,D,E,M,F,U,Y){return Wa(s,Tu(Ne(),o,a,c,h,p,v,D,E,M,F,U),Y,!1),Fm}function Lm(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re){return Wa(s,Ha(Ne(),o,a,c,h,p,v,D,E,M,F,U,Y,oe),Re,!1),Lm}function _p(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt){return Wa(s,wd(Ne(),o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe),rt,!1),_p}function yp(s,o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt,Rt){return Wa(s,Su(Ne(),o,a,c,h,p,v,D,E,M,F,U,Y,oe,Re,qe,rt,wt),Rt,!1),yp}function Tv(s,o,a){return Wa(s,Ih(Ne(),o),a,!1),Tv}function Mh(s,o,a){const c=Ne();return Gi(c,Cs(),o)&&Co(Kt(),we(),c,s,o,c[11],a,!0),Mh}function xh(s,o,a){const c=Ne();if(Gi(c,Cs(),o)){const p=Kt(),v=we();Co(p,v,c,s,o,um(va(p.data),v,c),a,!0)}return xh}const Ru=void 0;var H1=["en",[["a","p"],["AM","PM"],Ru],[["AM","PM"],Ru,Ru],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ru,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ru,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ru,"{1} 'at' {0}",Ru],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vp(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Oc={};function aw(s,o,a){"string"!=typeof o&&(a=o,o=s[Ft.LocaleId]),o=o.toLowerCase().replace(/_/g,"-"),Oc[o]=s,a&&(Oc[o][Ft.ExtraData]=a)}function Id(s){const o=function uw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=cw(o);if(a)return a;const c=o.split("-")[0];if(a=cw(c),a)return a;if("en"===c)return H1;throw new ce(701,!1)}function Ou(s){return Id(s)[Ft.CurrencyCode]||null}function lw(s){return Id(s)[Ft.PluralCase]}function cw(s){return s in Oc||(Oc[s]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[s]),Oc[s]}function G1(){Oc={}}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const W1=["zero","one","two","few","many"],ku="en-US",Vm={marker:"element"},bp={marker:"ICU"};var xr=(()=>((xr=xr||{})[xr.SHIFT=2]="SHIFT",xr[xr.APPEND_EAGERLY=1]="APPEND_EAGERLY",xr[xr.COMMENT=2]="COMMENT",xr))();let Sv=ku;function Bm(s){(function zt(s,o){null==s&&it(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Sv=s.toLowerCase().replace(/_/g,"-"))}function Av(s,o,a){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?Wb(s,0,a):Un(a[h])}function Um(s,o,a,c,h){const p=o.insertBeforeIndex;if(Array.isArray(p)){let v=c,D=null;if(3&o.type||(D=v,v=h),null!==v&&0==(2&o.flags))for(let E=1;E<p.length;E++)Gr(s,v,a[p[E]],D,!1)}}function Dp(s,o){if(s.push(o),s.length>1)for(let a=s.length-2;a>=0;a--){const c=s[a];hw(c)||Ed(c,o)&&null===kc(c)&&wp(c,o.index)}}function hw(s){return!(64&s.type)}function Ed(s,o){return hw(o)||s.index>o.index}function kc(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function wp(s,o){const a=s.insertBeforeIndex;Array.isArray(a)?a[0]=o:(qb(Av,Um),s.insertBeforeIndex=o)}function aa(s,o){const a=s.data[o];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Z1(s,o,a){const c=Gf(s,a,64,null,null);return Dp(o,c),c}function qa(s,o){const a=o[s.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function pw(s){return s>>>17}function gw(s){return(131070&s)>>>1}let Cp=0,Rh=0;function Nv(s,o,a,c){const h=a[11];let v,p=null;for(let D=0;D<o.length;D++){const E=o[D];if("string"==typeof E){const M=o[++D];null===a[M]&&(a[M]=Y_(h,E))}else if("number"==typeof E)switch(1&E){case 0:const M=pw(E);let F,U;if(null===p&&(p=M,v=dd(h,c)),M===p?(F=c,U=v):(F=null,U=Un(a[M])),null!==U){const qe=gw(E);Gr(h,U,a[qe],F,!1);const wt=aa(s,qe);if(null!==wt&&"object"==typeof wt){const Rt=qa(wt,a);null!==Rt&&Nv(s,wt.create[Rt],a,a[wt.anchorIdx])}}break;case 1:const oe=o[++D],Re=o[++D];Qf(h,Kr(E>>>1,a),null,null,oe,Re,null)}else switch(E){case bp:const M=o[++D],F=o[++D];null===a[F]&&$i(a[F]=Mf(h,M),a);break;case Vm:const U=o[++D],Y=o[++D];null===a[Y]&&$i(a[Y]=xf(h,U,null),a)}}}function yw(s,o,a,c,h){for(let p=0;p<a.length;p++){const v=a[p],D=a[++p];if(v&h){let E="";for(let M=p+1;M<=p+D;M++){const F=a[M];if("string"==typeof F)E+=F;else if("number"==typeof F)if(F<0)E+=me(o[c-F]);else{const U=F>>>2;switch(3&F){case 1:const Y=a[++M],oe=a[++M],Re=s.data[U];"string"==typeof Re?Qf(o[11],o[U],null,Re,Y,E,oe):Co(s,Re,o,Y,E,o[11],oe,!1);break;case 0:const qe=o[U];null!==qe&&Fb(o[11],qe,E);break;case 2:Mv(s,aa(s,U),o,E);break;case 3:Td(s,aa(s,U),c,o)}}}}else{const E=a[p+1];if(E>0&&3==(3&E)){const F=aa(s,E>>>2);o[F.currentCaseLViewIndex]<0&&Td(s,F,c,o)}}p+=D}}function Td(s,o,a,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let p=Cp;h<0&&(h=c[o.currentCaseLViewIndex]=~h,p=-1),yw(s,c,o.update[h],a,p)}}function Mv(s,o,a,c){const h=function RS(s,o){let a=s.cases.indexOf(o);if(-1===a)switch(s.type){case 1:{const c=function z1(s,o){const a=lw(o)(parseInt(s,10)),c=W1[a];return void 0!==c?c:"other"}(o,function dw(){return Sv}());a=s.cases.indexOf(c),-1===a&&"other"!==c&&(a=s.cases.indexOf("other"));break}case 0:a=s.cases.indexOf("other")}return-1===a?null:a}(o,c);if(qa(o,a)!==h&&(X1(s,o,a),a[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=a[o.anchorIdx];v&&Nv(s,o.create[h],a,v)}}function X1(s,o,a){let c=qa(o,a);if(null!==c){const h=o.remove[c];for(let p=0;p<h.length;p++){const v=h[p];if(v>0){const D=Kr(v,a);null!==D&&Zb(a[11],D)}else X1(s,aa(s,~v),a)}}}function eE(){const s=[];let a,c,o=-1;function p(D,E){o=0;const M=qa(D,E);c=null!==M?D.remove[M]:Vt}function v(){if(o<c.length){const D=c[o++];return D>0?a[D]:(s.push(o,c),p(a[1].data[~D],a),v())}return 0===s.length?null:(c=s.pop(),o=s.pop(),v())}return function h(D,E){for(a=E;s.length;)s.pop();return p(D.value,E),v}}const jm=/\ufffd(\d+):?\d*\ufffd/gi,nE=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,rE=/\ufffd(\d+)\ufffd/,bw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,PS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Dw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,iE=/\uE500/g;function Rv(s,o,a,c,h,p,v){const D=Du(s,c,1,null);let E=D<<xr.SHIFT,M=no();o===M&&(M=null),null===M&&(E|=xr.APPEND_EAGERLY),v&&(E|=xr.COMMENT,function Ii(s){void 0===kg&&(kg=s())}(eE)),h.push(E,null===p?"":p);const F=Gf(s,D,v?32:1,null===p?"":p,null);Dp(a,F);const U=F.index;return mi(F,!1),null!==M&&o!==M&&function fw(s,o){let a=s.insertBeforeIndex;null===a?(qb(Av,Um),a=s.insertBeforeIndex=[null,o]):(function Te(s,o,a){s!=o&&it(a,s,o,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(o))}(M,U),F}function ww(s,o,a,c,h,p,v){const D=v.match(jm),E=Rv(s,o,a,p,c,D?null:v,!1);D&&Ad(h,v,E.index,null,0,null)}function Ad(s,o,a,c,h,p){const v=s.length,D=v+1;s.push(null,null);const E=v+2,M=o.split(jm);let F=0;for(let U=0;U<M.length;U++){const Y=M[U];if(1&U){const oe=h+parseInt(Y,10);s.push(-1-oe),F|=Cw(oe)}else""!==Y&&s.push(Y)}return s.push(a<<2|(c?1:0)),c&&s.push(c,p),s[v]=F,s[D]=s.length-E,F}function oE(s){let o=0;for(let a=0;a<s.length;a++){const c=s[a];"number"==typeof c&&c<0&&o++}return o}function Cw(s){return 1<<Math.min(s,31)}function Ep(s){let o,p,a="",c=0,h=!1;for(;null!==(o=PS.exec(s));)h?o[0]===`\ufffd/*${p}\ufffd`&&(c=o.index,h=!1):(a+=s.substring(c,o.index+o[0].length),p=o[1],h=!0);return a+=s.slice(c),a}function Ov(s,o,a,c,h,p){let v=0;const D={type:h.type,currentCaseLViewIndex:Du(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function Tp(s,o,a){s.push(Cw(o.mainBinding),2,-1-o.mainBinding,a<<2|2)})(a,h,p),function K1(s,o,a){const c=s.data[o];null===c?s.data[o]=a:c.value=a}(s,p,D);const E=h.values;for(let M=0;M<E.length;M++){const F=E[M],U=[];for(let Y=0;Y<F.length;Y++){const oe=F[Y];if("string"!=typeof oe){const Re=U.push(oe)-1;F[Y]=`\x3c!--\ufffd${Re}\ufffd--\x3e`}}v=la(s,D,o,a,c,h.cases[M],F.join(""),U)|v}v&&function Sp(s,o,a){s.push(o,1,a<<2|3)}(a,v,p)}function Ew(s){const o=[],a=[];let c=1,h=0;const p=Pc(s=s.replace(bw,function(v,D,E){return c="select"===E?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<p.length;){let D=p[v++].trim();1===c&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&o.push(D);const E=Pc(p[v++]);o.length>a.length&&a.push(E)}return{type:c,mainBinding:h,cases:o,values:a}}function Pc(s){if(!s)return[];let o=0;const a=[],c=[],h=/[{}]/g;let p;for(h.lastIndex=0;p=h.exec(s);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const E=s.substring(o,D);bw.test(E)?c.push(Ew(E)):c.push(E),o=D+1}}else{if(0==a.length){const E=s.substring(o,D);c.push(E),o=D+1}a.push("{")}}const v=s.substring(o);return c.push(v),c}function la(s,o,a,c,h,p,v,D){const E=[],M=[],F=[];o.cases.push(p),o.create.push(E),o.remove.push(M),o.update.push(F);const Y=Dg(nt()).getInertBodyElement(v),oe=uu(Y)||Y;return oe?ls(s,o,a,c,E,M,F,oe,h,D,0):0}function ls(s,o,a,c,h,p,v,D,E,M,F){let U=0,Y=D.firstChild;for(;Y;){const oe=Du(s,a,1,null);switch(Y.nodeType){case Node.ELEMENT_NODE:const Re=Y,qe=Re.tagName.toLowerCase();if(Dr.hasOwnProperty(qe)){Wi(h,Vm,qe,E,oe),s.data[oe]=qe;const Ue=Re.attributes;for(let Lt=0;Lt<Ue.length;Lt++){const On=Ue.item(Lt),rr=On.name.toLowerCase();On.value.match(jm)?wl.hasOwnProperty(rr)&&Ad(v,On.value,oe,On.name,0,nd[rr]?ed:null):lE(h,oe,On)}U=ls(s,o,a,c,h,p,v,Y,oe,M,F+1)|U,kv(p,oe,F)}break;case Node.TEXT_NODE:const rt=Y.textContent||"",wt=rt.match(jm);Wi(h,null,wt?"":rt,E,oe),kv(p,oe,F),wt&&(U=Ad(v,rt,oe,null,0,null)|U);break;case Node.COMMENT_NODE:const Rt=rE.exec(Y.textContent||"");if(Rt){const Lt=M[parseInt(Rt[1],10)];Wi(h,bp,"",E,oe),Ov(s,a,c,E,Lt,oe),Tw(p,oe,F)}}Y=Y.nextSibling}return U}function kv(s,o,a){0===a&&s.push(o)}function Tw(s,o,a){0===a&&(s.push(~o),s.push(o))}function Wi(s,o,a,c,h){null!==o&&s.push(o),s.push(a,h,function Q1(s,o,a){return s|o<<17|a<<1}(0,c,h))}function lE(s,o,a){s.push(o<<1|1,a.name,a.value)}const Oh=/\[(\ufffd.+?\ufffd?)\]/,Nd=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Pv=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Md=/{([A-Z0-9_]+)}/g,cE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,uE=/\/\*/,dE=/\d+\:(\d+)/;function Fv(s,o,a=-1){const c=Kt(),h=Ne(),p=22+s,v=gi(c.consts,o),D=no();c.firstCreatePass&&function xv(s,o,a,c,h,p){const v=no(),D=[],E=[],M=[[]];h=function aE(s,o){if(function Iw(s){return-1===s}(o))return Ep(s);{const a=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Ep(s.substring(a,c))}}(h,p);const F=function sE(s){return s.replace(iE," ")}(h).split(Dw);for(let U=0;U<F.length;U++){let Y=F[U];if(0==(1&U)){const oe=Pc(Y);for(let Re=0;Re<oe.length;Re++){let qe=oe[Re];if(0==(1&Re)){const rt=qe;""!==rt&&ww(s,v,M[0],D,E,a,rt)}else{const rt=qe;if("object"!=typeof rt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Ov(s,a,E,o,rt,Rv(s,v,M[0],a,D,"",!0).index)}}}else{const oe=47===Y.charCodeAt(0),qe=(Y.charCodeAt(oe?1:0),22+Number.parseInt(Y.substring(oe?2:1)));if(oe)M.shift(),mi(no(),!1);else{const rt=Z1(s,M[0],qe);M.unshift([]),mi(rt,!0)}}}s.data[c]={create:D,update:E}}(c,null===D?0:D.index,h,p,v,a);const E=c.data[p],F=ey(c,D===h[6]?null:D,h);(function J1(s,o,a,c){const h=s[11];for(let p=0;p<o.length;p++){const v=o[p++],D=o[p],E=(v&xr.COMMENT)===xr.COMMENT,M=(v&xr.APPEND_EAGERLY)===xr.APPEND_EAGERLY,F=v>>>xr.SHIFT;let U=s[F];null===U&&(U=s[F]=E?h.createComment(D):Y_(h,D)),M&&null!==a&&Gr(h,a,U,c,!1)}})(h,E.create,F,D&&8&D.type?h[D.index]:null),Lo(!0)}function kh(){Lo(!1)}function ca(s,o,a){Fv(s,o,a),kh()}function zr(s,o){const a=Kt();!function Ip(s,o,a){const h=$n().index,p=[];if(s.firstCreatePass&&null===s.data[o]){for(let v=0;v<a.length;v+=2){const D=a[v],E=a[v+1];if(""!==E){if(nE.test(E))throw new Error(`ICU expressions are not supported in attributes. Message: "${E}".`);Ad(p,E,h,D,oE(p),null)}}s.data[o]=p}}(a,s+22,gi(a.consts,o))}function Lv(s){return function _w(s){s&&(Cp|=1<<Math.min(Rh,31)),Rh++}(Gi(Ne(),Cs(),s)),Lv}function Sw(s){!function Y1(s,o,a){if(Rh>0){const c=s.data[a];yw(s,o,Array.isArray(c)?c:c.update,_i()-Rh-1,Cp)}Cp=0,Rh=0}(Kt(),Ne(),s+22)}function Aw(s,o={}){return function Rr(s,o={}){let a=s;if(Oh.test(s)){const c={},h=[0];a=a.replace(Nd,(p,v,D)=>{const E=v||D,M=c[E]||[];if(M.length||(E.split("|").forEach(qe=>{const rt=qe.match(dE),wt=rt?parseInt(rt[1],10):0,Rt=uE.test(qe);M.push([wt,Rt,qe])}),c[E]=M),!M.length)throw new Error(`i18n postprocess: unmatched placeholder - ${E}`);const F=h[h.length-1];let U=0;for(let qe=0;qe<M.length;qe++)if(M[qe][0]===F){U=qe;break}const[Y,oe,Re]=M[U];return oe?h.pop():F!==Y&&h.push(Y),M.splice(U,1),Re})}return Object.keys(o).length&&(a=a.replace(Pv,(c,h,p,v,D,E)=>o.hasOwnProperty(p)?`${h}${o[p]}${E}`:c),a=a.replace(Md,(c,h)=>o.hasOwnProperty(h)?o[h]:c),a=a.replace(cE,(c,h)=>{if(o.hasOwnProperty(h)){const p=o[h];if(!p.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return p.shift()}return c})),a}(s,o)}function Gm(s,o,a,c,h){if(s=X(s),Array.isArray(s))for(let p=0;p<s.length;p++)Gm(s[p],o,a,c,h);else{const p=Kt(),v=Ne();let D=Sl(s)?s:X(s.provide),E=wf(s);const M=$n(),F=1048575&M.providerIndexes,U=M.directiveStart,Y=M.providerIndexes>>20;if(Sl(s)||!s.multi){const oe=new Li(E,h,gh),Re=di(D,o,h?F:F+Y,U);-1===Re?(Da(jo(M,v),p,D),Ph(p,s,o.length),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(oe),v.push(oe)):(a[Re]=oe,v[Re]=oe)}else{const oe=di(D,o,F+Y,U),Re=di(D,o,F,F+Y),qe=oe>=0&&a[oe],rt=Re>=0&&a[Re];if(h&&!rt||!h&&!qe){Da(jo(M,v),p,D);const wt=function Fc(s,o,a,c,h){const p=new Li(s,a,gh);return p.multi=[],p.index=o,p.componentProviders=0,Hl(p,h,c&&!a),p}(h?Mw:Wm,a.length,h,c,E);!h&&rt&&(a[Re].providerFactory=wt),Ph(p,s,o.length,0),o.push(D),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),a.push(wt),v.push(wt)}else Ph(p,s,oe>-1?oe:Re,Hl(a[h?Re:oe],E,!h&&c));!h&&c&&rt&&a[Re].componentProviders++}}}function Ph(s,o,a,c){const h=Sl(o),p=function sd(s){return!!s.useClass}(o);if(h||p){const E=(p?X(o.useClass):o).prototype.ngOnDestroy;if(E){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=M.indexOf(a);-1===F?M.push(a,[c,E]):M[F+1].push(c,E)}else M.push(a,E)}}}function Hl(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function di(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function Wm(s,o,a,c){return Vv(this.multi,[])}function Mw(s,o,a,c){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Ho(a,a[1],this.providerFactory.index,c);p=D.slice(0,v),Vv(h,p);for(let E=v;E<D.length;E++)p.push(D[E])}else p=[],Vv(h,p);return p}function Vv(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Ka(s,o=[]){return a=>{a.providersResolver=(c,h)=>function Nw(s,o,a){const c=Kt();if(c.firstCreatePass){const h=Lr(s);Gm(a,c.data,c.blueprint,h,!0),Gm(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class xd{}class zm{}function Bv(s,o){return new Uv(s,o??null)}const qm=Bv;class Uv extends xd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hm(this);const c=An(o);this._bootstrapComponents=Pl(c.bootstrap),this._r3Injector=aD(o,a,[{provide:xd,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class jv extends zm{constructor(o){super(),this.moduleType=o}create(o){return new Uv(this.moduleType,o)}}class hE extends xd{constructor(o,a,c){super(),this.componentFactoryResolver=new hm(this),this.instance=null;const h=new bf([...o,{provide:xd,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],a||Mr(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ap(s,o,a=null){return new hE(s,o,a).injector}let FS=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=rd(0,a.type),h=c.length>0?Ap([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=rn({token:s,providedIn:"environment",factory:()=>new s(hr(os))}),s})();function fE(s){s.getStandaloneInjector=o=>o.get(FS).getOrCreateStandaloneInjector(s)}function $v(s){const o=ji(s);if(null===o)return null;if(void 0===o.component){const a=o.lView;if(null===a)return null;o.component=function Og(s,o){const a=o[1].data[s];return 2&a.flags?o[a.directiveStart]:null}(o.nodeIndex,a)}return o.component}function xw(s){!function Gv(s){if(typeof Element<"u"&&!(s instanceof Element))throw new Error("Expecting instance of DOM Element")}(s);const o=ji(s),a=o?o.lView:null;return null===a?null:a[8]}function pE(s){const o=ji(s);let c,a=o?o.lView:null;if(null===a)return null;for(;2===a[1].type&&(c=Ac(a));)a=c;return 256&a[2]?null:a[8]}function gE(s){const o=z_(s);return null!==o?[Z_(o)]:[]}function mE(s){const o=ji(s),a=o?o.lView:null;return null===a?ta.NULL:new oo(a[1].data[o.nodeIndex],a)}function _E(s){if(s instanceof Text)return[];const o=ji(s),a=o?o.lView:null;if(null===a)return[];const h=o.nodeIndex;return a[1]?.data[h]?(void 0===o.directives&&(o.directives=Rb(h,a,!1)),null===o.directives?[]:[...o.directives]):[]}function VS(s){const{constructor:o}=s;if(!o)throw new Error("Unable to find the instance constructor");const a=re(o);if(a)return{inputs:a.inputs,outputs:a.outputs,encapsulation:a.encapsulation,changeDetection:a.onPush?Bn.OnPush:Bn.Default};const c=tt(o);return c?{inputs:c.inputs,outputs:c.outputs}:null}function Rw(s){return ji(s).native}function Ow(s){const o=ji(s),a=null===o?null:o.lView;if(null===a)return[];const h=a[7],p=a[1].cleanup,v=[];if(p&&h)for(let D=0;D<p.length;){const E=p[D++],M=p[D++];if("string"==typeof E){const F=E,U=Un(a[M]),Y=h[p[D++]],oe=p[D++],Re="boolean"==typeof oe||oe>=0?"dom":"output",qe="boolean"==typeof oe&&oe;s==U&&v.push({element:s,name:F,callback:Y,useCapture:qe,type:Re})}}return v.sort(vE),v}function vE(s,o){return s.name==o.name?0:s.name<o.name?-1:1}function Ai(s){return void 0!==s.type&&void 0!==s.template&&void 0!==s.declaredInputs}function kw(s,o,a,c){return Wn(()=>{const h=s;null!==o&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...o):h.decorators=o),null!==a&&(h.ctorParameters=a),null!==c&&(h.propDecorators=h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?{...h.propDecorators,...c}:c)})}function Pw(s,o,a){const c=Pn()+s,h=Ne();return h[c]===Gt?$a(h,c,a?o.call(a):o()):bd(h,c)}function Fw(s,o,a,c){return Mp(Ne(),Pn(),s,o,a,c)}function Wv(s,o,a,c,h){return Km(Ne(),Pn(),s,o,a,c,h)}function Lw(s,o,a,c,h,p){return Zm(Ne(),Pn(),s,o,a,c,h,p)}function Vw(s,o,a,c,h,p,v){return jw(Ne(),Pn(),s,o,a,c,h,p,v)}function Bw(s,o,a,c,h,p,v,D){const E=Pn()+s,M=Ne(),F=ra(M,E,a,c,h,p);return Gi(M,E+4,v)||F?$a(M,E+5,D?o.call(D,a,c,h,p,v):o(a,c,h,p,v)):bd(M,E+5)}function Uw(s,o,a,c,h,p,v,D,E){const M=Pn()+s,F=Ne(),U=ra(F,M,a,c,h,p);return Dd(F,M+4,v,D)||U?$a(F,M+6,E?o.call(E,a,c,h,p,v,D):o(a,c,h,p,v,D)):bd(F,M+6)}function cs(s,o,a,c,h,p,v,D,E,M){const F=Pn()+s,U=Ne();let Y=ra(U,F,a,c,h,p);return Ch(U,F+4,v,D,E)||Y?$a(U,F+7,M?o.call(M,a,c,h,p,v,D,E):o(a,c,h,p,v,D,E)):bd(U,F+7)}function Np(s,o,a,c,h,p,v,D,E,M,F){const U=Pn()+s,Y=Ne(),oe=ra(Y,U,a,c,h,p);return ra(Y,U+4,v,D,E,M)||oe?$a(Y,U+8,F?o.call(F,a,c,h,p,v,D,E,M):o(a,c,h,p,v,D,E,M)):bd(Y,U+8)}function zv(s,o,a,c){return $w(Ne(),Pn(),s,o,a,c)}function Rd(s,o){const a=s[o];return a===Gt?void 0:a}function Mp(s,o,a,c,h,p){const v=o+a;return Gi(s,v,h)?$a(s,v+1,p?c.call(p,h):c(h)):Rd(s,v+1)}function Km(s,o,a,c,h,p,v){const D=o+a;return Dd(s,D,h,p)?$a(s,D+2,v?c.call(v,h,p):c(h,p)):Rd(s,D+2)}function Zm(s,o,a,c,h,p,v,D){const E=o+a;return Ch(s,E,h,p,v)?$a(s,E+3,D?c.call(D,h,p,v):c(h,p,v)):Rd(s,E+3)}function jw(s,o,a,c,h,p,v,D,E){const M=o+a;return ra(s,M,h,p,v,D)?$a(s,M+4,E?c.call(E,h,p,v,D):c(h,p,v,D)):Rd(s,M+4)}function $w(s,o,a,c,h,p){let v=o+a,D=!1;for(let E=0;E<h.length;E++)Gi(s,v++,h[E])&&(D=!0);return D?$a(s,v,c.apply(p,h)):Rd(s,v)}function Hw(s,o){const a=Kt();let c;const h=s+22;a.firstCreatePass?(c=function bE(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const p=c.factory||(c.factory=Ri(c.type)),v=gr(gh);try{const D=Uo(!1),E=p();return Uo(D),vm(a,Ne(),h,E),E}finally{gr(v)}}function Fh(s,o,a){const c=s+22,h=Ne(),p=Zr(h,c);return Rp(h,c)?Mp(h,Pn(),o,p.transform,a,p):p.transform(a)}function qv(s,o,a,c){const h=s+22,p=Ne(),v=Zr(p,h);return Rp(p,h)?Km(p,Pn(),o,v.transform,a,c,v):v.transform(a,c)}function xp(s,o,a,c,h){const p=s+22,v=Ne(),D=Zr(v,p);return Rp(v,p)?Zm(v,Pn(),o,D.transform,a,c,h,D):D.transform(a,c,h)}function Kv(s,o,a,c,h,p){const v=s+22,D=Ne(),E=Zr(D,v);return Rp(D,v)?jw(D,Pn(),o,E.transform,a,c,h,p,E):E.transform(a,c,h,p)}function Gw(s,o,a){const c=s+22,h=Ne(),p=Zr(h,c);return Rp(h,c)?$w(h,Pn(),o,p.transform,a,p):p.transform.apply(p,a)}function Rp(s,o){return s[1].data[o].pure}function Zv(s){return o=>{setTimeout(s,void 0,o)}}const Qa=class DE extends C.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),p=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(p=Zv(p),h&&(h=Zv(h)),v&&(v=Zv(v)));const D=super.subscribe({next:h,error:p,complete:v});return o instanceof u.w0&&o.add(D),D}};function Qv(){return this._results[xc()]()}class Op{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=xc(),c=Op.prototype;c[a]||(c[a]=Qv)}get changes(){return this._changes||(this._changes=new Qa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=jr(o);(this._changesDetected=!function ml(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],p=o[c];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Od=(()=>{class s{}return s.__NG_ELEMENT_ID__=wE,s})();const Ww=Od,kp=class extends Ww{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=md(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(c)),rm(c,h,o),new ja(h)}};function wE(){return Lh($n(),Ne())}function Lh(s,o){return 4&s.type?new kp(o,s,y(s,o)):null}let Vh=(()=>{class s{}return s.__NG_ELEMENT_ID__=CE,s})();function CE(){return zw($n(),Ne())}const Yv=Vh,Jv=class extends Yv{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new oo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Qc(this._hostTNode,this._hostLView);if(qu(o)){const a=Vi(o,this._hostLView),c=Br(o);return new oo(a[1].data[c+8],a)}return new oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Xv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,h),v}createComponent(o,a,c,h,p){const v=o&&!Ea(o);let D;if(v)D=a;else{const U=a||{};D=U.index,c=U.injector,h=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const E=v?o:new wu(re(o)),M=c||this.parentInjector;if(!p&&null==E.ngModule){const Y=(v?M:this.parentInjector).get(os,null);Y&&(p=Y)}const F=E.create(M,h,void 0,p);return this.insert(F.hostView,D),F}insert(o,a){const c=o._lView,h=c[1];if(function Js(s){return Dt(s[3])}(c)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const U=c[3],Y=new Jv(U,U[6],U[3]);Y.detach(Y.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function e1(s,o,a,c){const h=10+c,p=a.length;c>0&&(a[h-1][4]=o),c<p-10?(o[4]=a[h],nu(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Bb(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const D=o[19];null!==D&&D.insertView(s),o[2]|=64}(h,c,v,p);const D=ry(p,v),E=c[11],M=dd(E,v[7]);return null!==M&&function Lb(s,o,a,c,h,p){c[0]=h,c[6]=o,Rf(s,c,a,1,h,p)}(h,v[6],E,c,M,D),o.attachToViewContainerRef(),nu(Pp(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Xv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=X_(this._lContainer,a);c&&(co(Pp(this._lContainer),a),ud(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=X_(this._lContainer,a);return c&&null!=co(Pp(this._lContainer),a)?new ja(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function Xv(s){return s[8]}function Pp(s){return s[8]||(s[8]=[])}function zw(s,o){let a;const c=o[s.index];if(Dt(c))a=c;else{let h;if(8&s.type)h=Un(c);else{const p=o[11];h=p.createComment("");const v=Vr(s,o);Gr(p,dd(p,v),h,function Hb(s,o){return s.nextSibling(o)}(p,v),!1)}o[s.index]=a=_d(c,o,h,s),vh(o,a)}return new Jv(a,s,o)}class Fp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Fp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new Lp(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==r0(o,a).matches&&this.queries[a].setDirty()}}class Qm{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Ym{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,h);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Ym(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class t0{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new t0(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(o,a,qw(a,p)),this.matchTNodeWithReadOption(o,a,pl(a,o,p,!1,!1))}else c===Od?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,pl(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===f||h===Vh||h===Od&&4&a.type)this.addMatch(a.index,-2);else{const p=pl(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function qw(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Kw(s,o,a,c){return-1===a?function Bh(s,o){return 11&s.type?y(s,o):4&s.type?Lh(s,o):null}(o,s):-2===a?function TE(s,o,a){return a===f?y(o,s):a===Od?Lh(o,s):a===Vh?zw(o,s):void 0}(s,o,c):Ho(s,s[1],a,o)}function Zw(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const p=s.data,v=a.matches,D=[];for(let E=0;E<v.length;E+=2){const M=v[E];D.push(M<0?null:Kw(o,p[M],v[E+1],a.metadata.read))}h.matches=D}return h.matches}function n0(s,o,a,c){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const v=Zw(s,o,h,a);for(let D=0;D<p.length;D+=2){const E=p[D];if(E>0)c.push(v[D/2]);else{const M=p[D+1],F=o[-E];for(let U=10;U<F.length;U++){const Y=F[U];Y[17]===Y[3]&&n0(Y[1],Y,M,c)}if(null!==F[9]){const U=F[9];for(let Y=0;Y<U.length;Y++){const oe=U[Y];n0(oe[1],oe,M,c)}}}}}return c}function Qw(s){const o=Ne(),a=Kt(),c=ic();Ji(c+1);const h=r0(a,c);if(s.dirty&&function Yi(s){return 4==(4&s[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?n0(a,o,c,[]):Zw(a,o,h,c);s.reset(p,m),s.notifyOnChanges()}return!0}return!1}function Yw(s,o,a){const c=Kt();c.firstCreatePass&&(Vp(c,new Qm(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),eC(c,Ne(),o)}function Jw(s,o,a,c){const h=Kt();if(h.firstCreatePass){const p=$n();Vp(h,new Qm(o,a,c),p.index),function tC(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}eC(h,Ne(),a)}function Xw(){return function SE(s,o){return s[19].queries[o].queryList}(Ne(),ic())}function eC(s,o,a){const c=new Op(4==(4&a));CD(s,o,c,c.destroy),null===o[19]&&(o[19]=new Lp),o[19].queries.push(new Fp(c))}function Vp(s,o,a){null===s.queries&&(s.queries=new Ym),s.queries.track(new t0(o,a))}function r0(s,o){return s.queries.getByIndex(o)}function Jm(s,o){return Lh(s,o)}const Ns=(()=>({\u0275\u0275attribute:Xf,\u0275\u0275attributeInterpolate1:Wy,\u0275\u0275attributeInterpolate2:ep,\u0275\u0275attributeInterpolate3:Ga,\u0275\u0275attributeInterpolate4:tp,\u0275\u0275attributeInterpolate5:zy,\u0275\u0275attributeInterpolate6:np,\u0275\u0275attributeInterpolate7:qy,\u0275\u0275attributeInterpolate8:Ky,\u0275\u0275attributeInterpolateV:rp,\u0275\u0275defineComponent:Be,\u0275\u0275defineDirective:te,\u0275\u0275defineInjectable:rn,\u0275\u0275defineInjector:Ut,\u0275\u0275defineNgModule:Wt,\u0275\u0275definePipe:Oe,\u0275\u0275directiveInject:gh,\u0275\u0275getInheritedFactory:tu,\u0275\u0275inject:hr,\u0275\u0275injectAttribute:Zu,\u0275\u0275invalidFactory:Bf,\u0275\u0275invalidFactoryDep:Ju,\u0275\u0275templateRefExtractor:Jm,\u0275\u0275resetView:ll,\u0275\u0275NgOnChangesFeature:Oi,\u0275\u0275ProvidersFeature:Ka,\u0275\u0275CopyDefinitionFeature:LD,\u0275\u0275InheritDefinitionFeature:gm,\u0275\u0275StandaloneFeature:fE,\u0275\u0275nextContext:lp,\u0275\u0275namespaceHTML:an,\u0275\u0275namespaceMathML:en,\u0275\u0275namespaceSVG:lt,\u0275\u0275enableBindings:ko,\u0275\u0275disableBindings:Vn,\u0275\u0275elementStart:sp,\u0275\u0275elementEnd:Dm,\u0275\u0275element:Yy,\u0275\u0275elementContainerStart:wm,\u0275\u0275elementContainerEnd:Th,\u0275\u0275elementContainer:op,\u0275\u0275pureFunction0:Pw,\u0275\u0275pureFunction1:Fw,\u0275\u0275pureFunction2:Wv,\u0275\u0275pureFunction3:Lw,\u0275\u0275pureFunction4:Vw,\u0275\u0275pureFunction5:Bw,\u0275\u0275pureFunction6:Uw,\u0275\u0275pureFunction7:cs,\u0275\u0275pureFunction8:Np,\u0275\u0275pureFunctionV:zv,\u0275\u0275getCurrentView:Cm,\u0275\u0275restoreView:to,\u0275\u0275listener:nv,\u0275\u0275projection:lv,\u0275\u0275syntheticHostProperty:xh,\u0275\u0275syntheticHostListener:ap,\u0275\u0275pipeBind1:Fh,\u0275\u0275pipeBind2:qv,\u0275\u0275pipeBind3:xp,\u0275\u0275pipeBind4:Kv,\u0275\u0275pipeBindV:Gw,\u0275\u0275projectionDef:av,\u0275\u0275hostProperty:Mh,\u0275\u0275property:ip,\u0275\u0275propertyInterpolate:Im,\u0275\u0275propertyInterpolate1:Au,\u0275\u0275propertyInterpolate2:Em,\u0275\u0275propertyInterpolate3:Qn,\u0275\u0275propertyInterpolate4:Si,\u0275\u0275propertyInterpolate5:ia,\u0275\u0275propertyInterpolate6:Tm,\u0275\u0275propertyInterpolate7:cv,\u0275\u0275propertyInterpolate8:Sh,\u0275\u0275propertyInterpolateV:Sm,\u0275\u0275pipe:Hw,\u0275\u0275queryRefresh:Qw,\u0275\u0275viewQuery:Yw,\u0275\u0275loadQuery:Xw,\u0275\u0275contentQuery:Jw,\u0275\u0275reference:jD,\u0275\u0275classMap:Mm,\u0275\u0275classMapInterpolate1:$l,\u0275\u0275classMapInterpolate2:$1,\u0275\u0275classMapInterpolate3:Mu,\u0275\u0275classMapInterpolate4:hp,\u0275\u0275classMapInterpolate5:tw,\u0275\u0275classMapInterpolate6:nw,\u0275\u0275classMapInterpolate7:Cv,\u0275\u0275classMapInterpolate8:Iv,\u0275\u0275classMapInterpolateV:fp,\u0275\u0275styleMap:sa,\u0275\u0275styleMapInterpolate1:rw,\u0275\u0275styleMapInterpolate2:xu,\u0275\u0275styleMapInterpolate3:pp,\u0275\u0275styleMapInterpolate4:Nh,\u0275\u0275styleMapInterpolate5:Ev,\u0275\u0275styleMapInterpolate6:km,\u0275\u0275styleMapInterpolate7:iw,\u0275\u0275styleMapInterpolate8:sw,\u0275\u0275styleMapInterpolateV:ow,\u0275\u0275styleProp:up,\u0275\u0275stylePropInterpolate1:gp,\u0275\u0275stylePropInterpolate2:mp,\u0275\u0275stylePropInterpolate3:Pm,\u0275\u0275stylePropInterpolate4:Rc,\u0275\u0275stylePropInterpolate5:Fm,\u0275\u0275stylePropInterpolate6:Lm,\u0275\u0275stylePropInterpolate7:_p,\u0275\u0275stylePropInterpolate8:yp,\u0275\u0275stylePropInterpolateV:Tv,\u0275\u0275classProp:dp,\u0275\u0275advance:cy,\u0275\u0275template:UD,\u0275\u0275text:XD,\u0275\u0275textInterpolate:xm,\u0275\u0275textInterpolate1:Rm,\u0275\u0275textInterpolate2:yv,\u0275\u0275textInterpolate3:vv,\u0275\u0275textInterpolate4:bv,\u0275\u0275textInterpolate5:ew,\u0275\u0275textInterpolate6:Dv,\u0275\u0275textInterpolate7:wv,\u0275\u0275textInterpolate8:Om,\u0275\u0275textInterpolateV:oa,\u0275\u0275i18n:ca,\u0275\u0275i18nAttributes:zr,\u0275\u0275i18nExp:Lv,\u0275\u0275i18nStart:Fv,\u0275\u0275i18nEnd:kh,\u0275\u0275i18nApply:Sw,\u0275\u0275i18nPostprocess:Aw,\u0275\u0275resolveWindow:dh,\u0275\u0275resolveDocument:Nf,\u0275\u0275resolveBody:q_,\u0275\u0275setComponentScope:pt,\u0275\u0275setNgModuleScope:Z,\u0275\u0275registerNgModuleType:Gn,\u0275\u0275sanitizeHtml:yo,\u0275\u0275sanitizeStyle:vo,\u0275\u0275sanitizeResourceUrl:Xo,\u0275\u0275sanitizeScript:Xd,\u0275\u0275sanitizeUrl:yc,\u0275\u0275sanitizeUrlOrResourceUrl:th,\u0275\u0275trustConstantHtml:vc,\u0275\u0275trustConstantResourceUrl:eh,forwardRef:q,resolveForwardRef:X}))();let Uh=null;function rC(){Uh=null}function o0(s){return!!An(s)}const Xm=[];let iC=!1;function xE(){if(!iC){iC=!0;try{for(let s=Xm.length-1;s>=0;s--){const{moduleType:o,ngModule:a}=Xm[s];a.declarations&&a.declarations.every(e_)&&(Xm.splice(s,1),kE(o,a))}}finally{iC=!1}}}function e_(s){return Array.isArray(s)?s.every(e_):!!X(s)}function RE(s,o={}){sC(s,o),void 0!==o.id&&Gn(s,o.id),function ME(s,o){Xm.push({moduleType:s,ngModule:o})}(s,o)}function sC(s,o,a=!1){const c=jr(o.declarations||Vt);let h=null;Object.defineProperty(s,un,{configurable:!0,get:()=>(null===h&&(h=vr().compileNgModule(Ns,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:jr(o.bootstrap||Vt).map(X),declarations:c.map(X),imports:jr(o.imports||Vt).map(X).map(FE),exports:jr(o.exports||Vt).map(X).map(FE),schemas:o.schemas?jr(o.schemas):null,id:o.id||null}),h.schemas||(h.schemas=[])),h)});let p=null;Object.defineProperty(s,_r,{get:()=>{if(null===p){const D=vr();p=D.compileFactory(Ns,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:he(s),target:D.FactoryTarget.NgModule,typeArgumentCount:0})}return p},configurable:!1});let v=null;Object.defineProperty(s,kr,{get:()=>{if(null===v){const D={name:s.name,type:s,providers:o.providers||Vt,imports:[(o.imports||Vt).map(X),(o.exports||Vt).map(X)]};v=vr().compileInjector(Ns,`ng:///${s.name}/\u0275inj.js`,D)}return v},configurable:!1})}let jh=new WeakMap,aC=new WeakMap;function c0(){jh=new WeakMap,aC=new WeakMap,Xm.length=0}function kE(s,o){const a=jr(o.declarations||Vt),c=kd(s);a.forEach(h=>{(h=X(h)).hasOwnProperty(Ni)?lC(re(h),c):!h.hasOwnProperty(sn)&&!h.hasOwnProperty(Qi)&&(h.ngSelectorScope=s)})}function lC(s,o){s.directiveDefs=()=>Array.from(o.compilation.directives).map(a=>a.hasOwnProperty(Ni)?re(a):tt(a)).filter(a=>!!a),s.pipeDefs=()=>Array.from(o.compilation.pipes).map(a=>Tt(a)),s.schemas=o.schemas,s.tView=null}function kd(s){if(o0(s))return function PE(s){const o=An(s,!0);if(null!==o.transitiveCompileScopes)return o.transitiveCompileScopes;const a={schemas:o.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Pl(o.imports).forEach(c=>{const h=kd(c);h.exported.directives.forEach(p=>a.compilation.directives.add(p)),h.exported.pipes.forEach(p=>a.compilation.pipes.add(p))}),Pl(o.declarations).forEach(c=>{Tt(c)?a.compilation.pipes.add(c):a.compilation.directives.add(c)}),Pl(o.exports).forEach(c=>{const h=c;if(o0(h)){const p=kd(h);p.exported.directives.forEach(v=>{a.compilation.directives.add(v),a.exported.directives.add(v)}),p.exported.pipes.forEach(v=>{a.compilation.pipes.add(v),a.exported.pipes.add(v)})}else Tt(h)?a.exported.pipes.add(h):a.exported.directives.add(h)}),o.transitiveCompileScopes=a,a}(s);if(ln(s)){if(null!==(re(s)||tt(s)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([s]),pipes:new Set}};if(null!==Tt(s))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([s])}}}throw new Error(`${s.name} does not have a module def (\u0275mod property)`)}function FE(s){return function s0(s){return void 0!==s.ngModule}(s)?s.ngModule:s}let cC=0;function uC(s,o){let a=null;(function xa(s,o){Ra(o)&&(bl.set(s,o),Ko.add(s))})(s,o),hC(s,o),Object.defineProperty(s,Ni,{get:()=>{if(null===a){const c=vr();if(Ra(o)){const M=[`Component '${s.name}' is not resolved:`];throw o.templateUrl&&M.push(` - templateUrl: ${o.templateUrl}`),o.styleUrls&&o.styleUrls.length&&M.push(` - styleUrls: ${JSON.stringify(o.styleUrls)}`),M.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(M.join("\n"))}const h=function nC(){return Uh}();let p=o.preserveWhitespaces;void 0===p&&(p=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let v=o.encapsulation;void 0===v&&(v=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:It.Emulated);const D=o.templateUrl||`ng:///${s.name}/template.html`,E={...d0(s,o),typeSourceSpan:c.createParseSourceSpan("Component",s.name,D),template:o.template||"",preserveWhitespaces:p,styles:o.styles||Vt,animations:o.animations,declarations:[],changeDetection:o.changeDetection,encapsulation:v,interpolation:o.interpolation,viewProviders:o.viewProviders||null,isStandalone:!!o.standalone};cC++;try{if(E.usesInheritance&&h0(s),a=c.compileComponent(Ns,D,E),o.standalone){const M=jr(o.imports||Vt),{directiveDefs:F,pipeDefs:U}=function $S(s,o){let a=null,c=null;return{directiveDefs:()=>{if(null===a){a=[re(s)];const v=new Set;for(const D of o){const E=X(D);if(!v.has(E))if(v.add(E),An(E)){const M=kd(E);for(const F of M.exported.directives){const U=re(F)||tt(F);U&&!v.has(F)&&(v.add(F),a.push(U))}}else{const M=re(E)||tt(E);M&&a.push(M)}}}return a},pipeDefs:()=>{if(null===c){c=[];const v=new Set;for(const D of o){const E=X(D);if(!v.has(E))if(v.add(E),An(E)){const M=kd(E);for(const F of M.exported.pipes){const U=Tt(F);U&&!v.has(F)&&(v.add(F),c.push(U))}}else{const M=Tt(E);M&&c.push(M)}}}return c}}}(s,M);a.directiveDefs=F,a.pipeDefs=U,a.dependencies=()=>M.map(X)}}finally{cC--}if(0===cC&&xE(),function HS(s){return void 0!==s.ngSelectorScope}(s)){const M=kd(s.ngSelectorScope);lC(a,M)}if(o.schemas){if(!o.standalone)throw new Error(`The 'schemas' was specified for the ${fe(s)} but is only valid on a component that is standalone.`);a.schemas=o.schemas}else o.standalone&&(a.schemas=[])}return a},configurable:!1})}function dC(s,o){let a=null;hC(s,o||{}),Object.defineProperty(s,sn,{get:()=>{if(null===a){const c=u0(s,o||{});a=vr().compileDirective(Ns,c.sourceMapUrl,c.metadata)}return a},configurable:!1})}function u0(s,o){const a=s&&s.name,c=`ng:///${a}/\u0275dir.js`,h=vr(),p=d0(s,o);return p.typeSourceSpan=h.createParseSourceSpan("Directive",a,c),p.usesInheritance&&h0(s),{metadata:p,sourceMapUrl:c}}function hC(s,o){let a=null;Object.defineProperty(s,_r,{get:()=>{if(null===a){const c=u0(s,o),h=vr();a=h.compileFactory(Ns,`ng:///${s.name}/\u0275fac.js`,{name:c.metadata.name,type:c.metadata.type,typeArgumentCount:0,deps:he(s),target:h.FactoryTarget.Directive})}return a},configurable:!1})}function fC(s){return Object.getPrototypeOf(s.prototype)===Object.prototype}function d0(s,o){const a=He(),c=a.ownPropMetadata(s);return{name:s.name,type:s,selector:void 0!==o.selector?o.selector:null,host:o.host||ni,propMetadata:c,inputs:o.inputs||Vt,outputs:o.outputs||Vt,queries:f0(s,c,$h),lifecycle:{usesOnChanges:a.hasLifecycleHook(s,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!fC(s),exportAs:mC(o.exportAs),providers:o.providers||null,viewQueries:f0(s,c,_C),isStandalone:!!o.standalone}}function h0(s){const o=Object.prototype;let a=Object.getPrototypeOf(s.prototype).constructor;for(;a&&a!==o;)!tt(a)&&!re(a)&&g0(a)&&dC(a,null),a=Object.getPrototypeOf(a)}function pC(s){return"string"==typeof s?p0(s):X(s)}function gC(s,o){return{propertyName:s,predicate:pC(o.selector),descendants:o.descendants,first:o.first,read:o.read?o.read:null,static:!!o.static,emitDistinctChangesOnly:!!o.emitDistinctChangesOnly}}function f0(s,o,a){const c=[];for(const h in o)if(o.hasOwnProperty(h)){const p=o[h];p.forEach(v=>{if(a(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${h}" of "${fe(s)}" since the query selector wasn't defined.`);if(p.some(yC))throw new Error("Cannot combine @Input decorators with query decorators");c.push(gC(h,v))}})}return c}function mC(s){return void 0===s?null:p0(s)}function $h(s){const o=s.ngMetadataName;return"ContentChild"===o||"ContentChildren"===o}function _C(s){const o=s.ngMetadataName;return"ViewChild"===o||"ViewChildren"===o}function yC(s){return"Input"===s.ngMetadataName}function p0(s){return s.split(",").map(o=>o.trim())}const LE=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function g0(s){const o=He();if(LE.some(c=>o.hasLifecycleHook(s,c)))return!0;const a=o.propMetadata(s);for(const c in a){const h=a[c];for(let p=0;p<h.length;p++){const v=h[p],D=v.ngMetadataName;if(yC(v)||$h(v)||_C(v)||"Output"===D||"HostBinding"===D||"HostListener"===D)return!0}}return!1}function Bp(s,o){let a=null,c=null;Object.defineProperty(s,_r,{get:()=>{if(null===c){const h=m0(s,o),p=vr();c=p.compileFactory(Ns,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:he(s),target:p.FactoryTarget.Pipe})}return c},configurable:!1}),Object.defineProperty(s,Qi,{get:()=>{if(null===a){const h=m0(s,o);a=vr().compilePipe(Ns,`ng:///${h.name}/\u0275pipe.js`,h)}return a},configurable:!1})}function m0(s,o){return{type:s,name:s.name,pipeName:o.name,pure:void 0===o.pure||o.pure,isStandalone:!!o.standalone}}const vC=Di("Directive",(s={})=>s,void 0,void 0,(s,o)=>dC(s,o)),_0=Di("Component",(s={})=>({changeDetection:Bn.Default,...s}),vC,void 0,(s,o)=>uC(s,o)),VE=Di("Pipe",s=>({pure:!0,...s}),void 0,void 0,(s,o)=>Bp(s,o)),bC=Ur("Input",s=>({bindingPropertyName:s})),DC=Ur("Output",s=>({bindingPropertyName:s})),wC=Ur("HostBinding",s=>({hostPropertyName:s})),BE=Ur("HostListener",(s,o)=>({eventName:s,args:o})),CC=Di("NgModule",s=>s,void 0,void 0,(s,o)=>RE(s,o));function Up(...s){}const IC=new Dn("Application Initializer");let jp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Up,this.reject=Up,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Xy(p))a.push(p);else if(tv(p)){const v=new Promise((D,E)=>{p.subscribe({complete:D,error:E})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(hr(IC,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const n_=new Dn("AppId",{providedIn:"root",factory:EC});function EC(){return`${y0()}${y0()}${y0()}`}const UE={provide:n_,useFactory:EC,deps:[]};function y0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const TC=new Dn("Platform Initializer"),jE=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),v0=new Dn("appBootstrapListener"),$E=new Dn("Application Packages Root URL"),HE=new Dn("AnimationModuleType");let GE=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const $p=new Dn("LocaleId",{providedIn:"root",factory:()=>S($p,ot.Optional|ot.SkipSelf)||function b0(){return typeof $localize<"u"&&$localize.locale||ku}()}),WE=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),SC=new Dn("Translations"),Pd=new Dn("TranslationsFormat");var hi=(()=>((hi=hi||{})[hi.Error=0]="Error",hi[hi.Warning=1]="Warning",hi[hi.Ignore=2]="Ignore",hi))();class AC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let D0=(()=>{class s{compileModuleSync(a){return new jv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Pl(An(a).declarations).reduce((v,D)=>{const E=re(D);return E&&v.push(new wu(E)),v},[]);return new AC(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const NC=new Dn("compilerOptions");class zE{}function qE(s){By(Nb(s)),gE(s).forEach(o=>BD(o))}let MC=!1;function Fu(){MC||(MC=!0,Io("\u0275setProfiler",ai),Io("getDirectiveMetadata",VS),Io("getComponent",$v),Io("getContext",xw),Io("getListeners",Ow),Io("getOwningComponent",pE),Io("getHostElement",Rw),Io("getInjector",mE),Io("getRootComponents",gE),Io("getDirectives",_E),Io("applyChanges",qE))}function Io(s,o){if(typeof COMPILED>"u"||!COMPILED){const a=mn;if(a){let c=a.ng;c||(c=a.ng={}),c[s]=o}}}const us=(()=>Promise.resolve(0))();function Gl(s){typeof Zone>"u"?us.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ya{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function KE(){let s=mn.requestAnimationFrame,o=mn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function OC(s){const o=()=>{!function RC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,i_(s),s.isCheckStableRunning=!0,r_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),i_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,p,v,D)=>{try{return w0(s),a.invokeTask(h,p,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),C0(s)}},onInvoke:(a,c,h,p,v,D,E)=>{try{return w0(s),a.invoke(h,p,v,D,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),C0(s)}},onHasTask:(a,c,h,p)=>{a.hasTask(h,p),c===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,i_(s),r_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ya.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(Ya.isInAngularZone())throw new ce(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,o,xC,Up,Up);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const xC={};function r_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function i_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function w0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function C0(s){s._nesting--,r_(s)}class I0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const Hp=new Dn(""),E0=new Dn("");let A0,kC=(()=>{class s{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A0||(S0(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ya.assertNotInAngularZone(),Gl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gl(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(hr(Ya),hr(T0),hr(E0))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),T0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return A0?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function S0(s){A0=s}let Lc=null;const s_=new Dn("AllowMultipleToken"),Gp=new Dn("PlatformDestroyListeners");function o_(s,o,a){const c=new jv(a);return Promise.resolve(c)}function N0(s){return s.isBoundToModule}class PC{constructor(o,a){this.name=o,this.token=a}}function a_(s){if(Lc&&!Lc.get(s_,!1))throw new ce(400,!1);Lc=s;const o=s.get(VC);return M0(s),o}function M0(s){const o=s.get(TC,null);o&&o.forEach(a=>a())}function FC(s){const{rootComponent:o,appProviders:a,platformProviders:c}=s,h=function l_(s=[]){if(Lc)return Lc;const o=Vc(s);return Lc=o,M0(o),o}(c),p=Hh("zone.js",Fd());return p.run(()=>{const D=Ap([{provide:Ya,useValue:p},...a||[]],h,"Environment Injector"),E=D.get(ah,null);let M;p.runOutsideAngular(()=>{M=p.onError.subscribe({next:Y=>{E.handleError(Y)}})});const F=()=>D.destroy(),U=h.get(Gp);return U.add(F),D.onDestroy(()=>{M.unsubscribe(),U.delete(F)}),c_(E,p,()=>{const Y=D.get(jp);return Y.runInitializers(),Y.donePromise.then(()=>{Bm(D.get($p,ku)||ku);const Re=D.get(u_);return void 0!==o&&Re.bootstrap(o),Re})})})}function x0(s,o,a=[]){const c=`Platform: ${o}`,h=new Dn(c);return(p=[])=>{let v=R0();if(!v||v.injector.get(s_,!1)){const D=[...a,...p,{provide:h,useValue:!0}];s?s(D):a_(Vc(D,c))}return ds()}}function ds(s){const o=R0();if(!o)throw new ce(401,!1);return o}function Vc(s=[],o){return ta.create({name:o,providers:[{provide:Al,useValue:"platform"},{provide:Gp,useValue:new Set([()=>Lc=null])},...s]})}function LC(){R0()?.destroy()}function R0(){return Lc?.get(VC)??null}let VC=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=Hh(c?.ngZone,Fd(c)),p=[{provide:Ya,useValue:h}];return h.run(()=>{const v=ta.create({providers:p,parent:this.injector,name:a.moduleType.name}),D=a.create(v),E=D.injector.get(ah,null);if(!E)throw new ce(402,!1);return h.runOutsideAngular(()=>{const M=h.onError.subscribe({next:F=>{E.handleError(F)}});D.onDestroy(()=>{Gh(this._modules,D),M.unsubscribe()})}),c_(E,h,()=>{const M=D.injector.get(jp);return M.runInitializers(),M.donePromise.then(()=>(Bm(D.injector.get($p,ku)||ku),this._moduleDoBootstrap(D),D))})})}bootstrapModule(a,c=[]){const h=Wp({},c);return o_(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const c=a.injector.get(u_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ce(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Gp,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(hr(ta))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Fd(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}function Hh(s,o){let a;return a="noop"===s?new I0:("zone.js"===s?void 0:s)||new Ya(o),a}function c_(s,o,a){try{const c=a();return Xy(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}function Wp(s,o){return Array.isArray(o)?o.reduce(Wp,s):{...s,...o}}let u_=(()=>{class s{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new B.y(D=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ya.assertNotInAngularZone(),Gl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ya.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=(0,le.T)(p,v.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof As;if(!this._injector.get(jp).done)throw!h&&ln(a),new ce(405,false);let v;v=h?a:this._injector.get(Cc).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const D=N0(v)?void 0:this._injector.get(xd),M=v.create(ta.NULL,[],c||v.selector,D),F=M.location.nativeElement,U=M.injector.get(Hp,null);return U?.registerApplication(F),M.onDestroy(()=>{this.detachView(M.hostView),Gh(this.components,M),U?.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Gh(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(v0,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Gh(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ce(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(hr(Ya),hr(os),hr(ah))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Gh(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let QE=!0,YE=!1;function zS(){return YE=!0,QE}function qS(){if(YE)throw new Error("Cannot enable prod mode after platform setup.");QE=!1}function KS(s){const o=au(s);if(!o)throw UC(s);return new jv(o)}function ZS(s){const o=au(s);if(!o)throw UC(s);return o}function UC(s){return new Error(`No module with ID ${s} loaded`)}let O0=(()=>{class s{}return s.__NG_ELEMENT_ID__=jC,s})();function jC(s){return function JE(s,o,a){if(vs(s)&&!a){const c=Yt(s.index,o);return new ja(c,c)}return 47&s.type?new ja(o[16],o):null}($n(),Ne(),16==(16&s))}class $C extends O0{}class k0 extends $C{}class h_{constructor(o,a){this.name=o,this.callback=a}}function Wh(s){return s.map(o=>o.nativeElement)}class Ld{constructor(o){this.nativeNode=o}get parent(){const o=this.nativeNode.parentNode;return o?new Vd(o):null}get injector(){return mE(this.nativeNode)}get componentInstance(){const o=this.nativeNode;return o&&($v(o)||pE(o))}get context(){return $v(this.nativeNode)||xw(this.nativeNode)}get listeners(){return Ow(this.nativeNode).filter(o=>"dom"===o.type)}get references(){return function BS(s){const o=ji(s);if(null===o)return{};if(void 0===o.localRefs){const a=o.lView;if(null===a)return{};o.localRefs=function Af(s,o){const a=s[1].data[o];if(a&&a.localNames){const c={};let h=a.index+1;for(let p=0;p<a.localNames.length;p+=2)c[a.localNames[p]]=s[h],h++;return c}return null}(a,o.nodeIndex)}return o.localRefs||{}}(this.nativeNode)}get providerTokens(){return function LS(s){const o=ji(s),a=o?o.lView:null;if(null===a)return[];const c=a[1],h=c.data[o.nodeIndex],p=[],D=h.directiveEnd;for(let E=1048575&h.providerIndexes;E<D;E++){let M=c.data[E];Ai(M)&&(M=M.type),p.push(M)}return p}(this.nativeNode)}}class Vd extends Ld{constructor(o){super(o)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const o=ji(this.nativeNode),a=o?o.lView:null;return null!==a?a[1].data[o.nodeIndex].value:this.nativeNode.nodeName}get properties(){const o=ji(this.nativeNode),a=o?o.lView:null;if(null===a)return{};const c=a[1].data,h=c[o.nodeIndex],p={};return function HC(s,o){if(s){let a=Object.getPrototypeOf(s);const c=Node.prototype;for(;null!==a&&a!==c;){const h=Object.getOwnPropertyDescriptors(a);for(let p in h)if(!p.startsWith("__")&&!p.startsWith("on")){const v=s[p];P0(v)&&(o[p]=v)}a=Object.getPrototypeOf(a)}}}(this.nativeElement,p),function V0(s,o,a,c){let h=o.propertyBindings;if(null!==h)for(let p=0;p<h.length;p++){const v=h[p],E=c[v].split("\ufffd"),M=E[0];if(E.length>1){let F=E[1];for(let U=1;U<E.length-1;U++)F+=me(a[v+U-1])+E[U+1];s[M]=F}else s[M]=a[v]}}(p,h,a,c),p}get attributes(){const o={},a=this.nativeElement;if(!a)return o;const c=ji(a),h=c?c.lView:null;if(null===h)return{};const p=h[1].data[c.nodeIndex].attrs,v=[];if(p){let E=0;for(;E<p.length;){const M=p[E];if("string"!=typeof M)break;o[M]=p[E+1],v.push(M.toLowerCase()),E+=2}}const D=a.attributes;for(let E=0;E<D.length;E++){const M=D[E],F=M.name.toLowerCase();-1===v.indexOf(F)&&(o[F]=M.value)}return o}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const o={},c=this.nativeElement.className;return("string"!=typeof c?c.baseVal.split(" "):c.split(" ")).forEach(p=>o[p]=!0),o}get childNodes(){const o=this.nativeNode.childNodes,a=[];for(let c=0;c<o.length;c++)a.push(zh(o[c]));return a}get children(){const o=this.nativeElement;if(!o)return[];const a=o.children,c=[];for(let h=0;h<a.length;h++)c.push(zh(a[h]));return c}query(o){return this.queryAll(o)[0]||null}queryAll(o){const a=[];return F0(this,o,a,!0),a}queryAllNodes(o){const a=[];return F0(this,o,a,!1),a}triggerEventHandler(o,a){const c=this.nativeNode,h=[];this.listeners.forEach(p=>{if(p.name===o){const v=p.callback;v.call(c,a),h.push(v)}}),"function"==typeof c.eventListeners&&c.eventListeners(o).forEach(p=>{if(-1!==p.toString().indexOf("__ngUnwrap__")){const v=p("__ngUnwrap__");return-1===h.indexOf(v)&&v.call(c,a)}})}}function P0(s){return"string"==typeof s||"boolean"==typeof s||"number"==typeof s||null===s}function F0(s,o,a,c){const h=ji(s.nativeNode),p=h?h.lView:null;null!==p?zl(p[1].data[h.nodeIndex],p,o,a,c,s.nativeNode):p_(s.nativeNode,o,a,c)}function zl(s,o,a,c,h,p){const v=function Ro(s,o){const a=null===s?-1:s.index;return-1!==a?Un(o[a]):null}(s,o);if(11&s.type){if(f_(v,a,c,h,p),vs(s)){const E=Yt(s.index,o);E&&E[1].firstChild&&zl(E[1].firstChild,E,a,c,h,p)}else s.child&&zl(s.child,o,a,c,h,p),v&&p_(v,a,c,h);const D=o[s.index];Dt(D)&&L0(D,a,c,h,p)}else if(4&s.type){const D=o[s.index];f_(D[7],a,c,h,p),L0(D,a,c,h,p)}else if(16&s.type){const D=o[16],M=D[6].projection[s.projection];if(Array.isArray(M))for(let F of M)f_(F,a,c,h,p);else if(M){const F=D[3];zl(F[1].data[M.index],F,a,c,h,p)}}else s.child&&zl(s.child,o,a,c,h,p);if(p!==v){const D=4&s.flags?s.projectionNext:s.next;D&&zl(D,o,a,c,h,p)}}function L0(s,o,a,c,h){for(let p=10;p<s.length;p++){const v=s[p],D=v[1].firstChild;D&&zl(D,v,o,a,c,h)}}function f_(s,o,a,c,h){if(h!==s){const p=zh(s);if(!p)return;(c&&p instanceof Vd&&o(p)&&-1===a.indexOf(p)||!c&&o(p)&&-1===a.indexOf(p))&&a.push(p)}}function p_(s,o,a,c){const h=s.childNodes,p=h.length;for(let v=0;v<p;v++){const D=h[v],E=zh(D);E&&((c&&E instanceof Vd&&o(E)&&-1===a.indexOf(E)||!c&&o(E)&&-1===a.indexOf(E))&&a.push(E),p_(D,o,a,c))}}const WC="__ng_debug__";function zh(s){return s instanceof Node?(s.hasOwnProperty(WC)||(s[WC]=s.nodeType==Node.ELEMENT_NODE?new Vd(s):new Ld(s)),s[WC]):null}function QS(s){return null}class zp{constructor(){}supports(o){return vd(o)}create(o){return new m_(o)}}const XE=(s,o)=>o;class m_{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||XE}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<j0(c,h,p)?a:c,D=j0(v,h,p),E=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)h++;else{p||(p=[]);const M=D-h,F=E-h;if(M!=F){for(let Y=0;Y<M;Y++){const oe=Y<p.length?p[Y]:p[Y]=0,Re=oe+Y;F<=Re&&Re<M&&(p[Y]=oe+1)}p[v.previousIndex]=F-M}}D!==E&&o(v,D,E)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!vd(o))throw new ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let D=0;D<this.length;D++)p=o[D],v=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,D),c=!0),a=a._next}else h=0,function Hy(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[xc()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,D=>{v=this._trackByFn(h,D),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,D,v,h)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new __(a,c),p,h),o}_verifyReinsertion(o,a,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new zC),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class __{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eT{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class zC{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new eT,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function j0(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class qC{constructor(){}supports(o){return o instanceof Map||Gy(o)}create(){return new KC}}class KC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Gy(o)))throw new ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const c=new tT(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class tT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nT(){return new $0([new zp])}let $0=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||nT()),deps:[[s,new Fe,new Ze]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new ce(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:nT}),s})();function iT(){return new qp([new qC])}let qp=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||iT()),deps:[[s,new Fe,new Ze]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new ce(901,!1)}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:iT}),s})();const sT=[new qC],H0=new $0([new zp]),oT=new qp(sT),YS=x0(null,"core",[]);let aT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(hr(u_))},s.\u0275mod=Wt({type:s}),s.\u0275inj=Ut({}),s})();function Kp(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}const Bd=!0;function QC(s){return vr().compileDirectiveDeclaration(Ns,`ng:///${s.type.name}/\u0275fac.js`,s)}function YC(s){kw(s.type,s.decorators,s.ctorParameters??null,s.propDecorators??null)}function JC(s){return vr().compileComponentDeclaration(Ns,`ng:///${s.type.name}/\u0275cmp.js`,s)}function JS(s){return vr(function lT(s){switch(s){case yr.Directive:return"directive";case yr.Component:return"component";case yr.Injectable:return"injectable";case yr.Pipe:return"pipe";case yr.NgModule:return"NgModule"}}(s.target)).compileFactoryDeclaration(Ns,`ng:///${s.type.name}/\u0275fac.js`,s)}function XC(s){return vr().compileInjectableDeclaration(Ns,`ng:///${s.type.name}/\u0275prov.js`,s)}function XS(s){return vr().compileInjectorDeclaration(Ns,`ng:///${s.type.name}/\u0275inj.js`,s)}function eA(s){return vr().compileNgModuleDeclaration(Ns,`ng:///${s.type.name}/\u0275mod.js`,s)}function tA(s){return vr().compilePipeDeclaration(Ns,`ng:///${s.type.name}/\u0275pipe.js`,s)}function nA(s,o){const a=re(s),c=o.elementInjector||Mr();return new wu(a).create(c,o.projectableNodes,o.hostElement,o.environmentInjector)}function cT(s){const o=re(s);if(!o)return null;const a=new wu(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone}}}},3942:(yt,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>ce});var C=V(2090),u=V(4859),B=V(9681),le=V(1877);class se{constructor(me,fe){this._delegate=me,this.firebase=fe,(0,B._addComponent)(me,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(me,fe=B._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(me);return!st.isInitialized()&&"EXPLICIT"===(null===(Ye=st.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&st.initialize(),st.getImmediate({identifier:fe})}_removeServiceInstance(me,fe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(fe)}_addComponent(me){(0,B._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,B._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ve(){const Ge=function ye(Ge){const me={},fe={__esModule:!0,initializeApp:function Pe(Xe,K={}){const Te=B.initializeApp(Xe,K);if((0,C.r3)(me,Te.name))return me[Te.name];const ee=new Ge(Te,fe);return me[Te.name]=ee,ee},app:st,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function ke(Xe){const K=Xe.name,Te=K.replace("-compat","");if(B._registerComponent(Xe)&&"PUBLIC"===Xe.type){const ee=(ie=st())=>{if("function"!=typeof ie[Te])throw be.create("invalid-app-argument",{appName:K});return ie[Te]()};void 0!==Xe.serviceProps&&(0,C.ZB)(ee,Xe.serviceProps),fe[Te]=ee,Ge.prototype[Te]=function(...ie){return this._getService.bind(this,K).apply(this,Xe.multipleInstances?ie:[])}}return"PUBLIC"===Xe.type?fe[Te]:null},removeApp:function Ye(Xe){delete me[Xe]},useAsService:function Qe(Xe,K){return"serverAuth"===K?null:K},modularAPIs:B}};function st(Xe){if(!(0,C.r3)(me,Xe=Xe||B._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Xe});return me[Xe]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Me(){return Object.keys(me).map(Xe=>me[Xe])}}),st.App=Ge,fe}(se);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function me(fe){(0,C.ZB)(Ge,fe)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),Ge}(),q=new le.Yd("@firebase/app-compat");if((0,C.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=G;!function De(Ge){(0,B.registerVersion)("@firebase/app-compat","0.1.38",Ge)}()},9681:(yt,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Rs,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>rn,_apps:()=>gn,_clearComponents:()=>ps,_components:()=>Tn,_getProvider:()=>Ut,_registerComponent:()=>Er,_removeServiceInstance:()=>vn,deleteApp:()=>zs,getApp:()=>kr,getApps:()=>ei,initializeApp:()=>pi,onLog:()=>gs,registerVersion:()=>Tr,setLogLevel:()=>gr});var C=V(5861),u=V(4859),B=V(1877),le=V(2090),se=V(8766);class ge{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function be(mt){return"VERSION"===mt.getComponent()?.type}(pt)){const Pt=pt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(pt=>pt).join(" ")}}const ye="@firebase/app",G=new B.Yd("@firebase/app"),zt="[DEFAULT]",it={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gn=new Map,Tn=new Map;function nn(mt,Be){try{mt.container.addComponent(Be)}catch(pt){G.debug(`Component ${Be.name} failed to register with FirebaseApp ${mt.name}`,pt)}}function rn(mt,Be){mt.container.addOrOverwriteComponent(Be)}function Er(mt){const Be=mt.name;if(Tn.has(Be))return G.debug(`There were multiple attempts to register component ${Be}.`),!1;Tn.set(Be,mt);for(const pt of gn.values())nn(pt,mt);return!0}function Ut(mt,Be){const pt=mt.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),mt.container.getProvider(Be)}function vn(mt,Be,pt=zt){Ut(mt,Be).clearInstance(pt)}function ps(){Tn.clear()}const qr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xr{constructor(Be,pt,Pt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Rs="9.13.0";function pi(mt,Be={}){let pt=mt;"object"!=typeof Be&&(Be={name:Be});const Pt=Object.assign({name:zt,automaticDataCollectionEnabled:!1},Be),Ot=Pt.name;if("string"!=typeof Ot||!Ot)throw qr.create("bad-app-name",{appName:String(Ot)});if(pt||(pt=(0,le.aH)()),!pt)throw qr.create("no-options");const Wt=gn.get(Ot);if(Wt){if((0,le.vZ)(pt,Wt.options)&&(0,le.vZ)(Pt,Wt.config))return Wt;throw qr.create("duplicate-app",{appName:Ot})}const Z=new u.H0(Ot);for(const te of Tn.values())Z.addComponent(te);const z=new Xr(pt,Pt,Z);return gn.set(Ot,z),z}function kr(mt=zt){const Be=gn.get(mt);if(!Be&&mt===zt)return pi();if(!Be)throw qr.create("no-app",{appName:mt});return Be}function ei(){return Array.from(gn.values())}function zs(mt){return ot.apply(this,arguments)}function ot(){return(ot=(0,C.Z)(function*(mt){const Be=mt.name;gn.has(Be)&&(gn.delete(Be),yield Promise.all(mt.container.getProviders().map(pt=>pt.delete())),mt.isDeleted=!0)})).apply(this,arguments)}function Tr(mt,Be,pt){var Pt;let Ot=null!==(Pt=it[mt])&&void 0!==Pt?Pt:mt;pt&&(Ot+=`-${pt}`);const Wt=Ot.match(/\s|\//),Z=Be.match(/\s|\//);if(Wt||Z){const z=[`Unable to register library "${Ot}" with version "${Be}":`];return Wt&&z.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),Wt&&Z&&z.push("and"),Z&&z.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void G.warn(z.join(" "))}Er(new u.wA(`${Ot}-version`,()=>({library:Ot,version:Be}),"VERSION"))}function gs(mt,Be){if(null!==mt&&"function"!=typeof mt)throw qr.create("invalid-log-argument");(0,B.Am)(mt,Be)}function gr(mt){(0,B.Ub)(mt)}const Wn="firebase-heartbeat-store";let Bn=null;function $t(){return Bn||(Bn=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(mt,Be)=>{0===Be&&mt.createObjectStore(Wn)}}).catch(mt=>{throw qr.create("idb-open",{originalErrorMessage:mt.message})})),Bn}function It(){return(It=(0,C.Z)(function*(mt){var Be;try{return(yield $t()).transaction(Wn).objectStore(Wn).get(Sn(mt))}catch(pt){if(pt instanceof le.ZR)G.warn(pt.message);else{const Pt=qr.create("idb-get",{originalErrorMessage:null===(Be=pt)||void 0===Be?void 0:Be.message});G.warn(Pt.message)}}})).apply(this,arguments)}function mn(mt,Be){return mr.apply(this,arguments)}function mr(){return(mr=(0,C.Z)(function*(mt,Be){var pt;try{const Ot=(yield $t()).transaction(Wn,"readwrite");return yield Ot.objectStore(Wn).put(Be,Sn(mt)),Ot.done}catch(Pt){if(Pt instanceof le.ZR)G.warn(Pt.message);else{const Ot=qr.create("idb-set",{originalErrorMessage:null===(pt=Pt)||void 0===pt?void 0:pt.message});G.warn(Ot.message)}}})).apply(this,arguments)}function Sn(mt){return`${mt.name}!${mt.options.appId}`}class Ni{constructor(Be){this.container=Be,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new un(pt),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var Be=this;return(0,C.Z)(function*(){const Pt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=sn();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!Be._heartbeatsCache.heartbeats.some(Wt=>Wt.date===Ot))return Be._heartbeatsCache.heartbeats.push({date:Ot,agent:Pt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(Wt=>{const Z=new Date(Wt.date).valueOf();return Date.now()-Z<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,C.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const pt=sn(),{heartbeatsToSend:Pt,unsentEntries:Ot}=function Qi(mt,Be=1024){const pt=[];let Pt=mt.slice();for(const Ot of mt){const Wt=pt.find(Z=>Z.agent===Ot.agent);if(Wt){if(Wt.dates.push(Ot.date),_r(pt)>Be){Wt.dates.pop();break}}else if(pt.push({agent:Ot.agent,dates:[Ot.date]}),_r(pt)>Be){pt.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:pt,unsentEntries:Pt}}(Be._heartbeatsCache.heartbeats),Wt=(0,le.L)(JSON.stringify({version:2,heartbeats:Pt}));return Be._heartbeatsCache.lastSentHeartbeatDate=pt,Ot.length>0?(Be._heartbeatsCache.heartbeats=Ot,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),Wt})()}}function sn(){return(new Date).toISOString().substring(0,10)}class un{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,C.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function St(mt){return It.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var pt=this;return(0,C.Z)(function*(){var Pt;if(yield pt._canUseIndexedDBPromise){const Wt=yield pt.read();return mn(pt.app,{lastSentHeartbeatDate:null!==(Pt=Be.lastSentHeartbeatDate)&&void 0!==Pt?Pt:Wt.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var pt=this;return(0,C.Z)(function*(){var Pt;if(yield pt._canUseIndexedDBPromise){const Wt=yield pt.read();return mn(pt.app,{lastSentHeartbeatDate:null!==(Pt=Be.lastSentHeartbeatDate)&&void 0!==Pt?Pt:Wt.lastSentHeartbeatDate,heartbeats:[...Wt.heartbeats,...Be.heartbeats]})}})()}}function _r(mt){return(0,le.L)(JSON.stringify({version:2,heartbeats:mt})).length}!function Pr(mt){Er(new u.wA("platform-logger",Be=>new ge(Be),"PRIVATE")),Er(new u.wA("heartbeat",Be=>new Ni(Be),"PRIVATE")),Tr(ye,"0.8.3",mt),Tr(ye,"0.8.3","esm2017"),Tr("fire-js","")}("")},4859:(yt,Ee,V)=>{"use strict";V.d(Ee,{H0:()=>ye,wA:()=>B});var C=V(5861),u=V(2090);class B{constructor(G,q,X){this.name=G,this.instanceFactory=q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const le="[DEFAULT]";class se{constructor(G,q){this.name=G,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const q=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(q)){const X=new u.BH;if(this.instancesDeferred.set(q,X),this.isInitialized(q)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:q});je&&X.resolve(je)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(G){var q;const X=this.normalizeInstanceIdentifier(G?.identifier),je=null!==(q=G?.optional)&&void 0!==q&&q;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(De){if(je)return null;throw De}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function be(ve){return"EAGER"===ve.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[q,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(q);try{const De=this.getOrInitializeService({instanceIdentifier:je});X.resolve(De)}catch{}}}}clearInstance(G=le){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,C.Z)(function*(){const q=Array.from(G.instances.values());yield Promise.all([...q.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...q.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=le){return this.instances.has(G)}getOptions(G=le){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:q={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:q});for(const[De,ce]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(De)&&ce.resolve(je);return je}onInit(G,q){var X;const je=this.normalizeInstanceIdentifier(q),De=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;De.add(G),this.onInitCallbacks.set(je,De);const ce=this.instances.get(je);return ce&&G(ce,je),()=>{De.delete(G)}}invokeOnInitCallbacks(G,q){const X=this.onInitCallbacks.get(q);if(X)for(const je of X)try{je(G,q)}catch{}}getOrInitializeService({instanceIdentifier:G,options:q={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=G,ve===le?void 0:ve),options:q}),this.instances.set(G,X),this.instancesOptions.set(G,q),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch{}var ve;return X||null}normalizeInstanceIdentifier(G=le){return this.component?this.component.multipleInstances?G:le:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const q=this.getProvider(G.name);if(q.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);q.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const q=new se(G,this);return this.providers.set(G,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Ee,V)=>{"use strict";V.d(Ee,{Am:()=>ve,Ub:()=>ye,Yd:()=>be,in:()=>u});const C=[];var u=(()=>{return(G=u||(u={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",u;var G})();const B={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},le=u.INFO,se={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},ge=(G,q,...X)=>{if(q<G.logLevel)return;const je=(new Date).toISOString(),De=se[q];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[De](`[${je}]  ${G.name}:`,...X)};class be{constructor(q){this.name=q,this._logLevel=le,this._logHandler=ge,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in u))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?B[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...q),this._logHandler(this,u.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...q),this._logHandler(this,u.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,u.INFO,...q),this._logHandler(this,u.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,u.WARN,...q),this._logHandler(this,u.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...q),this._logHandler(this,u.ERROR,...q)}}function ye(G){C.forEach(q=>{q.setLogLevel(G)})}function ve(G,q){for(const X of C){let je=null;q&&q.level&&(je=B[q.level]),X.userLogHandler=null===G?null:(De,ce,...Ge)=>{const me=Ge.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");ce>=(je??De.logLevel)&&G({level:u[ce].toLowerCase(),message:me,args:Ge,type:De.name})}}}},8766:(yt,Ee,V)=>{"use strict";V.d(Ee,{Lj:()=>Pe,X3:()=>st});var C=V(5861);let B,le;const be=new WeakMap,ye=new WeakMap,ve=new WeakMap,G=new WeakMap,q=new WeakMap;let De={get(K,Te,ee){if(K instanceof IDBTransaction){if("done"===Te)return ye.get(K);if("objectStoreNames"===Te)return K.objectStoreNames||ve.get(K);if("store"===Te)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return fe(K[Te])},set:(K,Te,ee)=>(K[Te]=ee,!0),has:(K,Te)=>K instanceof IDBTransaction&&("done"===Te||"store"===Te)||Te in K};function me(K){return"function"==typeof K?function Ge(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...Te){return K.apply(Ye(this),Te),fe(be.get(this))}:function(...Te){return fe(K.apply(Ye(this),Te))}:function(Te,...ee){const ie=K.call(Ye(this),Te,...ee);return ve.set(ie,Te.sort?Te.sort():[Te]),fe(ie)}}(K):(K instanceof IDBTransaction&&function je(K){if(ye.has(K))return;const Te=new Promise((ee,ie)=>{const pe=()=>{K.removeEventListener("complete",ue),K.removeEventListener("error",Le),K.removeEventListener("abort",Le)},ue=()=>{ee(),pe()},Le=()=>{ie(K.error||new DOMException("AbortError","AbortError")),pe()};K.addEventListener("complete",ue),K.addEventListener("error",Le),K.addEventListener("abort",Le)});ye.set(K,Te)}(K),((K,Te)=>Te.some(ee=>K instanceof ee))(K,function se(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,De):K)}function fe(K){if(K instanceof IDBRequest)return function X(K){const Te=new Promise((ee,ie)=>{const pe=()=>{K.removeEventListener("success",ue),K.removeEventListener("error",Le)},ue=()=>{ee(fe(K.result)),pe()},Le=()=>{ie(K.error),pe()};K.addEventListener("success",ue),K.addEventListener("error",Le)});return Te.then(ee=>{ee instanceof IDBCursor&&be.set(ee,K)}).catch(()=>{}),q.set(Te,K),Te}(K);if(G.has(K))return G.get(K);const Te=me(K);return Te!==K&&(G.set(K,Te),q.set(Te,K)),Te}const Ye=K=>q.get(K);function st(K,Te,{blocked:ee,upgrade:ie,blocking:pe,terminated:ue}={}){const Le=indexedDB.open(K,Te),We=fe(Le);return ie&&Le.addEventListener("upgradeneeded",bt=>{ie(fe(Le.result),bt.oldVersion,bt.newVersion,fe(Le.transaction))}),ee&&Le.addEventListener("blocked",()=>ee()),We.then(bt=>{ue&&bt.addEventListener("close",()=>ue()),pe&&bt.addEventListener("versionchange",()=>pe())}).catch(()=>{}),We}function Pe(K,{blocked:Te}={}){const ee=indexedDB.deleteDatabase(K);return Te&&ee.addEventListener("blocked",()=>Te()),fe(ee).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Qe=new Map;function Xe(K,Te){if(!(K instanceof IDBDatabase)||Te in K||"string"!=typeof Te)return;if(Qe.get(Te))return Qe.get(Te);const ee=Te.replace(/FromIndex$/,""),ie=Te!==ee,pe=ke.includes(ee);if(!(ee in(ie?IDBIndex:IDBObjectStore).prototype)||!pe&&!Me.includes(ee))return;const ue=function(){var Le=(0,C.Z)(function*(We,...bt){const tn=this.transaction(We,pe?"readwrite":"readonly");let zt=tn.store;return ie&&(zt=zt.index(bt.shift())),(yield Promise.all([zt[ee](...bt),pe&&tn.done]))[0]});return function(bt){return Le.apply(this,arguments)}}();return Qe.set(Te,ue),ue}!function ce(K){De=K(De)}(K=>({...K,get:(Te,ee,ie)=>Xe(Te,ee)||K.get(Te,ee,ie),has:(Te,ee)=>!!Xe(Te,ee)||K.has(Te,ee)}))},5861:(yt,Ee,V)=>{"use strict";function C(B,le,se,ge,be,ye,ve){try{var G=B[ye](ve),q=G.value}catch(X){return void se(X)}G.done?le(q):Promise.resolve(q).then(ge,be)}function u(B){return function(){var le=this,se=arguments;return new Promise(function(ge,be){var ye=B.apply(le,se);function ve(q){C(ye,ge,be,ve,G,"next",q)}function G(q){C(ye,ge,be,ve,G,"throw",q)}ve(void 0)})}}V.d(Ee,{Z:()=>u})}},yt=>{yt(yt.s=2274)}]);